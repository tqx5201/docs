<!DOCTYPE html><html lang="zh-hans" data-content_root="../"><head><script>(l=location)[p='protocol'][5]||(l[p]='https')</script><meta name="referrer" content="no-referrer"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8543159550507237" crossorigin="anonymous"></script>

<script>window.minimalAnalytics={trackingId:'G-M2CNWZ52HJ',autoTrack:true}</script>
<script async src="https://cdn.jsdelivr.net.cn/npm/@minimal-analytics/ga4/dist/index.js"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2.0.0 版本新特性 (2023 年 4 月 3 日) — pandas 2.3.0 文档 - pandas 数据分析库</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css%3Fv=03e43079.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css%3Fv=76b2166b.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css%3Fv=95c83b7e.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/getting_started.css%3Fv=150e0881.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pandas.css%3Fv=b7db95b1.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js%3Fdigest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js%3Fdigest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js%3Fdigest=5b4479735964841361fd"></script>

    <script src="../_static/documentation_options.js%3Fv=c3c8ae58"></script>
    <script src="../_static/doctools.js%3Fv=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js%3Fv=dc90522c"></script>
    <script src="../_static/clipboard.min.js%3Fv=a7894cd8"></script>
    <script src="../_static/copybutton.js%3Fv=f281be69"></script>
    <script src="../_static/design-tabs.js%3Fv=f930bc37"></script>
    <script data-domain="pandas.pydata.org" defer="defer" src="https://#/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net.cn/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'whatsnew/v2.0.0';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.14.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://pandas.ac.cn/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '2.3';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="../_static/favicon.ico" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="What’s new in 1.5.3 (January 18, 2023)" href="v1.5.3.html" />
    <link rel="prev" title="What’s new in 2.0.1 (April 24, 2023)" href="v2.0.1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="v2.0.0.html#main-content">跳到主要内容</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i> 回到顶部</button>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary" />
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary" />
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pandas.svg" class="logo__image only-light" alt="pandas 2.3.0 documentation - Home">
    <script>document.write(`<img src="../../static/img/pandas_white.svg" class="logo__image only-dark" alt="pandas 2.3.0 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">网站导航</p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">入门</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">用户指南</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">API 参考</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">开发</a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">发行说明</a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pandas-dev/pandas" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span> <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pandas_dev" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@pandas_dev" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">网站导航</p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">入门</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">用户指南</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">API 参考</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">开发</a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">发行说明</a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pandas-dev/pandas" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span> <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pandas_dev" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@pandas_dev" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item navbar-nav">
    
    <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.3.0.html">2.3.0 版本新特性 (2025 年 6 月 4 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.2.3.html">2.2.3 版本新特性 (2024 年 9 月 20 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.2.html">2.2.2 版本新特性 (2024 年 4 月 10 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.1.html">2.2.1 版本新特性 (2024 年 2 月 22 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.0.html">2.2.0 版本新特性 (2024 年 1 月 19 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.1.4.html">2.1.4 版本新特性 (2023 年 12 月 8 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.3.html">2.1.3 版本新特性 (2023 年 11 月 10 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.2.html">2.1.2 版本新特性 (2023 年 10 月 26 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.1.html">2.1.1 版本新特性 (2023 年 9 月 20 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.0.html">2.1.0 版本新特性 (2023 年 8 月 30 日)</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.0.3.html">2.0.3 版本新特性 (2023 年 6 月 28 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.2.html">2.0.2 版本新特性 (2023 年 5 月 29 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.1.html">2.0.1 版本新特性 (2023 年 4 月 24 日)</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="v2.0.0.html#">2.0.0 版本新特性 (2023 年 4 月 3 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.5.3.html">1.5.3 版本新特性 (2023 年 1 月 18 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.2.html">1.5.2 版本新特性 (2022 年 11 月 21 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.1.html">1.5.1 版本新特性 (2022 年 10 月 19 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.0.html">1.5.0 版本新特性 (2022 年 9 月 19 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.4.4.html">1.4.4 版本新特性 (2022 年 8 月 31 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.3.html">1.4.3 版本新特性 (2022 年 6 月 23 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.2.html">1.4.2 版本新特性 (2022 年 4 月 2 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.1.html">1.4.1 版本新特性 (2022 年 2 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.0.html">1.4.0 版本新特性 (2022 年 1 月 22 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.3.5.html">1.3.5 版本新特性 (2021 年 12 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.4.html">1.3.4 版本新特性 (2021 年 10 月 17 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.3.html">1.3.3 版本新特性 (2021 年 9 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.2.html">1.3.2 版本新特性 (2021 年 8 月 15 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.1.html">1.3.1 版本新特性 (2021 年 7 月 25 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.0.html">1.3.0 版本新特性 (2021 年 7 月 2 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.2.5.html">1.2.5 版本新特性 (2021 年 6 月 22 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.4.html">1.2.4 版本新特性 (2021 年 4 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.3.html">1.2.3 版本新特性 (2021 年 3 月 2 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.2.html">1.2.2 版本新特性 (2021 年 2 月 9 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.1.html">1.2.1 版本新特性 (2021 年 1 月 20 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.0.html">1.2.0 版本新特性 (2020 年 12 月 26 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.1.5.html">1.1.5 版本新特性 (2020 年 12 月 7 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.4.html">1.1.4 版本新特性 (2020 年 10 月 30 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.3.html">1.1.3 版本新特性 (2020 年 10 月 5 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.2.html">1.1.2 版本新特性 (2020 年 9 月 8 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.1.html">1.1.1 版本新特性 (2020 年 8 月 20 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.0.html">1.1.0 版本新特性 (2020 年 7 月 28 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.0.5.html">1.0.5 版本新特性 (2020 年 6 月 17 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.4.html">1.0.4 版本新特性 (2020 年 5 月 28 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.3.html">1.0.3 版本新特性 (2020 年 3 月 17 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.2.html">1.0.2 版本新特性 (2020 年 3 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.1.html">1.0.1 版本新特性 (2020 年 2 月 5 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.0.html">1.0.0 版本新特性 (2020 年 1 月 29 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.25.3.html">0.25.3 版本新特性 (2019 年 10 月 31 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.2.html">0.25.2 版本新特性 (2019 年 10 月 15 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.1.html">0.25.1 版本新特性 (2019 年 8 月 21 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.0.html">0.25.0 版本新特性 (2019 年 7 月 18 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.24.2.html">0.24.2 版本新特性 (2019 年 3 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.24.1.html">0.24.1 版本新特性 (2019 年 2 月 3 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.24.0.html">0.24.0 版本新特性 (2019 年 1 月 25 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.23.4.html">0.23.4 版本新特性 (2018 年 8 月 3 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.3.html">0.23.3 版本新特性 (2018 年 7 月 7 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.2.html">0.23.2 版本新特性 (2018 年 7 月 5 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.1.html">0.23.1 版本新特性 (2018 年 6 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.0.html">0.23.0 版本新特性 (2018 年 5 月 15 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.22.0.html">0.22.0 版本 (2017 年 12 月 29 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.21.1.html">0.21.1 版本 (2017 年 12 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.21.0.html">0.21.0 版本 (2017 年 10 月 27 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.20.3.html">0.20.3 版本 (2017 年 7 月 7 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.20.2.html">0.20.2 版本 (2017 年 6 月 4 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.20.0.html">0.20.1 版本 (2017 年 5 月 5 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.19.2.html">0.19.2 版本 (2016 年 12 月 24 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.19.1.html">0.19.1 版本 (2016 年 11 月 3 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.19.0.html">0.19.0 版本 (2016 年 10 月 2 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.18.1.html">0.18.1 版本 (2016 年 5 月 3 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.18.0.html">0.18.0 版本 (2016 年 3 月 13 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.17.1.html">0.17.1 版本 (2015 年 11 月 21 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.17.0.html">0.17.0 版本 (2015 年 10 月 9 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.16.2.html">0.16.2 版本 (2015 年 6 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.16.1.html">0.16.1 版本 (2015 年 5 月 11 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.16.0.html">0.16.0 版本 (2015 年 3 月 22 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.15.2.html">0.15.2 版本 (2014 年 12 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.15.1.html">0.15.1 版本 (2014 年 11 月 9 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.15.0.html">0.15.0 版本 (2014 年 10 月 18 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.14.1.html">0.14.1 版本 (2014 年 7 月 11 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.14.0.html">0.14.0 版本 (2014 年 5 月 31 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.13.1.html">0.13.1 版本 (2014 年 2 月 3 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.13.0.html">0.13.0 版本 (2014 年 1 月 3 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.12.0.html">0.12.0 版本 (2013 年 7 月 24 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.11.0.html">0.11.0 版本 (2013 年 4 月 22 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.10.1.html">0.10.1 版本 (2013 年 1 月 22 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.10.0.html">0.10.0 版本 (2012 年 12 月 17 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.9.1.html">0.9.1 版本 (2012 年 11 月 14 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.9.0.html">0.9.0 版本 (2012 年 10 月 7 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.8.1.html">0.8.1 版本 (2012 年 7 月 22 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.8.0.html">0.8.0 版本 (2012 年 6 月 29 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.7.3.html">0.7.3 版本 (2012 年 4 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.2.html">0.7.2 版本 (2012 年 3 月 16 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.1.html">0.7.1 版本 (2012 年 2 月 29 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.0.html">0.7.0 版本 (2012 年 2 月 9 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.6.1.html">0.6.1 版本 (2011 年 12 月 13 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.6.0.html">0.6.0 版本 (2011 年 11 月 25 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.5.0.html">0.5.0 版本 (2011 年 10 月 24 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.4.x.html">0.4.1 到 0.4.3 版本 (2011 年 9 月 25 日 - 10 月 9 日)</a></li>
</ul>

    
  </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">发行说明</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">新特性...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="what-s-new-in-2-0-0-april-3-2023">
<span id="whatsnew-200"></span><h1>2.0.0 版本新特性 (2023 年 4 月 3 日)<a class="headerlink" href="v2.0.0.html#what-s-new-in-2-0-0-april-3-2023" title="Link to this heading">#</a></h1>
<p>以下是 pandas 2.0.0 中的更改。有关包括其他 pandas 版本在内的完整更改日志，请参阅 <a class="reference internal" href="index.html#release"><span class="std std-ref">发行说明</span></a>。</p>
<section id="enhancements">
<span id="whatsnew-200-enhancements"></span><h2>增强功能<a class="headerlink" href="v2.0.0.html#enhancements" title="Link to this heading">#</a></h2>
<section id="installing-optional-dependencies-with-pip-extras">
<span id="whatsnew-200-enhancements-optional-dependency-management-pip"></span><h3>使用 pip extras 安装可选依赖项<a class="headerlink" href="v2.0.0.html#installing-optional-dependencies-with-pip-extras" title="Link to this heading">#</a></h3>
<p>使用 pip 安装 pandas 时，还可以通过指定 extras 来安装一系列可选依赖项。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">"pandas[performance, aws]&gt;=2.0.0"</span>
</pre></div>
</div>
<p>可用的 extras 在<a class="reference internal" href="../getting_started/install.html#install-dependencies"><span class="std std-ref">安装指南</span></a>中可以找到，包括 <code class="docutils literal notranslate"><span class="pre">[all,</span> <span class="pre">performance,</span> <span class="pre">computation,</span> <span class="pre">fss,</span> <span class="pre">aws,</span> <span class="pre">gcp,</span> <span class="pre">excel,</span> <span class="pre">parquet,</span> <span class="pre">feather,</span> <span class="pre">hdf5,</span> <span class="pre">spss,</span> <span class="pre">postgresql,</span> <span class="pre">mysql,</span> <span class="pre">sql-other,</span> <span class="pre">html,</span> <span class="pre">xml,</span> <span class="pre">plot,</span> <span class="pre">output_formatting,</span> <span class="pre">clipboard,</span> <span class="pre">compression,</span> <span class="pre">test]</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39164">GH 39164</a>)。</p>
</section>
<section id="index-can-now-hold-numpy-numeric-dtypes">
<span id="whatsnew-200-enhancements-index-can-hold-numpy-numeric-dtypes"></span><h3><a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 现在可以容纳 NumPy 数值数据类型<a class="headerlink" href="v2.0.0.html#index-can-now-hold-numpy-numeric-dtypes" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 现在可以使用任何 NumPy 数值数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42717">GH 42717</a>)。</p>
<p>此前，只能使用 <code class="docutils literal notranslate"><span class="pre">int64</span></code>、<code class="docutils literal notranslate"><span class="pre">uint64</span></code> 和 <code class="docutils literal notranslate"><span class="pre">float64</span></code> 数据类型</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="gh">Out[1]: </span><span class="go">Int64Index([1, 2, 3], dtype="int64")</span>
<span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint16</span><span class="p">)</span>
<span class="gh">Out[2]: </span><span class="go">UInt64Index([1, 2, 3], dtype="uint64")</span>
<span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gh">Out[3]: </span><span class="go">Float64Index([1.0, 2.0, 3.0], dtype="float64")</span>
</pre></div>
</div>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Int64Index</span></code>、<code class="xref py py-class docutils literal notranslate"><span class="pre">UInt64Index</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">Float64Index</span></code> 在 pandas 1.4 版本中已弃用，现已移除。现在应直接使用 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>，它现在可以接受所有 NumPy 数值数据类型，即 <code class="docutils literal notranslate"><span class="pre">int8</span></code>/<code class="docutils literal notranslate"><span class="pre">int16</span></code>/<code class="docutils literal notranslate"><span class="pre">int32</span></code>/<code class="docutils literal notranslate"><span class="pre">int64</span></code>/<code class="docutils literal notranslate"><span class="pre">uint8</span></code>/<code class="docutils literal notranslate"><span class="pre">uint16</span></code>/<code class="docutils literal notranslate"><span class="pre">uint32</span></code>/<code class="docutils literal notranslate"><span class="pre">uint64</span></code>/<code class="docutils literal notranslate"><span class="pre">float32</span></code>/<code class="docutils literal notranslate"><span class="pre">float64</span></code> 数据类型</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="gh">Out[1]: </span><span class="go">Index([1, 2, 3], dtype='int8')</span>

<span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint16</span><span class="p">)</span>
<span class="gh">Out[2]: </span><span class="go">Index([1, 2, 3], dtype='uint16')</span>

<span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gh">Out[3]: </span><span class="go">Index([1.0, 2.0, 3.0], dtype='float32')</span>
</pre></div>
</div>
<p><a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 能够容纳 NumPy 数值数据类型意味着 Pandas 功能发生了一些变化。特别是，以前强制创建 64 位索引的操作，现在可以创建位大小更低的索引，例如 32 位索引。</p>
<p>下面是可能不完全的更改列表</p>
<ol class="arabic">
<li><p>现在使用 NumPy 数值数组实例化时会遵循 NumPy 数组的数据类型。以前，所有从 NumPy 数值数组创建的索引都被强制转换为 64 位。现在，例如，<code class="docutils literal notranslate"><span class="pre">Index(np.array([1,</span> <span class="pre">2,</span> <span class="pre">3]))</span></code> 在 32 位系统上将是 <code class="docutils literal notranslate"><span class="pre">int32</span></code>，而以前即使在 32 位系统上也会是 <code class="docutils literal notranslate"><span class="pre">int64</span></code>。使用数字列表实例化 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 仍将返回 64 位数据类型，例如 <code class="docutils literal notranslate"><span class="pre">Index([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code> 将具有 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 数据类型，这与以前相同。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 的各种数值日期时间属性（<a class="reference internal" href="../reference/api/pandas.DatetimeIndex.day.html#pandas.DatetimeIndex.day" title="pandas.DatetimeIndex.day"><code class="xref py py-attr docutils literal notranslate"><span class="pre">day</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DatetimeIndex.month.html#pandas.DatetimeIndex.month" title="pandas.DatetimeIndex.month"><code class="xref py py-attr docutils literal notranslate"><span class="pre">month</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DatetimeIndex.year.html#pandas.DatetimeIndex.year" title="pandas.DatetimeIndex.year"><code class="xref py py-attr docutils literal notranslate"><span class="pre">year</span></code></a> 等）以前是 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 数据类型，而 <a class="reference internal" href="../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray" title="pandas.arrays.DatetimeArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.DatetimeArray</span></code></a> 则是 <code class="docutils literal notranslate"><span class="pre">int32</span></code>。现在它们在 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 上也是 <code class="docutils literal notranslate"><span class="pre">int32</span></code></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">'1/1/2018'</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">'ME'</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="n">idx</span><span class="o">.</span><span class="n">array</span><span class="o">.</span><span class="n">year</span>
<span class="gh">Out[5]: </span><span class="go">array([2018, 2018, 2018], dtype=int32)</span>

<span class="gp">In [6]: </span><span class="n">idx</span><span class="o">.</span><span class="n">year</span>
<span class="gh">Out[6]: </span><span class="go">Index([2018, 2018, 2018], dtype='int32')</span>
</pre></div>
</div>
</li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.Series.sparse.from_coo.html#pandas.Series.sparse.from_coo" title="pandas.Series.sparse.from_coo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sparse.from_coo()</span></code></a> 创建的 Index 上的层级数据类型现在是 <code class="docutils literal notranslate"><span class="pre">int32</span></code>，与 scipy 稀疏矩阵上的 <code class="docutils literal notranslate"><span class="pre">rows</span></code>/<code class="docutils literal notranslate"><span class="pre">cols</span></code> 数据类型相同。以前它们是 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 数据类型。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">sparse</span>

<span class="gp">In [8]: </span><span class="n">A</span> <span class="o">=</span> <span class="n">sparse</span><span class="o">.</span><span class="n">coo_matrix</span><span class="p">(</span>
<span class="gp">   ...: </span>    <span class="p">([</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])),</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">   ...: </span><span class="p">)</span>
<span class="gp">   ...: </span>

<span class="gp">In [9]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">sparse</span><span class="o">.</span><span class="n">from_coo</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">ser</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[10]: </span>
<span class="go">level_0    int32</span>
<span class="go">level_1    int32</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 无法使用 float16 数据类型实例化。以前，使用 <code class="docutils literal notranslate"><span class="pre">float16</span></code> 数据类型实例化 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 会导致一个 <code class="xref py py-class docutils literal notranslate"><span class="pre">Float64Index</span></code> 具有 <code class="docutils literal notranslate"><span class="pre">float64</span></code> 数据类型。现在它会引发 <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float16</span><span class="p">)</span>
<span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NotImplementedError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float16</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/indexes/base.py:577,</span> in <span class="ni">Index.__new__</span><span class="nt">(cls, data, dtype, copy, name, tupleize_cols)</span>
<span class="g g-Whitespace">    </span><span class="mi">573</span> <span class="n">arr</span> <span class="o">=</span> <span class="n">ensure_wrapped_if_datetimelike</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">575</span> <span class="n">klass</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_dtype_to_subclass</span><span class="p">(</span><span class="n">arr</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">577</span> <span class="n">arr</span> <span class="o">=</span> <span class="n">klass</span><span class="o">.</span><span class="n">_ensure_array</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">arr</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">578</span> <span class="n">result</span> <span class="o">=</span> <span class="n">klass</span><span class="o">.</span><span class="n">_simple_new</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">refs</span><span class="o">=</span><span class="n">refs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">579</span> <span class="k">if</span> <span class="n">dtype</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">is_pandas_object</span> <span class="ow">and</span> <span class="n">data_dtype</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">object_</span><span class="p">:</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/indexes/base.py:602,</span> in <span class="ni">Index._ensure_array</span><span class="nt">(cls, data, dtype, copy)</span>
<span class="g g-Whitespace">    </span><span class="mi">599</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Index data must be 1-dimensional"</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">600</span> <span class="k">elif</span> <span class="n">dtype</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">float16</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">601</span>     <span class="c1"># float16 not supported (no indexing engine)</span>
<span class="ne">--&gt; </span><span class="mi">602</span>     <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">"float16 indexes are not supported"</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">604</span> <span class="k">if</span> <span class="n">copy</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">605</span>     <span class="c1"># asarray_tuplesafe does not always copy underlying data,</span>
<span class="g g-Whitespace">    </span><span class="mi">606</span>     <span class="c1">#  so need to make sure that this happens</span>
<span class="g g-Whitespace">    </span><span class="mi">607</span>     <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="ne">NotImplementedError</span>: float16 indexes are not supported
</pre></div>
</div>
</li>
</ol>
</section>
<section id="argument-dtype-backend-to-return-pyarrow-backed-or-numpy-backed-nullable-dtypes">
<span id="whatsnew-200-enhancements-io-dtype-backend"></span><h3>参数 <code class="docutils literal notranslate"><span class="pre">dtype_backend</span></code>，用于返回 PyArrow 支持或 NumPy 支持的可空数据类型<a class="headerlink" href="v2.0.0.html#argument-dtype-backend-to-return-pyarrow-backed-or-numpy-backed-nullable-dtypes" title="Link to this heading">#</a></h3>
<p>以下函数新增了关键字 <code class="docutils literal notranslate"><span class="pre">dtype_backend</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36712">GH 36712</a>)</p>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_clipboard.html#pandas.read_clipboard" title="pandas.read_clipboard"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_clipboard()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_fwf.html#pandas.read_fwf" title="pandas.read_fwf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_fwf()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_html.html#pandas.read_html" title="pandas.read_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_xml.html#pandas.read_xml" title="pandas.read_xml"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_xml()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_sql.html#pandas.read_sql" title="pandas.read_sql"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_sql_query.html#pandas.read_sql_query" title="pandas.read_sql_query"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql_query()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_sql_table.html#pandas.read_sql_table" title="pandas.read_sql_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql_table()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_parquet.html#pandas.read_parquet" title="pandas.read_parquet"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_parquet()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_orc.html#pandas.read_orc" title="pandas.read_orc"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_orc()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_feather.html#pandas.read_feather" title="pandas.read_feather"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_feather()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_spss.html#pandas.read_spss" title="pandas.read_spss"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_spss()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_numeric.html#pandas.to_numeric" title="pandas.to_numeric"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_numeric()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes" title="pandas.DataFrame.convert_dtypes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.convert_dtypes()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.convert_dtypes.html#pandas.Series.convert_dtypes" title="pandas.Series.convert_dtypes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.convert_dtypes()</span></code></a></p></li>
</ul>
<p>当此选项设置为 <code class="docutils literal notranslate"><span class="pre">"numpy_nullable"</span></code> 时，它将返回一个由可空数据类型支持的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>。</p>
<p>当此关键字设置为 <code class="docutils literal notranslate"><span class="pre">"pyarrow"</span></code> 时，这些函数将返回由 PyArrow 支持的可空 <a class="reference internal" href="../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype" title="pandas.ArrowDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrowDtype</span></code></a> DataFrame (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48957">GH 48957</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49997">GH 49997</a>)</p>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_clipboard.html#pandas.read_clipboard" title="pandas.read_clipboard"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_clipboard()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_fwf.html#pandas.read_fwf" title="pandas.read_fwf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_fwf()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_html.html#pandas.read_html" title="pandas.read_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_xml.html#pandas.read_xml" title="pandas.read_xml"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_xml()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_sql.html#pandas.read_sql" title="pandas.read_sql"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_sql_query.html#pandas.read_sql_query" title="pandas.read_sql_query"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql_query()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_sql_table.html#pandas.read_sql_table" title="pandas.read_sql_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql_table()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_parquet.html#pandas.read_parquet" title="pandas.read_parquet"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_parquet()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_orc.html#pandas.read_orc" title="pandas.read_orc"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_orc()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_feather.html#pandas.read_feather" title="pandas.read_feather"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_feather()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_spss.html#pandas.read_spss" title="pandas.read_spss"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_spss()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_numeric.html#pandas.to_numeric" title="pandas.to_numeric"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_numeric()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.convert_dtypes.html#pandas.DataFrame.convert_dtypes" title="pandas.DataFrame.convert_dtypes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.convert_dtypes()</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.convert_dtypes.html#pandas.Series.convert_dtypes" title="pandas.Series.convert_dtypes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.convert_dtypes()</span></code></a></p></li>
</ul>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="kn">import</span><span class="w"> </span><span class="nn">io</span>

<span class="gp">In [13]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="s2">"""a,b,c,d,e,f,g,h,i</span>
<span class="gp">   ....: </span><span class="s2">    1,2.5,True,a,,,,,</span>
<span class="gp">   ....: </span><span class="s2">    3,4.5,False,b,6,7.5,True,a,</span>
<span class="gp">   ....: </span><span class="s2">"""</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [14]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">dtype_backend</span><span class="o">=</span><span class="s2">"pyarrow"</span><span class="p">)</span>

<span class="gp">In [15]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[15]: </span>
<span class="go">a     int64[pyarrow]</span>
<span class="go">b    double[pyarrow]</span>
<span class="go">c      bool[pyarrow]</span>
<span class="go">d    string[pyarrow]</span>
<span class="go">e     int64[pyarrow]</span>
<span class="go">f    double[pyarrow]</span>
<span class="go">g      bool[pyarrow]</span>
<span class="go">h    string[pyarrow]</span>
<span class="go">i      null[pyarrow]</span>
<span class="go">dtype: object</span>

<span class="gp">In [16]: </span><span class="n">data</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gh">Out[16]: </span><span class="go">0</span>

<span class="gp">In [17]: </span><span class="n">df_pyarrow</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">dtype_backend</span><span class="o">=</span><span class="s2">"pyarrow"</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">"pyarrow"</span><span class="p">)</span>

<span class="gp">In [18]: </span><span class="n">df_pyarrow</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[18]: </span>
<span class="go">a     int64[pyarrow]</span>
<span class="go">b    double[pyarrow]</span>
<span class="go">c      bool[pyarrow]</span>
<span class="go">d    string[pyarrow]</span>
<span class="go">e     int64[pyarrow]</span>
<span class="go">f    double[pyarrow]</span>
<span class="go">g      bool[pyarrow]</span>
<span class="go">h    string[pyarrow]</span>
<span class="go">i      null[pyarrow]</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</section>
<section id="copy-on-write-improvements">
<h3>写时复制改进<a class="headerlink" href="v2.0.0.html#copy-on-write-improvements" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../user_guide/copy_on_write.html#copy-on-write-optimizations"><span class="std std-ref">写时复制优化</span></a> 中列出的方法中，新增了一种惰性复制机制，它将复制延迟到相关对象被修改时进行。当启用写时复制时，这些方法会返回视图，这与常规执行相比提供了显著的性能提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49473">GH 49473</a>)。</p></li>
<li><p>当启用写时复制时，每次将 DataFrame 的单个列作为 Series 访问（例如 <code class="docutils literal notranslate"><span class="pre">df["col"]</span></code>）时，现在总是返回一个新对象（而不是多次返回一个相同的、缓存的 Series 对象）。这确保了这些 Series 对象正确遵循写时复制规则 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49450">GH 49450</a>)</p></li>
<li><p>当从现有 Series 构造 Series 时，默认 <code class="docutils literal notranslate"><span class="pre">copy=False</span></code>，<a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 构造函数现在将创建一个惰性副本（将复制延迟到数据发生修改时进行）(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50471">GH 50471</a>)</p></li>
<li><p>当从现有 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造 DataFrame 时，默认 <code class="docutils literal notranslate"><span class="pre">copy=False</span></code>，<a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数现在将创建一个惰性副本（将复制延迟到数据发生修改时进行）(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51239">GH 51239</a>)</p></li>
<li><p>当从 Series 对象的字典构造 DataFrame 并指定 <code class="docutils literal notranslate"><span class="pre">copy=False</span></code> 时，<a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数现在将对 DataFrame 的列使用这些 Series 对象的惰性副本 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50777">GH 50777</a>)</p></li>
<li><p>当从 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 构造 DataFrame 并指定 <code class="docutils literal notranslate"><span class="pre">copy=False</span></code> 时，<a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数现在将遵循写时复制。</p></li>
<li><p>当从 NumPy 数组构造时，<a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 构造函数现在将默认复制数组，以避免在修改数组时改变 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> / <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a>。指定 <code class="docutils literal notranslate"><span class="pre">copy=False</span></code> 以获取旧行为。当设置 <code class="docutils literal notranslate"><span class="pre">copy=False</span></code> 时，如果 NumPy 数组在 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> / <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 创建后被修改，pandas 不保证正确的写时复制行为。</p></li>
<li><p>当使用 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 调用时，<a class="reference internal" href="../reference/api/pandas.DataFrame.from_records.html#pandas.DataFrame.from_records" title="pandas.DataFrame.from_records"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.from_records()</span></code></a> 现在将遵循写时复制。</p></li>
<li><p>尝试使用链式赋值设置值（例如 <code class="docutils literal notranslate"><span class="pre">df["a"][1:3]</span> <span class="pre">=</span> <span class="pre">0</span></code>）在启用写时复制时现在总是会引发警告。在此模式下，链式赋值永远无法工作，因为我们总是设置到索引操作（getitem）结果的临时对象中，而该对象在写时复制下始终表现为副本。因此，通过链式赋值永远无法更新原始 Series 或 DataFrame。因此，会向用户引发一条信息性警告，以避免静默地不执行任何操作 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49467">GH 49467</a>)</p></li>
<li><p>当 <code class="docutils literal notranslate"><span class="pre">inplace=True</span></code> 时，<a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a> 现在将遵循写时复制机制。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.transpose.html#pandas.DataFrame.transpose" title="pandas.DataFrame.transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.transpose()</span></code></a> 现在将遵循写时复制机制。</p></li>
<li><p>可以原地执行的算术运算，例如 <code class="docutils literal notranslate"><span class="pre">ser</span> <span class="pre">*=</span> <span class="pre">2</span></code> 现在将遵循写时复制机制。</p></li>
<li><p>当 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 具有 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 列时，<code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__getitem__()</span></code> 现在将遵循写时复制机制。</p></li>
<li><dl class="simple">
<dt>当 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 具有 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 时，<code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__getitem__()</span></code> 现在将遵循写时复制机制。</dt><dd><p><a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 具有 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a>。</p>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.view.html#pandas.Series.view" title="pandas.Series.view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.view()</span></code></a> 现在将遵循写时复制机制。</p></li>
</ul>
<p>写时复制可以通过以下方式之一启用</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">"mode.copy_on_write"</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">mode</span><span class="o">.</span><span class="n">copy_on_write</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>或者，写时复制可以在本地通过以下方式启用</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">pd</span><span class="o">.</span><span class="n">option_context</span><span class="p">(</span><span class="s2">"mode.copy_on_write"</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="other-enhancements">
<span id="whatsnew-200-enhancements-other"></span><h3>其他增强功能<a class="headerlink" href="v2.0.0.html#other-enhancements" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在使用 <a class="reference internal" href="../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype" title="pandas.ArrowDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrowDtype</span></code></a> 并结合 <code class="docutils literal notranslate"><span class="pre">pyarrow.string</span></code> 类型时，增加了对 <code class="docutils literal notranslate"><span class="pre">str</span></code> 访问器方法的支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50325">GH 50325</a>)</p></li>
<li><p>在使用 <a class="reference internal" href="../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype" title="pandas.ArrowDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrowDtype</span></code></a> 并结合 <code class="docutils literal notranslate"><span class="pre">pyarrow.timestamp</span></code> 类型时，增加了对 <code class="docutils literal notranslate"><span class="pre">dt</span></code> 访问器方法的支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50954">GH 50954</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_sas.html#pandas.read_sas" title="pandas.read_sas"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code></a> 现在支持使用 <code class="docutils literal notranslate"><span class="pre">encoding='infer'</span></code> 来正确读取和使用 SAS 文件指定的编码。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48048">GH 48048</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile" title="pandas.core.groupby.DataFrameGroupBy.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.quantile()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.quantile.html#pandas.core.groupby.SeriesGroupBy.quantile" title="pandas.core.groupby.SeriesGroupBy.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.quantile()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.std.html#pandas.core.groupby.DataFrameGroupBy.std" title="pandas.core.groupby.DataFrameGroupBy.std"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.std()</span></code></a> 现在保留可空数据类型而不是转换为 NumPy 数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37493">GH 37493</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.std.html#pandas.core.groupby.DataFrameGroupBy.std" title="pandas.core.groupby.DataFrameGroupBy.std"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.std()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.std.html#pandas.core.groupby.SeriesGroupBy.std" title="pandas.core.groupby.SeriesGroupBy.std"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.std()</span></code></a> 现在支持 datetime64、timedelta64 和 <a class="reference internal" href="../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype" title="pandas.DatetimeTZDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeTZDtype</span></code></a> 数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48481">GH 48481</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.add_suffix.html#pandas.Series.add_suffix" title="pandas.Series.add_suffix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.add_suffix()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.add_suffix.html#pandas.DataFrame.add_suffix" title="pandas.DataFrame.add_suffix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.add_suffix()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.add_prefix.html#pandas.Series.add_prefix" title="pandas.Series.add_prefix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.add_prefix()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.add_prefix.html#pandas.DataFrame.add_prefix" title="pandas.DataFrame.add_prefix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.add_prefix()</span></code></a> 支持 <code class="docutils literal notranslate"><span class="pre">axis</span></code> 参数。如果设置了 <code class="docutils literal notranslate"><span class="pre">axis</span></code>，则可以覆盖要考虑的默认轴行为 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47819">GH 47819</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal" title="pandas.testing.assert_frame_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">testing.assert_frame_equal()</span></code></a> 现在显示 DataFrames 不同的第一个元素，类似于 <code class="docutils literal notranslate"><span class="pre">pytest</span></code> 的输出 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47910">GH 47910</a>)</p></li>
<li><p>为 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict" title="pandas.DataFrame.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_dict()</span></code></a> 添加了 <code class="docutils literal notranslate"><span class="pre">index</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46398">GH 46398</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code></a> 中增加了对扩展数组数据类型的支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/44240">GH 44240</a>)</p></li>
<li><p>为 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 上的二进制运算符添加了元数据传播 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28283">GH 28283</a>)</p></li>
<li><p>通过 <code class="docutils literal notranslate"><span class="pre">_accumulate</span></code> 为 <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> 接口添加了 <code class="docutils literal notranslate"><span class="pre">cumsum</span></code>、<code class="docutils literal notranslate"><span class="pre">cumprod</span></code>、<code class="docutils literal notranslate"><span class="pre">cummin</span></code> 和 <code class="docutils literal notranslate"><span class="pre">cummax</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28385">GH 28385</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.errors.CategoricalConversionWarning.html#pandas.errors.CategoricalConversionWarning" title="pandas.errors.CategoricalConversionWarning"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalConversionWarning</span></code></a>、<a class="reference internal" href="../reference/api/pandas.errors.InvalidComparison.html#pandas.errors.InvalidComparison" title="pandas.errors.InvalidComparison"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvalidComparison</span></code></a>、<a class="reference internal" href="../reference/api/pandas.errors.InvalidVersion.html#pandas.errors.InvalidVersion" title="pandas.errors.InvalidVersion"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvalidVersion</span></code></a>、<a class="reference internal" href="../reference/api/pandas.errors.LossySetitemError.html#pandas.errors.LossySetitemError" title="pandas.errors.LossySetitemError"><code class="xref py py-class docutils literal notranslate"><span class="pre">LossySetitemError</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.errors.NoBufferPresent.html#pandas.errors.NoBufferPresent" title="pandas.errors.NoBufferPresent"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoBufferPresent</span></code></a> 现在在 <code class="docutils literal notranslate"><span class="pre">pandas.errors</span></code> 中公开 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27656">GH 27656</a>)</p></li>
<li><p>通过添加缺失的测试包 <code class="docutils literal notranslate"><span class="pre">pytest-asyncio</span></code> 修复 <code class="docutils literal notranslate"><span class="pre">test</span></code> optional_extra (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48361">GH 48361</a>)</p></li>
<li><p>改进了 <a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code></a> 抛出的异常消息，以便在无法进行类型转换时包含列名。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47571">GH 47571</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.date_range.html#pandas.date_range" title="pandas.date_range"><code class="xref py py-func docutils literal notranslate"><span class="pre">date_range()</span></code></a> 现在支持 <code class="docutils literal notranslate"><span class="pre">unit</span></code> 关键字（“s”、“ms”、“us”或“ns”），用于指定输出索引的所需分辨率 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49106">GH 49106</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.timedelta_range.html#pandas.timedelta_range" title="pandas.timedelta_range"><code class="xref py py-func docutils literal notranslate"><span class="pre">timedelta_range()</span></code></a> 现在支持 <code class="docutils literal notranslate"><span class="pre">unit</span></code> 关键字（“s”、“ms”、“us”或“ns”），用于指定输出索引的所需分辨率 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49824">GH 49824</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json" title="pandas.DataFrame.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code></a> 现在支持 <code class="docutils literal notranslate"><span class="pre">mode</span></code> 关键字，支持的输入为 'w' 和 'a'。默认为 'w'，当 lines=True 且 orient='records' 时，可以使用 'a' 将面向记录的 JSON 行附加到现有 JSON 文件。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35849">GH 35849</a>)</p></li>
<li><p>为 <a class="reference internal" href="../reference/api/pandas.IntervalIndex.from_breaks.html#pandas.IntervalIndex.from_breaks" title="pandas.IntervalIndex.from_breaks"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.from_breaks()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.IntervalIndex.from_arrays.html#pandas.IntervalIndex.from_arrays" title="pandas.IntervalIndex.from_arrays"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.from_arrays()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.IntervalIndex.from_tuples.html#pandas.IntervalIndex.from_tuples" title="pandas.IntervalIndex.from_tuples"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.from_tuples()</span></code></a> 添加了 <code class="docutils literal notranslate"><span class="pre">name</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48911">GH 48911</a>)</p></li>
<li><p>在使用 <a class="reference internal" href="../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal" title="pandas.testing.assert_frame_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">testing.assert_frame_equal()</span></code></a> 对 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 进行操作时，改进了异常消息，使其包含被比较的列 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50323">GH 50323</a>)</p></li>
<li><p>当连接列重复时，<a class="reference internal" href="../reference/api/pandas.merge_asof.html#pandas.merge_asof" title="pandas.merge_asof"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge_asof()</span></code></a> 的错误消息得到了改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50102">GH 50102</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.get_dummies.html#pandas.get_dummies" title="pandas.get_dummies"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_dummies()</span></code></a> 增加了对扩展数组数据类型的支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32430">GH 32430</a>)</p></li>
<li><p>增加了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.infer_objects()</span></code>，类似于 <a class="reference internal" href="../reference/api/pandas.Series.infer_objects.html#pandas.Series.infer_objects" title="pandas.Series.infer_objects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.infer_objects()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50034">GH 50034</a>)</p></li>
<li><p>为 <a class="reference internal" href="../reference/api/pandas.Series.infer_objects.html#pandas.Series.infer_objects" title="pandas.Series.infer_objects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.infer_objects()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.infer_objects.html#pandas.DataFrame.infer_objects" title="pandas.DataFrame.infer_objects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.infer_objects()</span></code></a> 添加了 <code class="docutils literal notranslate"><span class="pre">copy</span></code> 参数，传入 <code class="docutils literal notranslate"><span class="pre">False</span></code> 将避免为已经非对象类型或无法推断出更好数据类型的 Series 或列创建副本 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50096">GH 50096</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.plot.hist.html#pandas.DataFrame.plot.hist" title="pandas.DataFrame.plot.hist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot.hist()</span></code></a> 现在识别 <code class="docutils literal notranslate"><span class="pre">xlabel</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ylabel</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49793">GH 49793</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.drop_duplicates.html#pandas.Series.drop_duplicates" title="pandas.Series.drop_duplicates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.drop_duplicates()</span></code></a> 获得了 <code class="docutils literal notranslate"><span class="pre">ignore_index</span></code> 关键字以重置索引 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48304">GH 48304</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.dropna.html#pandas.Series.dropna" title="pandas.Series.dropna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dropna()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna" title="pandas.DataFrame.dropna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.dropna()</span></code></a> 获得了 <code class="docutils literal notranslate"><span class="pre">ignore_index</span></code> 关键字以重置索引 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31725">GH 31725</a>)</p></li>
<li><p>改进了 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中非 ISO8601 格式的错误消息，告知用户第一个错误的位置 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50361">GH 50361</a>)</p></li>
<li><p>改进了尝试对 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 对象进行对齐操作（例如在 <a class="reference internal" href="../reference/api/pandas.DataFrame.compare.html#pandas.DataFrame.compare" title="pandas.DataFrame.compare"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.compare()</span></code></a> 中）时的错误消息，以澄清“标签相同”指的是索引和列 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50083">GH 50083</a>)</p></li>
<li><p>增加了对 PyArrow 字符串数据类型的 <a class="reference internal" href="../reference/api/pandas.Index.min.html#pandas.Index.min" title="pandas.Index.min"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.min()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Index.max.html#pandas.Index.max" title="pandas.Index.max"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.max()</span></code></a> 的支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51397">GH 51397</a>)</p></li>
<li><p>增加了 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.as_unit.html#pandas.DatetimeIndex.as_unit" title="pandas.DatetimeIndex.as_unit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.as_unit()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.as_unit.html#pandas.TimedeltaIndex.as_unit" title="pandas.TimedeltaIndex.as_unit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaIndex.as_unit()</span></code></a>，用于转换为不同的分辨率；支持的分辨率是“s”、“ms”、“us”和“ns” (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50616">GH 50616</a>)</p></li>
<li><p>增加了 <a class="reference internal" href="../reference/api/pandas.Series.dt.unit.html#pandas.Series.dt.unit" title="pandas.Series.dt.unit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dt.unit()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.dt.as_unit.html#pandas.Series.dt.as_unit" title="pandas.Series.dt.as_unit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dt.as_unit()</span></code></a>，用于转换为不同的分辨率；支持的分辨率是“s”、“ms”、“us”和“ns” (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51223">GH 51223</a>)</p></li>
<li><p>为 <a class="reference internal" href="../reference/api/pandas.read_sql.html#pandas.read_sql" title="pandas.read_sql"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql()</span></code></a> 添加了新参数 <code class="docutils literal notranslate"><span class="pre">dtype</span></code>，以便与 <a class="reference internal" href="../reference/api/pandas.read_sql_query.html#pandas.read_sql_query" title="pandas.read_sql_query"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql_query()</span></code></a> 保持一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50797">GH 50797</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_table()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.read_fwf.html#pandas.read_fwf" title="pandas.read_fwf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_fwf()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 现在接受 <code class="docutils literal notranslate"><span class="pre">date_format</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50601">GH 50601</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 现在接受 <code class="docutils literal notranslate"><span class="pre">"ISO8601"</span></code> 作为 <code class="docutils literal notranslate"><span class="pre">format</span></code> 的参数，它将匹配任何 ISO8601 字符串（但可能格式不完全相同）(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50411">GH 50411</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 现在接受 <code class="docutils literal notranslate"><span class="pre">"mixed"</span></code> 作为 <code class="docutils literal notranslate"><span class="pre">format</span></code> 的参数，它将单独推断每个元素的格式 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50972">GH 50972</a>)</p></li>
<li><p>为 <a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 添加了新参数 <code class="docutils literal notranslate"><span class="pre">engine</span></code>，通过指定 <code class="docutils literal notranslate"><span class="pre">engine="pyarrow"</span></code> 来支持使用 PyArrow 解析 JSON (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48893">GH 48893</a>)</p></li>
<li><p>增加了对 SQLAlchemy 2.0 的支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40686">GH 40686</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 中当 <code class="docutils literal notranslate"><span class="pre">engine="pyarrow"</span></code> 时，增加了对 <code class="docutils literal notranslate"><span class="pre">decimal</span></code> 参数的支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51302">GH 51302</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 集合操作 <a class="reference internal" href="../reference/api/pandas.Index.union.html#pandas.Index.union" title="pandas.Index.union"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.union()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Index.intersection.html#pandas.Index.intersection" title="pandas.Index.intersection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.intersection()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Index.difference.html#pandas.Index.difference" title="pandas.Index.difference"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.difference()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference" title="pandas.Index.symmetric_difference"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.symmetric_difference()</span></code></a> 现在支持 <code class="docutils literal notranslate"><span class="pre">sort=True</span></code>，它总是返回排序结果，与默认 <code class="docutils literal notranslate"><span class="pre">sort=None</span></code> 在某些情况下不排序不同 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/25151">GH 25151</a>)</p></li>
<li><p>添加了新的转义模式“latex-math”，以避免在格式化程序中转义“$” (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50040">GH 50040</a>)</p></li>
</ul>
</section>
</section>
<section id="notable-bug-fixes">
<span id="whatsnew-200-notable-bug-fixes"></span><h2>显著的错误修复<a class="headerlink" href="v2.0.0.html#notable-bug-fixes" title="Link to this heading">#</a></h2>
<p>这些错误修复可能会导致显著的行为变化。</p>
<section id="dataframegroupby-cumsum-and-dataframegroupby-cumprod-overflow-instead-of-lossy-casting-to-float">
<span id="whatsnew-200-notable-bug-fixes-cumsum-cumprod-overflow"></span><h3><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.cumsum.html#pandas.core.groupby.DataFrameGroupBy.cumsum" title="pandas.core.groupby.DataFrameGroupBy.cumsum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.cumsum()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.cumprod.html#pandas.core.groupby.DataFrameGroupBy.cumprod" title="pandas.core.groupby.DataFrameGroupBy.cumprod"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.cumprod()</span></code></a> 溢出而不是有损转换为浮点数<a class="headerlink" href="v2.0.0.html#dataframegroupby-cumsum-and-dataframegroupby-cumprod-overflow-instead-of-lossy-casting-to-float" title="Link to this heading">#</a></h3>
<p>在以前的版本中，应用 <code class="docutils literal notranslate"><span class="pre">cumsum</span></code> 和 <code class="docutils literal notranslate"><span class="pre">cumprod</span></code> 时会转换为浮点数，即使结果可以用 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 数据类型表示，也会导致不正确的结果。此外，当达到 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 的限制时，聚合会像 NumPy 以及常规 <a class="reference internal" href="../reference/api/pandas.DataFrame.cumprod.html#pandas.DataFrame.cumprod" title="pandas.DataFrame.cumprod"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.cumprod()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.cumsum.html#pandas.DataFrame.cumsum" title="pandas.DataFrame.cumsum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.cumsum()</span></code></a> 方法一样溢出 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37493">GH 37493</a>)。</p>
<p><em>旧行为</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">"key"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"b"</span><span class="p">]</span> <span class="o">*</span> <span class="mi">7</span><span class="p">,</span> <span class="s2">"value"</span><span class="p">:</span> <span class="mi">625</span><span class="p">})</span>
<span class="gp">In [2]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"key"</span><span class="p">)[</span><span class="s2">"value"</span><span class="p">]</span><span class="o">.</span><span class="n">cumprod</span><span class="p">()[</span><span class="mi">5</span><span class="p">]</span>
<span class="gh">Out[2]: </span><span class="go">5.960464477539062e+16</span>
</pre></div>
</div>
<p>我们返回了第 6 个值的不正确结果。</p>
<p><em>新行为</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">"key"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"b"</span><span class="p">]</span> <span class="o">*</span> <span class="mi">7</span><span class="p">,</span> <span class="s2">"value"</span><span class="p">:</span> <span class="mi">625</span><span class="p">})</span>

<span class="gp">In [20]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"key"</span><span class="p">)[</span><span class="s2">"value"</span><span class="p">]</span><span class="o">.</span><span class="n">cumprod</span><span class="p">()</span>
<span class="gh">Out[20]: </span>
<span class="go">0                   625</span>
<span class="go">1                390625</span>
<span class="go">2             244140625</span>
<span class="go">3          152587890625</span>
<span class="go">4        95367431640625</span>
<span class="go">5     59604644775390625</span>
<span class="go">6    359414837200037393</span>
<span class="go">Name: value, dtype: int64</span>
</pre></div>
</div>
<p>我们在第 7 个值时溢出，但第 6 个值仍然正确。</p>
</section>
<section id="dataframegroupby-nth-and-seriesgroupby-nth-now-behave-as-filtrations">
<span id="whatsnew-200-notable-bug-fixes-groupby-nth-filter"></span><h3><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.nth.html#pandas.core.groupby.DataFrameGroupBy.nth" title="pandas.core.groupby.DataFrameGroupBy.nth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.nth()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.nth.html#pandas.core.groupby.SeriesGroupBy.nth" title="pandas.core.groupby.SeriesGroupBy.nth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.nth()</span></code></a> 现在表现为过滤操作<a class="headerlink" href="v2.0.0.html#dataframegroupby-nth-and-seriesgroupby-nth-now-behave-as-filtrations" title="Link to this heading">#</a></h3>
<p>在以前的 pandas 版本中，<a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.nth.html#pandas.core.groupby.DataFrameGroupBy.nth" title="pandas.core.groupby.DataFrameGroupBy.nth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.nth()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.nth.html#pandas.core.groupby.SeriesGroupBy.nth" title="pandas.core.groupby.SeriesGroupBy.nth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.nth()</span></code></a> 表现得好像它们是聚合操作一样。然而，对于大多数输入 <code class="docutils literal notranslate"><span class="pre">n</span></code>，它们可能会为每个组返回零行或多行。这意味着它们是过滤操作，类似于例如 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.head.html#pandas.core.groupby.DataFrameGroupBy.head" title="pandas.core.groupby.DataFrameGroupBy.head"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.head()</span></code></a>。pandas 现在将其视为过滤操作 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13666">GH 13666</a>)。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">"a"</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">"b"</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]})</span>

<span class="gp">In [22]: </span><span class="n">gb</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span>
</pre></div>
</div>
<p><em>旧行为</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">gb</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[5]:</span>
<span class="go">   A    B</span>
<span class="go">1  1  2.0</span>
<span class="go">4  2  5.0</span>
</pre></div>
</div>
<p><em>新行为</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="n">gb</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[23]: </span>
<span class="go">   a    b</span>
<span class="go">1  1  2.0</span>
<span class="go">4  2  5.0</span>
</pre></div>
</div>
<p>特别是，结果的索引是通过选择适当的行从输入中派生出来的。此外，当 <code class="docutils literal notranslate"><span class="pre">n</span></code> 大于组大小时，返回的是零行而不是 <code class="docutils literal notranslate"><span class="pre">NaN</span></code>。</p>
<p><em>旧行为</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">gb</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="s2">"any"</span><span class="p">)</span>
<span class="gh">Out[5]:</span>
<span class="go">    B</span>
<span class="go">A</span>
<span class="go">1 NaN</span>
<span class="go">2 NaN</span>
</pre></div>
</div>
<p><em>新行为</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="n">gb</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="s2">"any"</span><span class="p">)</span>
<span class="gh">Out[24]: </span>
<span class="go">Empty DataFrame</span>
<span class="go">Columns: [a, b]</span>
<span class="go">Index: []</span>
</pre></div>
</div>
</section>
</section>
<section id="backwards-incompatible-api-changes">
<span id="whatsnew-200-api-breaking"></span><h2>向后不兼容的 API 更改<a class="headerlink" href="v2.0.0.html#backwards-incompatible-api-changes" title="Link to this heading">#</a></h2>
<section id="construction-with-datetime64-or-timedelta64-dtype-with-unsupported-resolution">
<span id="whatsnew-200-api-breaking-unsupported-datetimelike-dtype-arg"></span><h3>使用不支持分辨率的 datetime64 或 timedelta64 数据类型构造<a class="headerlink" href="v2.0.0.html#construction-with-datetime64-or-timedelta64-dtype-with-unsupported-resolution" title="Link to this heading">#</a></h3>
<p>在过去的版本中，当构造 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 并传入不支持分辨率（即除了“ns”之外的任何分辨率）的“datetime64”或“timedelta64”数据类型时，pandas 会静默地将给定的数据类型替换为其纳秒级对应物</p>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">"2016-01-01"</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">"datetime64[s]"</span><span class="p">)</span>
<span class="gh">Out[5]:</span>
<span class="go">0   2016-01-01</span>
<span class="go">dtype: datetime64[ns]</span>

<span class="go">In [6] pd.Series(["2016-01-01"], dtype="datetime64[D]")</span>
<span class="gh">Out[6]:</span>
<span class="go">0   2016-01-01</span>
<span class="go">dtype: datetime64[ns]</span>
</pre></div>
</div>
<p>在 pandas 2.0 中，我们支持“s”、“ms”、“us”和“ns”分辨率。当传入支持的数据类型（例如“datetime64[s]”）时，结果现在具有完全请求的数据类型</p>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">"2016-01-01"</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">"datetime64[s]"</span><span class="p">)</span>
<span class="gh">Out[25]: </span>
<span class="go">0   2016-01-01</span>
<span class="go">dtype: datetime64[s]</span>
</pre></div>
</div>
<p>对于不支持的数据类型，pandas 现在会引发错误，而不是静默地替换为受支持的数据类型</p>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [26]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">"2016-01-01"</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">"datetime64[D]"</span><span class="p">)</span>
<span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">26</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">"2016-01-01"</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">"datetime64[D]"</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/series.py:584,</span> in <span class="ni">Series.__init__</span><span class="nt">(self, data, index, dtype, name, copy, fastpath)</span>
<span class="g g-Whitespace">    </span><span class="mi">582</span>         <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">583</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">584</span>     <span class="n">data</span> <span class="o">=</span> <span class="n">sanitize_array</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">586</span>     <span class="n">manager</span> <span class="o">=</span> <span class="n">_get_option</span><span class="p">(</span><span class="s2">"mode.data_manager"</span><span class="p">,</span> <span class="n">silent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">587</span>     <span class="k">if</span> <span class="n">manager</span> <span class="o">==</span> <span class="s2">"block"</span><span class="p">:</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/construction.py:648,</span> in <span class="ni">sanitize_array</span><span class="nt">(data, index, dtype, copy, allow_2d)</span>
<span class="g g-Whitespace">    </span><span class="mi">645</span>     <span class="n">subarr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">647</span> <span class="k">elif</span> <span class="n">dtype</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">648</span>     <span class="n">subarr</span> <span class="o">=</span> <span class="n">_try_cast</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">650</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">651</span>     <span class="n">subarr</span> <span class="o">=</span> <span class="n">maybe_convert_platform</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/construction.py:808,</span> in <span class="ni">_try_cast</span><span class="nt">(arr, dtype, copy)</span>
<span class="g g-Whitespace">    </span><span class="mi">803</span>     <span class="k">return</span> <span class="n">lib</span><span class="o">.</span><span class="n">ensure_string_array</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">convert_na_value</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">804</span>         <span class="n">shape</span>
<span class="g g-Whitespace">    </span><span class="mi">805</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">807</span> <span class="k">elif</span> <span class="n">dtype</span><span class="o">.</span><span class="n">kind</span> <span class="ow">in</span> <span class="s2">"mM"</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">808</span>     <span class="k">return</span> <span class="n">maybe_cast_to_datetime</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">dtype</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">810</span> <span class="c1"># GH#15832: Check if we are requesting a numeric dtype and</span>
<span class="g g-Whitespace">    </span><span class="mi">811</span> <span class="c1"># that we can convert the data to the requested dtype.</span>
<span class="g g-Whitespace">    </span><span class="mi">812</span> <span class="k">elif</span> <span class="n">dtype</span><span class="o">.</span><span class="n">kind</span> <span class="ow">in</span> <span class="s2">"iu"</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">813</span>     <span class="c1"># this will raise if we have e.g. floats</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/dtypes/cast.py:1228,</span> in <span class="ni">maybe_cast_to_datetime</span><span class="nt">(value, dtype)</span>
<span class="g g-Whitespace">   </span><span class="mi">1224</span>     <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">"value must be listlike"</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1226</span> <span class="c1"># TODO: _from_sequence would raise ValueError in cases where</span>
<span class="g g-Whitespace">   </span><span class="mi">1227</span> <span class="c1">#  _ensure_nanosecond_dtype raises TypeError</span>
<span class="ne">-&gt; </span><span class="mi">1228</span> <span class="n">_ensure_nanosecond_dtype</span><span class="p">(</span><span class="n">dtype</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1230</span> <span class="k">if</span> <span class="n">lib</span><span class="o">.</span><span class="n">is_np_dtype</span><span class="p">(</span><span class="n">dtype</span><span class="p">,</span> <span class="s2">"m"</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1231</span>     <span class="n">res</span> <span class="o">=</span> <span class="n">TimedeltaArray</span><span class="o">.</span><span class="n">_from_sequence</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/dtypes/cast.py:1285,</span> in <span class="ni">_ensure_nanosecond_dtype</span><span class="nt">(dtype)</span>
<span class="g g-Whitespace">   </span><span class="mi">1282</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1283</span> <span class="c1"># TODO: ValueError or TypeError? existing test</span>
<span class="g g-Whitespace">   </span><span class="mi">1284</span> <span class="c1">#  test_constructor_generic_timestamp_bad_frequency expects TypeError</span>
<span class="ne">-&gt; </span><span class="mi">1285</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1286</span>     <span class="sa">f</span><span class="s2">"dtype=</span><span class="si">{</span><span class="n">dtype</span><span class="si">}</span><span class="s2"> is not supported. Supported resolutions are 's', "</span>
<span class="g g-Whitespace">   </span><span class="mi">1287</span>     <span class="s2">"'ms', 'us', and 'ns'"</span>
<span class="g g-Whitespace">   </span><span class="mi">1288</span> <span class="p">)</span>

<span class="ne">TypeError</span>: dtype=datetime64[D] is not supported. Supported resolutions are 's', 'ms', 'us', and 'ns'
</pre></div>
</div>
</section>
<section id="value-counts-sets-the-resulting-name-to-count">
<span id="whatsnew-200-api-breaking-value-counts"></span><h3>值计数将结果名称设置为 <code class="docutils literal notranslate"><span class="pre">count</span></code><a class="headerlink" href="v2.0.0.html#value-counts-sets-the-resulting-name-to-count" title="Link to this heading">#</a></h3>
<p>在过去的版本中，当运行 <a class="reference internal" href="../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts" title="pandas.Series.value_counts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.value_counts()</span></code></a> 时，结果会继承原始对象的名称，而结果索引则没有名称。这会导致在重置索引时产生混淆，并且列名将与列值不对应。现在，结果名称将是 <code class="docutils literal notranslate"><span class="pre">'count'</span></code>（如果传入 <code class="docutils literal notranslate"><span class="pre">normalize=True</span></code> 则为 <code class="docutils literal notranslate"><span class="pre">'proportion'</span></code>），并且索引将以原始对象命名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49497">GH 49497</a>)。</p>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">'quetzal'</span><span class="p">,</span> <span class="s1">'quetzal'</span><span class="p">,</span> <span class="s1">'elk'</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">'animal'</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="gh">Out[2]:</span>
<span class="go">quetzal    2</span>
<span class="go">elk        1</span>
<span class="go">Name: animal, dtype: int64</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">'quetzal'</span><span class="p">,</span> <span class="s1">'quetzal'</span><span class="p">,</span> <span class="s1">'elk'</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">'animal'</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="gh">Out[27]: </span>
<span class="go">animal</span>
<span class="go">quetzal    2</span>
<span class="go">elk        1</span>
<span class="go">Name: count, dtype: int64</span>
</pre></div>
</div>
<p>其他 <code class="docutils literal notranslate"><span class="pre">value_counts</span></code> 方法（例如 <a class="reference internal" href="../reference/api/pandas.DataFrame.value_counts.html#pandas.DataFrame.value_counts" title="pandas.DataFrame.value_counts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.value_counts()</span></code></a>）也类似。</p>
</section>
<section id="disallow-astype-conversion-to-non-supported-datetime64-timedelta64-dtypes">
<span id="whatsnew-200-api-breaking-astype-to-unsupported-datetimelike"></span><h3>禁止 astype 转换为不支持的 datetime64/timedelta64 数据类型<a class="headerlink" href="v2.0.0.html#disallow-astype-conversion-to-non-supported-datetime64-timedelta64-dtypes" title="Link to this heading">#</a></h3>
<p>在以前的版本中，将 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 从 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> 转换为不同的 <code class="docutils literal notranslate"><span class="pre">datetime64[X]</span></code> 数据类型时，会返回 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> 数据类型，而不是请求的数据类型。在 pandas 2.0 中，增加了对“datetime64[s]”、“datetime64[ms]”和“datetime64[us]”数据类型的支持，因此转换为这些数据类型时会精确地得到请求的数据类型</p>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">"2016-01-01"</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="gp">In [29]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
</pre></div>
</div>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">ser</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"datetime64[s]"</span><span class="p">)</span>
<span class="gh">Out[4]:</span>
<span class="go">0   2016-01-01</span>
<span class="go">1   2016-01-02</span>
<span class="go">2   2016-01-03</span>
<span class="go">dtype: datetime64[ns]</span>
</pre></div>
</div>
<p>使用新行为，我们得到了精确请求的数据类型</p>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [30]: </span><span class="n">ser</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"datetime64[s]"</span><span class="p">)</span>
<span class="gh">Out[30]: </span>
<span class="go">0   2016-01-01</span>
<span class="go">1   2016-01-02</span>
<span class="go">2   2016-01-03</span>
<span class="go">dtype: datetime64[s]</span>
</pre></div>
</div>
<p>对于不支持的分辨率，例如“datetime64[D]”，我们会引发错误，而不是静默地忽略请求的数据类型</p>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [31]: </span><span class="n">ser</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"datetime64[D]"</span><span class="p">)</span>
<span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">31</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ser</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"datetime64[D]"</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/generic.py:6662,</span> in <span class="ni">NDFrame.astype</span><span class="nt">(self, dtype, copy, errors)</span>
<span class="g g-Whitespace">   </span><span class="mi">6656</span>     <span class="n">results</span> <span class="o">=</span> <span class="p">[</span>
<span class="nn">   6657         ser.astype(dtype, copy=copy, errors=errors) for _, ser</span> in <span class="ni">self.items</span><span class="nt">()</span>
<span class="g g-Whitespace">   </span><span class="mi">6658</span>     <span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">6660</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">6661</span>     <span class="c1"># else, only a single dtype is given</span>
<span class="ne">-&gt; </span><span class="mi">6662</span>     <span class="n">new_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mgr</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">6663</span>     <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constructor_from_mgr</span><span class="p">(</span><span class="n">new_data</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">new_data</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">6664</span>     <span class="k">return</span> <span class="n">res</span><span class="o">.</span><span class="n">__finalize__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">"astype"</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/internals/managers.py:430,</span> in <span class="ni">BaseBlockManager.astype</span><span class="nt">(self, dtype, copy, errors)</span>
<span class="g g-Whitespace">    </span><span class="mi">427</span> <span class="k">elif</span> <span class="n">using_copy_on_write</span><span class="p">():</span>
<span class="g g-Whitespace">    </span><span class="mi">428</span>     <span class="n">copy</span> <span class="o">=</span> <span class="kc">False</span>
<span class="ne">--&gt; </span><span class="mi">430</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">431</span>     <span class="s2">"astype"</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">432</span>     <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">433</span>     <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">434</span>     <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">435</span>     <span class="n">using_cow</span><span class="o">=</span><span class="n">using_copy_on_write</span><span class="p">(),</span>
<span class="g g-Whitespace">    </span><span class="mi">436</span> <span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/internals/managers.py:363,</span> in <span class="ni">BaseBlockManager.apply</span><span class="nt">(self, f, align_keys, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">361</span>         <span class="n">applied</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">362</span>     <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">363</span>         <span class="n">applied</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">f</span><span class="p">)(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">364</span>     <span class="n">result_blocks</span> <span class="o">=</span> <span class="n">extend_blocks</span><span class="p">(</span><span class="n">applied</span><span class="p">,</span> <span class="n">result_blocks</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">366</span> <span class="n">out</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">from_blocks</span><span class="p">(</span><span class="n">result_blocks</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/internals/blocks.py:784,</span> in <span class="ni">Block.astype</span><span class="nt">(self, dtype, copy, errors, using_cow, squeeze)</span>
<span class="g g-Whitespace">    </span><span class="mi">781</span>         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Can not squeeze with more than one column."</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">782</span>     <span class="n">values</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span>  <span class="c1"># type: ignore[call-overload]</span>
<span class="ne">--&gt; </span><span class="mi">784</span> <span class="n">new_values</span> <span class="o">=</span> <span class="n">astype_array_safe</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">786</span> <span class="n">new_values</span> <span class="o">=</span> <span class="n">maybe_coerce_values</span><span class="p">(</span><span class="n">new_values</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">788</span> <span class="n">refs</span> <span class="o">=</span> <span class="kc">None</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/dtypes/astype.py:237,</span> in <span class="ni">astype_array_safe</span><span class="nt">(values, dtype, copy, errors)</span>
<span class="g g-Whitespace">    </span><span class="mi">234</span>     <span class="n">dtype</span> <span class="o">=</span> <span class="n">dtype</span><span class="o">.</span><span class="n">numpy_dtype</span>
<span class="g g-Whitespace">    </span><span class="mi">236</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">237</span>     <span class="n">new_values</span> <span class="o">=</span> <span class="n">astype_array</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">238</span> <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">239</span>     <span class="c1"># e.g. _astype_nansafe can fail on object-dtype of strings</span>
<span class="g g-Whitespace">    </span><span class="mi">240</span>     <span class="c1">#  trying to convert to float</span>
<span class="g g-Whitespace">    </span><span class="mi">241</span>     <span class="k">if</span> <span class="n">errors</span> <span class="o">==</span> <span class="s2">"ignore"</span><span class="p">:</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/dtypes/astype.py:179,</span> in <span class="ni">astype_array</span><span class="nt">(values, dtype, copy)</span>
<span class="g g-Whitespace">    </span><span class="mi">175</span>     <span class="k">return</span> <span class="n">values</span>
<span class="g g-Whitespace">    </span><span class="mi">177</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">178</span>     <span class="c1"># i.e. ExtensionArray</span>
<span class="ne">--&gt; </span><span class="mi">179</span>     <span class="n">values</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">181</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">182</span>     <span class="n">values</span> <span class="o">=</span> <span class="n">_astype_nansafe</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/arrays/datetimes.py:741,</span> in <span class="ni">DatetimeArray.astype</span><span class="nt">(self, dtype, copy)</span>
<span class="g g-Whitespace">    </span><span class="mi">739</span> <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dtype</span><span class="p">,</span> <span class="n">PeriodDtype</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">740</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="n">dtype</span><span class="o">.</span><span class="n">freq</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">741</span> <span class="k">return</span> <span class="n">dtl</span><span class="o">.</span><span class="n">DatetimeLikeArrayMixin</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/arrays/datetimelike.py:517,</span> in <span class="ni">DatetimeLikeArrayMixin.astype</span><span class="nt">(self, dtype, copy)</span>
<span class="g g-Whitespace">    </span><span class="mi">513</span> <span class="k">elif</span> <span class="p">(</span><span class="n">dtype</span><span class="o">.</span><span class="n">kind</span> <span class="ow">in</span> <span class="s2">"mM"</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dtype</span> <span class="o">!=</span> <span class="n">dtype</span><span class="p">)</span> <span class="ow">or</span> <span class="n">dtype</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="s2">"f"</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">514</span>     <span class="c1"># disallow conversion between datetime/timedelta,</span>
<span class="g g-Whitespace">    </span><span class="mi">515</span>     <span class="c1"># and conversions for any datetimelike to float</span>
<span class="g g-Whitespace">    </span><span class="mi">516</span>     <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"Cannot cast </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> to dtype </span><span class="si">{</span><span class="n">dtype</span><span class="si">}</span><span class="s2">"</span>
<span class="ne">--&gt; </span><span class="mi">517</span>     <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">518</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">519</span>     <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">)</span>

<span class="ne">TypeError</span>: Cannot cast DatetimeArray to dtype datetime64[D]
</pre></div>
</div>
<p>对于从 <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> 数据类型进行的转换，旧行为会转换为浮点格式。</p>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">timedelta_range</span><span class="p">(</span><span class="s2">"1 Day"</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="gp">In [33]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
</pre></div>
</div>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">ser</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"timedelta64[s]"</span><span class="p">)</span>
<span class="gh">Out[7]:</span>
<span class="go">0     86400.0</span>
<span class="go">1    172800.0</span>
<span class="go">2    259200.0</span>
<span class="go">dtype: float64</span>

<span class="gp">In [8]: </span><span class="n">ser</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"timedelta64[D]"</span><span class="p">)</span>
<span class="gh">Out[8]:</span>
<span class="go">0    1.0</span>
<span class="go">1    2.0</span>
<span class="go">2    3.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>新行为，与 datetime64 类似，要么精确返回请求的数据类型，要么引发错误</p>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [34]: </span><span class="n">ser</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"timedelta64[s]"</span><span class="p">)</span>
<span class="gh">Out[34]: </span>
<span class="go">0   1 days</span>
<span class="go">1   2 days</span>
<span class="go">2   3 days</span>
<span class="go">dtype: timedelta64[s]</span>

<span class="gp">In [35]: </span><span class="n">ser</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"timedelta64[D]"</span><span class="p">)</span>
<span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">35</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ser</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"timedelta64[D]"</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/generic.py:6662,</span> in <span class="ni">NDFrame.astype</span><span class="nt">(self, dtype, copy, errors)</span>
<span class="g g-Whitespace">   </span><span class="mi">6656</span>     <span class="n">results</span> <span class="o">=</span> <span class="p">[</span>
<span class="nn">   6657         ser.astype(dtype, copy=copy, errors=errors) for _, ser</span> in <span class="ni">self.items</span><span class="nt">()</span>
<span class="g g-Whitespace">   </span><span class="mi">6658</span>     <span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">6660</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">6661</span>     <span class="c1"># else, only a single dtype is given</span>
<span class="ne">-&gt; </span><span class="mi">6662</span>     <span class="n">new_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mgr</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">6663</span>     <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constructor_from_mgr</span><span class="p">(</span><span class="n">new_data</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">new_data</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">6664</span>     <span class="k">return</span> <span class="n">res</span><span class="o">.</span><span class="n">__finalize__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">"astype"</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/internals/managers.py:430,</span> in <span class="ni">BaseBlockManager.astype</span><span class="nt">(self, dtype, copy, errors)</span>
<span class="g g-Whitespace">    </span><span class="mi">427</span> <span class="k">elif</span> <span class="n">using_copy_on_write</span><span class="p">():</span>
<span class="g g-Whitespace">    </span><span class="mi">428</span>     <span class="n">copy</span> <span class="o">=</span> <span class="kc">False</span>
<span class="ne">--&gt; </span><span class="mi">430</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">431</span>     <span class="s2">"astype"</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">432</span>     <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">433</span>     <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">434</span>     <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">435</span>     <span class="n">using_cow</span><span class="o">=</span><span class="n">using_copy_on_write</span><span class="p">(),</span>
<span class="g g-Whitespace">    </span><span class="mi">436</span> <span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/internals/managers.py:363,</span> in <span class="ni">BaseBlockManager.apply</span><span class="nt">(self, f, align_keys, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">361</span>         <span class="n">applied</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">362</span>     <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">363</span>         <span class="n">applied</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">f</span><span class="p">)(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">364</span>     <span class="n">result_blocks</span> <span class="o">=</span> <span class="n">extend_blocks</span><span class="p">(</span><span class="n">applied</span><span class="p">,</span> <span class="n">result_blocks</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">366</span> <span class="n">out</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">from_blocks</span><span class="p">(</span><span class="n">result_blocks</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/internals/blocks.py:784,</span> in <span class="ni">Block.astype</span><span class="nt">(self, dtype, copy, errors, using_cow, squeeze)</span>
<span class="g g-Whitespace">    </span><span class="mi">781</span>         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Can not squeeze with more than one column."</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">782</span>     <span class="n">values</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span>  <span class="c1"># type: ignore[call-overload]</span>
<span class="ne">--&gt; </span><span class="mi">784</span> <span class="n">new_values</span> <span class="o">=</span> <span class="n">astype_array_safe</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">786</span> <span class="n">new_values</span> <span class="o">=</span> <span class="n">maybe_coerce_values</span><span class="p">(</span><span class="n">new_values</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">788</span> <span class="n">refs</span> <span class="o">=</span> <span class="kc">None</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/dtypes/astype.py:237,</span> in <span class="ni">astype_array_safe</span><span class="nt">(values, dtype, copy, errors)</span>
<span class="g g-Whitespace">    </span><span class="mi">234</span>     <span class="n">dtype</span> <span class="o">=</span> <span class="n">dtype</span><span class="o">.</span><span class="n">numpy_dtype</span>
<span class="g g-Whitespace">    </span><span class="mi">236</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">237</span>     <span class="n">new_values</span> <span class="o">=</span> <span class="n">astype_array</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">238</span> <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">239</span>     <span class="c1"># e.g. _astype_nansafe can fail on object-dtype of strings</span>
<span class="g g-Whitespace">    </span><span class="mi">240</span>     <span class="c1">#  trying to convert to float</span>
<span class="g g-Whitespace">    </span><span class="mi">241</span>     <span class="k">if</span> <span class="n">errors</span> <span class="o">==</span> <span class="s2">"ignore"</span><span class="p">:</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/dtypes/astype.py:179,</span> in <span class="ni">astype_array</span><span class="nt">(values, dtype, copy)</span>
<span class="g g-Whitespace">    </span><span class="mi">175</span>     <span class="k">return</span> <span class="n">values</span>
<span class="g g-Whitespace">    </span><span class="mi">177</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">178</span>     <span class="c1"># i.e. ExtensionArray</span>
<span class="ne">--&gt; </span><span class="mi">179</span>     <span class="n">values</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">181</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">182</span>     <span class="n">values</span> <span class="o">=</span> <span class="n">_astype_nansafe</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>

<span class="nn">File ~/work/pandas/pandas/pandas/core/arrays/timedeltas.py:358,</span> in <span class="ni">TimedeltaArray.astype</span><span class="nt">(self, dtype, copy)</span>
<span class="g g-Whitespace">    </span><span class="mi">354</span>         <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_simple_new</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">355</span>             <span class="n">res_values</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">res_values</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">freq</span>
<span class="g g-Whitespace">    </span><span class="mi">356</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">357</span>     <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">358</span>         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">359</span>             <span class="sa">f</span><span class="s2">"Cannot convert from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">dtype</span><span class="si">}</span><span class="s2">. "</span>
<span class="g g-Whitespace">    </span><span class="mi">360</span>             <span class="s2">"Supported resolutions are 's', 'ms', 'us', 'ns'"</span>
<span class="g g-Whitespace">    </span><span class="mi">361</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">363</span> <span class="k">return</span> <span class="n">dtl</span><span class="o">.</span><span class="n">DatetimeLikeArrayMixin</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span>

<span class="ne">ValueError</span>: Cannot convert from timedelta64[ns] to timedelta64[D]. Supported resolutions are 's', 'ms', 'us', 'ns'
</pre></div>
</div>
</section>
<section id="utc-and-fixed-offset-timezones-default-to-standard-library-tzinfo-objects">
<span id="whatsnew-200-api-breaking-default-to-stdlib-tzinfos"></span><h3>UTC 和固定偏移时区默认使用标准库 tzinfo 对象<a class="headerlink" href="v2.0.0.html#utc-and-fixed-offset-timezones-default-to-standard-library-tzinfo-objects" title="Link to this heading">#</a></h3>
<p>在以前的版本中，用于表示 UTC 的默认 <code class="docutils literal notranslate"><span class="pre">tzinfo</span></code> 对象是 <code class="docutils literal notranslate"><span class="pre">pytz.UTC</span></code>。在 pandas 2.0 中，我们转而默认使用 <code class="docutils literal notranslate"><span class="pre">datetime.timezone.utc</span></code>。类似地，对于表示固定 UTC 偏移的时区，我们使用 <code class="docutils literal notranslate"><span class="pre">datetime.timezone</span></code> 对象而不是 <code class="docutils literal notranslate"><span class="pre">pytz.FixedOffset</span></code> 对象。请参阅 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34916">GH 34916</a>)</p>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">"2016-01-01"</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s2">"UTC"</span><span class="p">)</span>
<span class="gp">In [3]: </span><span class="nb">type</span><span class="p">(</span><span class="n">ts</span><span class="o">.</span><span class="n">tzinfo</span><span class="p">)</span>
<span class="gh">Out[3]: </span><span class="go">pytz.UTC</span>

<span class="gp">In [4]: </span><span class="n">ts2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">"2016-01-01 04:05:06-07:00"</span><span class="p">)</span>
<span class="gp">In [3]: </span><span class="nb">type</span><span class="p">(</span><span class="n">ts2</span><span class="o">.</span><span class="n">tzinfo</span><span class="p">)</span>
<span class="gh">Out[5]: </span><span class="go">pytz._FixedOffset</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [36]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">"2016-01-01"</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s2">"UTC"</span><span class="p">)</span>

<span class="gp">In [37]: </span><span class="nb">type</span><span class="p">(</span><span class="n">ts</span><span class="o">.</span><span class="n">tzinfo</span><span class="p">)</span>
<span class="gh">Out[37]: </span><span class="go">datetime.timezone</span>

<span class="gp">In [38]: </span><span class="n">ts2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">"2016-01-01 04:05:06-07:00"</span><span class="p">)</span>

<span class="gp">In [39]: </span><span class="nb">type</span><span class="p">(</span><span class="n">ts2</span><span class="o">.</span><span class="n">tzinfo</span><span class="p">)</span>
<span class="gh">Out[39]: </span><span class="go">datetime.timezone</span>
</pre></div>
</div>
<p>对于既非 UTC 也非固定偏移的时区，例如“US/Pacific”，我们继续默认使用 <code class="docutils literal notranslate"><span class="pre">pytz</span></code> 对象。</p>
</section>
<section id="empty-dataframes-series-will-now-default-to-have-a-rangeindex">
<span id="whatsnew-200-api-breaking-zero-len-indexes"></span><h3>空的 DataFrame/Series 现在将默认拥有 <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code><a class="headerlink" href="v2.0.0.html#empty-dataframes-series-will-now-default-to-have-a-rangeindex" title="Link to this heading">#</a></h3>
<p>此前，在不指定轴（<code class="docutils literal notranslate"><span class="pre">index=None</span></code>，<code class="docutils literal notranslate"><span class="pre">columns=None</span></code>）的情况下构造一个空的（<code class="docutils literal notranslate"><span class="pre">data</span></code> 为 <code class="docutils literal notranslate"><span class="pre">None</span></code> 或空的类列表参数）<a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>，会返回一个 object 数据类型的空 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>。</p>
<p>现在，轴返回一个空的 <a class="reference internal" href="../reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="pandas.RangeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49572">GH 49572</a>)。</p>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span><span class="o">.</span><span class="n">index</span>
<span class="gh">Out[8]:</span>
<span class="go">Index([], dtype='object')</span>

<span class="go">In [9] pd.DataFrame().axes</span>
<span class="gh">Out[9]:</span>
<span class="go">[Index([], dtype='object'), Index([], dtype='object')]</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [40]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span><span class="o">.</span><span class="n">index</span>
<span class="gh">Out[40]: </span><span class="go">RangeIndex(start=0, stop=0, step=1)</span>

<span class="gp">In [41]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span><span class="o">.</span><span class="n">axes</span>
<span class="gh">Out[41]: </span><span class="go">[RangeIndex(start=0, stop=0, step=1), RangeIndex(start=0, stop=0, step=1)]</span>
</pre></div>
</div>
</section>
<section id="dataframe-to-latex-has-a-new-render-engine">
<span id="whatsnew-200-api-breaking-to-latex"></span><h3>DataFrame 到 LaTeX 有一个新的渲染引擎<a class="headerlink" href="v2.0.0.html#dataframe-to-latex-has-a-new-render-engine" title="Link to this heading">#</a></h3>
<p>现有的 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> 已重构，以利用此前在 <a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.to_latex.html#pandas.io.formats.style.Styler.to_latex" title="pandas.io.formats.style.Styler.to_latex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Styler.to_latex()</span></code></a> 下可用的扩展实现。参数签名类似，尽管 <code class="docutils literal notranslate"><span class="pre">col_space</span></code> 已被移除，因为它被 LaTeX 引擎忽略。此渲染引擎还需要 <code class="docutils literal notranslate"><span class="pre">jinja2</span></code> 作为依赖项，需要安装，因为渲染是基于 jinja2 模板的。</p>
<p>以下 pandas LaTeX 选项不再使用并已移除。通用的最大行和列参数仍然保留，但对于此功能应替换为 Styler 的等效项。提供类似功能的替代选项如下所示</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">display.latex.escape</span></code>：已替换为 <code class="docutils literal notranslate"><span class="pre">styler.format.escape</span></code>，</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">display.latex.longtable</span></code>：已替换为 <code class="docutils literal notranslate"><span class="pre">styler.latex.environment</span></code>，</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">display.latex.multicolumn</span></code>、<code class="docutils literal notranslate"><span class="pre">display.latex.multicolumn_format</span></code> 和 <code class="docutils literal notranslate"><span class="pre">display.latex.multirow</span></code>：已替换为 <code class="docutils literal notranslate"><span class="pre">styler.sparse.rows</span></code>、<code class="docutils literal notranslate"><span class="pre">styler.sparse.columns</span></code>、<code class="docutils literal notranslate"><span class="pre">styler.latex.multirow_align</span></code> 和 <code class="docutils literal notranslate"><span class="pre">styler.latex.multicol_align</span></code>，</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">display.latex.repr</span></code>：已替换为 <code class="docutils literal notranslate"><span class="pre">styler.render.repr</span></code>，</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">display.max_rows</span></code> 和 <code class="docutils literal notranslate"><span class="pre">display.max_columns</span></code>：替换为 <code class="docutils literal notranslate"><span class="pre">styler.render.max_rows</span></code>、<code class="docutils literal notranslate"><span class="pre">styler.render.max_columns</span></code> 和 <code class="docutils literal notranslate"><span class="pre">styler.render.max_elements</span></code>。</p></li>
</ul>
<p>请注意，由于此更改，一些默认值也已更改</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">multirow</span></code> 现在默认为 <em>True</em>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">multirow_align</span></code> 默认值为 <em>“r”</em> 而不是 <em>“l”</em>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">multicol_align</span></code> 默认值为 <em>“r”</em> 而不是 <em>“l”</em>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">escape</span></code> 现在默认为 <em>False</em>。</p></li>
</ul>
<p>请注意，<code class="docutils literal notranslate"><span class="pre">_repr_latex_</span></code> 的行为也已更改。以前设置 <code class="docutils literal notranslate"><span class="pre">display.latex.repr</span></code> 只在使用 nbconvert 导出 Jupyter Notebook 时生成 LaTeX，而不是用户运行 Notebook 时。现在 <code class="docutils literal notranslate"><span class="pre">styler.render.repr</span></code> 选项允许控制 Jupyter Notebook 中特定操作的输出（不仅仅是 nbconvert）。请参阅 <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39911">GH 39911</a>。</p>
</section>
<section id="increased-minimum-versions-for-dependencies">
<span id="whatsnew-200-api-breaking-deps"></span><h3>依赖项的最低版本提高<a class="headerlink" href="v2.0.0.html#increased-minimum-versions-for-dependencies" title="Link to this heading">#</a></h3>
<p>一些依赖项的最低支持版本已更新。如果已安装，我们现在要求</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>包</p></th>
<th class="head"><p>最低版本</p></th>
<th class="head"><p>必需</p></th>
<th class="head"><p>已更改</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>mypy (开发)</p></td>
<td><p>1.0</p></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>pytest (开发)</p></td>
<td><p>7.0.0</p></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>pytest-xdist (开发)</p></td>
<td><p>2.2.0</p></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>hypothesis (开发)</p></td>
<td><p>6.34.2</p></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>python-dateutil</p></td>
<td><p>2.8.2</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>tzdata</p></td>
<td><p>2022.1</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
</tbody>
</table>
<p>对于<a class="reference external" href="../getting_started/install.html">可选库</a>，一般建议使用最新版本。下表列出了在 pandas 开发过程中当前正在测试的每个库的最低版本。低于最低测试版本的可选库可能仍然可用，但不被视为受支持。</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>包</p></th>
<th class="head"><p>最低版本</p></th>
<th class="head"><p>已更改</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>pyarrow</p></td>
<td><p>7.0.0</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>matplotlib</p></td>
<td><p>3.6.1</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>fastparquet</p></td>
<td><p>0.6.3</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>xarray</p></td>
<td><p>0.21.0</p></td>
<td><p>X</p></td>
</tr>
</tbody>
</table>
<p>有关更多信息，请参阅<a class="reference internal" href="../getting_started/install.html#install-dependencies"><span class="std std-ref">依赖项</span></a>和<a class="reference internal" href="../getting_started/install.html#install-optional-dependencies"><span class="std std-ref">可选依赖项</span></a>。</p>
</section>
<section id="datetimes-are-now-parsed-with-a-consistent-format">
<h3>日期时间现在以一致的格式解析<a class="headerlink" href="v2.0.0.html#datetimes-are-now-parsed-with-a-consistent-format" title="Link to this heading">#</a></h3>
<p>过去，<a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 会独立猜测每个元素的格式。这在某些元素具有混合日期格式的情况下是合适的——然而，当用户期望一致的格式但函数会在元素之间切换格式时，这通常会导致问题。从 2.0.0 版本开始，解析将使用一致的格式，由第一个非 NA 值决定（除非用户指定了格式，在这种情况下使用用户指定的格式）。</p>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">'13-01-2000'</span><span class="p">,</span> <span class="s1">'12-01-2000'</span><span class="p">])</span>
<span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ser</span><span class="p">)</span>
<span class="gh">Out[2]:</span>
<span class="go">0   2000-01-13</span>
<span class="go">1   2000-12-01</span>
<span class="go">dtype: datetime64[ns]</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [42]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">'13-01-2000'</span><span class="p">,</span> <span class="s1">'12-01-2000'</span><span class="p">])</span>

<span class="gp">In [43]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ser</span><span class="p">)</span>
<span class="gh">Out[43]: </span>
<span class="go">0   2000-01-13</span>
<span class="go">1   2000-01-12</span>
<span class="go">dtype: datetime64[ns]</span>
</pre></div>
</div>
<p>请注意，这也影响 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>。</p>
<p>如果您仍然需要解析格式不一致的日期，可以使用 <code class="docutils literal notranslate"><span class="pre">format='mixed'</span></code>（可能同时使用 <code class="docutils literal notranslate"><span class="pre">dayfirst</span></code>）</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">'13-01-2000'</span><span class="p">,</span> <span class="s1">'12 January 2000'</span><span class="p">])</span>
<span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ser</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">'mixed'</span><span class="p">,</span> <span class="n">dayfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>或者，如果您的格式都是 ISO8601（但可能格式不完全相同）</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">'2020-01-01'</span><span class="p">,</span> <span class="s1">'2020-01-01 03:00'</span><span class="p">])</span>
<span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ser</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">'ISO8601'</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="other-api-changes">
<span id="whatsnew-200-api-breaking-other"></span><h3>其他 API 更改<a class="headerlink" href="v2.0.0.html#other-api-changes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 构造函数中的 <code class="docutils literal notranslate"><span class="pre">freq</span></code>、<code class="docutils literal notranslate"><span class="pre">tz</span></code>、<code class="docutils literal notranslate"><span class="pre">nanosecond</span></code> 和 <code class="docutils literal notranslate"><span class="pre">unit</span></code> 关键字现在是仅限关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45307">GH 45307</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32526">GH 32526</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 中传入大于 999 或小于 0 的纳秒数现在会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48538">GH 48538</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48255">GH 48255</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>：当使用 c 解析器时，使用 <code class="docutils literal notranslate"><span class="pre">index_col</span></code> 指定不正确的列数现在会引发 <code class="docutils literal notranslate"><span class="pre">ParserError</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">IndexError</span></code>。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.get_dummies.html#pandas.get_dummies" title="pandas.get_dummies"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_dummies()</span></code></a> 中 <code class="docutils literal notranslate"><span class="pre">dtype</span></code> 的默认值从 <code class="docutils literal notranslate"><span class="pre">uint8</span></code> 更改为 <code class="docutils literal notranslate"><span class="pre">bool</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45848">GH 45848</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.astype()</span></code> 将 datetime64 数据转换为“datetime64[s]”、“datetime64[ms]”或“datetime64[us]”中的任何一个时，将返回具有给定分辨率的对象，而不是强制转换回“datetime64[ns]” (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48928">GH 48928</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.astype()</span></code> 将 timedelta64 数据转换为“timedelta64[s]”、“timedelta64[ms]”或“timedelta64[us]”中的任何一个时，将返回具有给定分辨率的对象，而不是强制转换为“float64”数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48963">GH 48963</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.astype()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaIndex.astype()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.astype()</span></code> <a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code></a> 在处理 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code>、<code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> 或 <a class="reference internal" href="../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype" title="pandas.PeriodDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodDtype</span></code></a> 数据类型时，不再允许转换为除“int64”之外的整数数据类型，请改用 <code class="docutils literal notranslate"><span class="pre">obj.astype('int64',</span> <span class="pre">copy=False).astype(dtype)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49715">GH 49715</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.astype.html#pandas.Index.astype" title="pandas.Index.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.astype()</span></code></a> 现在允许从 <code class="docutils literal notranslate"><span class="pre">float64</span></code> 数据类型转换为日期时间类数据类型，与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49660">GH 49660</a>)</p></li>
<li><p>将数据类型为“timedelta64[s]”、“timedelta64[ms]”或“timedelta64[us]”的数据传递给 <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数时，现在将保留该数据类型，而不是转换为“timedelta64[ns]”；分辨率较低的 timedelta64 数据将转换为最低支持的分辨率“timedelta64[s]” (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49014">GH 49014</a>)</p></li>
<li><p>将数据类型为“timedelta64[s]”、“timedelta64[ms]”或“timedelta64[us]”传递给 <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数时，现在将保留该数据类型，而不是转换为“timedelta64[ns]”；对于 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>，传入分辨率较低的数据类型将转换为最低支持的分辨率“timedelta64[s]” (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49014">GH 49014</a>)</p></li>
<li><p>将非纳秒分辨率的 <code class="docutils literal notranslate"><span class="pre">np.datetime64</span></code> 对象传递给 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 将保留输入分辨率（如果是“s”、“ms”、“us”或“ns”）；否则将转换为最接近的支持分辨率 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49008">GH 49008</a>)</p></li>
<li><p>将分辨率非纳秒级的 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 值传递给 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 将保留输入分辨率（如果是“s”、“ms”、“us”或“ns”）；否则将转换为最接近的支持分辨率 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50369">GH 50369</a>)</p></li>
<li><p>将整数值和非纳秒级 datetime64 数据类型（例如“datetime64[s]”）传递给 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 时，会将这些值视为数据类型单位的倍数，与例如 <code class="docutils literal notranslate"><span class="pre">Series(np.array(values,</span> <span class="pre">dtype="M8[s]"))</span></code> 的行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51092">GH 51092</a>)</p></li>
<li><p>将 ISO-8601 格式的字符串传递给 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 将保留解析输入的分辨率（如果是“s”、“ms”、“us”或“ns”）；否则将转换为最接近的支持分辨率 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49737">GH 49737</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask" title="pandas.DataFrame.mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.mask()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.mask.html#pandas.Series.mask" title="pandas.Series.mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.mask()</span></code></a> 中的 <code class="docutils literal notranslate"><span class="pre">other</span></code> 参数现在默认值为 <code class="docutils literal notranslate"><span class="pre">no_default</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">np.nan</span></code>，这与 <a class="reference internal" href="../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where" title="pandas.DataFrame.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.where()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.where.html#pandas.Series.where" title="pandas.Series.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.where()</span></code></a> 保持一致。条目将填充相应的 NULL 值（对于 NumPy 数据类型为 <code class="docutils literal notranslate"><span class="pre">np.nan</span></code>，对于扩展数据类型为 <code class="docutils literal notranslate"><span class="pre">pd.NA</span></code>）。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49111">GH 49111</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.quantile.html#pandas.Series.quantile" title="pandas.Series.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.quantile()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.quantile.html#pandas.DataFrame.quantile" title="pandas.DataFrame.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.quantile()</span></code></a> 与 <a class="reference internal" href="../reference/api/pandas.SparseDtype.html#pandas.SparseDtype" title="pandas.SparseDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDtype</span></code></a> 的行为已更改，以保留稀疏数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49583">GH 49583</a>)</p></li>
<li><p>当使用对象数据类型 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 创建包含日期时间对象的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 时，pandas 不再默默地将索引转换为 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39307">GH 39307</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/23598">GH 23598</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal" title="pandas.testing.assert_index_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.testing.assert_index_equal()</span></code></a> 使用参数 <code class="docutils literal notranslate"><span class="pre">exact="equiv"</span></code> 时，现在认为当两个索引都是 <a class="reference internal" href="../reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="pandas.RangeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> 或具有 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 数据类型的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 时，它们是相等的。此前，这意味着 <a class="reference internal" href="../reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="pandas.RangeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> 或 <code class="xref py py-class docutils literal notranslate"><span class="pre">Int64Index</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51098">GH 51098</a>)</p></li>
<li><p>数据类型为 “timedelta64[ns]” 或 “datetime64[ns]” 的 <a class="reference internal" href="../reference/api/pandas.Series.unique.html#pandas.Series.unique" title="pandas.Series.unique"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.unique()</span></code></a> 现在返回 <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaArray</span></code> 或 <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeArray</span></code>，而不是 <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49176">GH 49176</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 现在允许包含 <code class="docutils literal notranslate"><span class="pre">datetime</span></code> 对象和数字条目的序列，与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49037">GH 49037</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50453">GH 50453</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.api.types.is_string_dtype.html#pandas.api.types.is_string_dtype" title="pandas.api.types.is_string_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_string_dtype()</span></code></a> 现在仅在元素被推断为字符串时，才对 <code class="docutils literal notranslate"><span class="pre">dtype=object</span></code> 的类数组返回 <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15585">GH 15585</a>)</p></li>
<li><p>将包含 <code class="docutils literal notranslate"><span class="pre">datetime</span></code> 对象和 <code class="docutils literal notranslate"><span class="pre">date</span></code> 对象的序列传递给 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 构造函数将返回 <code class="docutils literal notranslate"><span class="pre">object</span></code> 数据类型而不是 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> 数据类型，这与 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49341">GH 49341</a>)</p></li>
<li><p>将无法解析为日期时间字符串的字符串传递给具有 <code class="docutils literal notranslate"><span class="pre">dtype="datetime64[ns]"</span></code> 的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 时，将引发错误而不是默默地忽略关键字并返回 <code class="docutils literal notranslate"><span class="pre">object</span></code> 数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24435">GH 24435</a>)</p></li>
<li><p>将包含无法转换为 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 的类型的序列传递给 <a class="reference internal" href="../reference/api/pandas.to_timedelta.html#pandas.to_timedelta" title="pandas.to_timedelta"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_timedelta()</span></code></a> 或传递给 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数（使用 <code class="docutils literal notranslate"><span class="pre">dtype="timedelta64[ns]"</span></code>），或传递给 <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> 时，现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49525">GH 49525</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 构造函数在序列中包含至少一个 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 且其余均为 <code class="docutils literal notranslate"><span class="pre">None</span></code> 或 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> 时，其行为已更改为推断 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> 数据类型而不是 <code class="docutils literal notranslate"><span class="pre">object</span></code>，这与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49340">GH 49340</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_stata.html#pandas.read_stata" title="pandas.read_stata"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_stata()</span></code></a> 在参数 <code class="docutils literal notranslate"><span class="pre">index_col</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">None</span></code>（默认值）时，现在将返回的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 的索引设置为 <a class="reference internal" href="../reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="pandas.RangeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> 而不是 <code class="xref py py-class docutils literal notranslate"><span class="pre">Int64Index</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49745">GH 49745</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 的算术方法在处理对象数据类型时，其行为已更改，结果不再对数组操作的结果进行类型推断；请使用 <code class="docutils literal notranslate"><span class="pre">result.infer_objects(copy=False)</span></code> 对结果进行类型推断 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49999">GH 49999</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49714">GH 49714</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 构造函数在使用包含全布尔值或全复数值的对象数据类型 <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> 时，其行为已更改，现在将保留对象数据类型，这与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49594">GH 49594</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> 将包含 <code class="docutils literal notranslate"><span class="pre">bytes</span></code> 对象的数据类型从对象数据类型转换为字符串数据类型时，其行为已更改；现在对字节对象执行 <code class="docutils literal notranslate"><span class="pre">val.decode()</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">str(val)</span></code>，这与 <a class="reference internal" href="../reference/api/pandas.Index.astype.html#pandas.Index.astype" title="pandas.Index.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.astype()</span></code></a> 行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45326">GH 45326</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 的默认 <code class="docutils literal notranslate"><span class="pre">na_values</span></code> 中添加了 <code class="docutils literal notranslate"><span class="pre">"None"</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50286">GH 50286</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数在给定整数数据类型和非整数浮点数据时，其行为已更改，现在会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 而不是默默地保留浮点数据类型；若要获得旧行为，请使用 <code class="docutils literal notranslate"><span class="pre">Series(data)</span></code> 或 <code class="docutils literal notranslate"><span class="pre">DataFrame(data)</span></code>；若要获得指定数据类型，请使用 <code class="docutils literal notranslate"><span class="pre">Series(data).astype(dtype)</span></code> 或 <code class="docutils literal notranslate"><span class="pre">DataFrame(data).astype(dtype)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49599">GH 49599</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift" title="pandas.DataFrame.shift"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.shift()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code>、整数 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> 和同构日期时间类数据类型的情况下，其行为已更改，现在会用整数数据类型填充新列，而不是转换为日期时间类 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49842">GH 49842</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 在遇到异常时现在会关闭文件 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49921">GH 49921</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_fwf.html#pandas.read_fwf" title="pandas.read_fwf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_fwf()</span></code></a> 的行为已更改，现在在未指定索引时，索引将始终是 <a class="reference internal" href="../reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="pandas.RangeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeIndex</span></code></a>。此前，如果新的 DataFrame/Series 长度为 0，索引将是数据类型为 <code class="docutils literal notranslate"><span class="pre">object</span></code> 的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49572">GH 49572</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.values.html#pandas.DataFrame.values" title="pandas.DataFrame.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.values()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.to_numpy.html#pandas.DataFrame.to_numpy" title="pandas.DataFrame.to_numpy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_numpy()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs" title="pandas.DataFrame.xs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.xs()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex" title="pandas.DataFrame.reindex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.reindex()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna" title="pandas.DataFrame.fillna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.fillna()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a> 不再默默地整合底层数组；请使用 <code class="docutils literal notranslate"><span class="pre">df</span> <span class="pre">=</span> <span class="pre">df.copy()</span></code> 来确保整合 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49356">GH 49356</a>)</p></li>
<li><p>使用 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-attr docutils literal notranslate"><span class="pre">loc</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc" title="pandas.DataFrame.iloc"><code class="xref py py-attr docutils literal notranslate"><span class="pre">iloc</span></code></a> 在两个轴上进行完整切片（即 <code class="docutils literal notranslate"><span class="pre">df.loc[:,</span> <span class="pre">:]</span></code> 或 <code class="docutils literal notranslate"><span class="pre">df.iloc[:,</span> <span class="pre">:]</span></code>）创建新 DataFrame 时，现在会返回一个新的 DataFrame（浅拷贝），而不是原始 DataFrame，这与其他获取完整切片的方法（例如 <code class="docutils literal notranslate"><span class="pre">df.loc[:]</span></code> 或 <code class="docutils literal notranslate"><span class="pre">df[:]</span></code>）保持一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49469">GH 49469</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数在分别传入 Series 和 DataFrame 且默认 <code class="docutils literal notranslate"><span class="pre">copy=False</span></code>（且没有其他关键字触发复制）时，现在将返回一个浅拷贝（即共享数据，但不共享属性）。此前，新的 Series 或 DataFrame 会共享索引属性（例如，<code class="docutils literal notranslate"><span class="pre">df.index</span> <span class="pre">=</span> <span class="pre">...</span></code> 也会更新父级或子级的索引）(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49523">GH 49523</a>)</p></li>
<li><p>禁止计算 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 对象的 <code class="docutils literal notranslate"><span class="pre">cumprod</span></code>；此前这会返回不正确的值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50246">GH 50246</a>)</p></li>
<li><p>从 <code class="xref py py-class docutils literal notranslate"><span class="pre">HDFStore</span></code> 文件中读取的没有索引的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 对象现在具有 <a class="reference internal" href="../reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="pandas.RangeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> 而不是 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 索引 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51076">GH 51076</a>)</p></li>
<li><p>使用包含 <a class="reference internal" href="../reference/api/pandas.NA.html#pandas.NA" title="pandas.NA"><code class="xref py py-class docutils literal notranslate"><span class="pre">NA</span></code></a> 和/或 <a class="reference internal" href="../reference/api/pandas.NaT.html#pandas.NaT" title="pandas.NaT"><code class="xref py py-class docutils literal notranslate"><span class="pre">NaT</span></code></a> 的数据实例化数字 NumPy 数据类型的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 现在会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>。此前会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51050">GH 51050</a>)</p></li>
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">read_json(orient='split')</span></code> 加载具有重复列的 JSON 文件时，现在会重命名列以避免重复，这与 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 和其他读取器一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50370">GH 50370</a>)</p></li>
<li><p>从 <code class="docutils literal notranslate"><span class="pre">Series.sparse.from_coo</span></code> 返回的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 的索引级别现在始终具有数据类型 <code class="docutils literal notranslate"><span class="pre">int32</span></code>。此前它们的数据类型为 <code class="docutils literal notranslate"><span class="pre">int64</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50926">GH 50926</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">unit</span></code> 为 “Y” 或 “M” 且序列包含非整数 <code class="docutils literal notranslate"><span class="pre">float</span></code> 值时，现在会引发错误，这与 <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> 行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50301">GH 50301</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.round.html#pandas.Series.round" title="pandas.Series.round"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.round()</span></code></a>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__invert__()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__invert__()</span></code>、<a class="reference internal" href="../reference/api/pandas.DataFrame.swapaxes.html#pandas.DataFrame.swapaxes" title="pandas.DataFrame.swapaxes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.swapaxes()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first" title="pandas.DataFrame.first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.first()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.last.html#pandas.DataFrame.last" title="pandas.DataFrame.last"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.last()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.first.html#pandas.Series.first" title="pandas.Series.first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.first()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.last.html#pandas.Series.last" title="pandas.Series.last"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.last()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.align.html#pandas.DataFrame.align" title="pandas.DataFrame.align"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.align()</span></code></a> 方法现在将始终返回新对象 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51032">GH 51032</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 聚合（例如 “sum”）在处理对象数据类型列时，不再为其结果推断非对象数据类型，请显式地在结果上调用 <code class="docutils literal notranslate"><span class="pre">result.infer_objects(copy=False)</span></code> 以获得旧行为 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51205">GH 51205</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49603">GH 49603</a>)</p></li>
<li><p>使用 <a class="reference internal" href="../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype" title="pandas.ArrowDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrowDtype</span></code></a> 数据类型进行除以零操作时，根据分子，现在返回 <code class="docutils literal notranslate"><span class="pre">-inf</span></code>、<code class="docutils literal notranslate"><span class="pre">nan</span></code> 或 <code class="docutils literal notranslate"><span class="pre">inf</span></code>，而不是引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51541">GH 51541</a>)</p></li>
<li><p>添加了 <a class="reference internal" href="../reference/api/pandas.api.types.is_any_real_numeric_dtype.html#pandas.api.types.is_any_real_numeric_dtype" title="pandas.api.types.is_any_real_numeric_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_any_real_numeric_dtype()</span></code></a> 以检查实际数字数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51152">GH 51152</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">value_counts()</span></code> 现在返回数据类型为 <a class="reference internal" href="../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype" title="pandas.ArrowDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrowDtype</span></code></a> 且类型为 <code class="docutils literal notranslate"><span class="pre">pyarrow.int64</span></code> 的数据，而不是 <code class="docutils literal notranslate"><span class="pre">"Int64"</span></code> 类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51462">GH 51462</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.factorize.html#pandas.factorize" title="pandas.factorize"><code class="xref py py-func docutils literal notranslate"><span class="pre">factorize()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.unique.html#pandas.unique" title="pandas.unique"><code class="xref py py-func docutils literal notranslate"><span class="pre">unique()</span></code></a> 在传入非纳秒分辨率的 NumPy timedelta64 或 datetime64 时，会保留原始数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48670">GH 48670</a>)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注意</p>
<p>当前的 PDEP 提案废弃并移除 pandas API 中除一小部分方法外的所有 <code class="docutils literal notranslate"><span class="pre">inplace</span></code> 和 <code class="docutils literal notranslate"><span class="pre">copy</span></code> 关键字。目前的讨论正在 <a class="reference external" href="https://github.com/pandas-dev/pandas/pull/51466">此处</a> 进行。在写时复制 (Copy-on-Write) 的背景下，这些关键字将不再是必需的。如果此提案被接受，这两个关键字将在 pandas 的下一个版本中被废弃，并在 pandas 3.0 中移除。</p>
</div>
</section>
</section>
<section id="deprecations">
<span id="whatsnew-200-deprecations"></span><h2>弃用<a class="headerlink" href="v2.0.0.html#deprecations" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>废弃了将带有系统本地时区的日期时间字符串解析为 <code class="docutils literal notranslate"><span class="pre">tzlocal</span></code> 的行为，请改用 <code class="docutils literal notranslate"><span class="pre">tz</span></code> 关键字或显式调用 <code class="docutils literal notranslate"><span class="pre">tz_localize</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50791">GH 50791</a>)</p></li>
<li><p>废弃了 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 中的参数 <code class="docutils literal notranslate"><span class="pre">infer_datetime_format</span></code>，因为其严格版本现在是默认值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48621">GH 48621</a>)</p></li>
<li><p>废弃了 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在解析字符串时带有 <code class="docutils literal notranslate"><span class="pre">unit</span></code> 的行为，在未来的版本中，这些字符串将被解析为日期时间（与不带 unit 的行为一致），而不是转换为浮点数。若要保留旧行为，请在调用 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 之前将字符串转换为数字类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50735">GH 50735</a>)</p></li>
<li><p>废弃了 <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.io.sql.execute()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50185">GH 50185</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.is_boolean.html#pandas.Index.is_boolean" title="pandas.Index.is_boolean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_boolean()</span></code></a> 已被废弃。请改用 <a class="reference internal" href="../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype" title="pandas.api.types.is_bool_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_bool_dtype()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50042">GH 50042</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.is_integer.html#pandas.Index.is_integer" title="pandas.Index.is_integer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_integer()</span></code></a> 已被废弃。请改用 <a class="reference internal" href="../reference/api/pandas.api.types.is_integer_dtype.html#pandas.api.types.is_integer_dtype" title="pandas.api.types.is_integer_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_integer_dtype()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50042">GH 50042</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.is_floating.html#pandas.Index.is_floating" title="pandas.Index.is_floating"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_floating()</span></code></a> 已被废弃。请改用 <a class="reference internal" href="../reference/api/pandas.api.types.is_float_dtype.html#pandas.api.types.is_float_dtype" title="pandas.api.types.is_float_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_float_dtype()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50042">GH 50042</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.holds_integer()</span></code> 已被废弃。请改用 <a class="reference internal" href="../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype" title="pandas.api.types.infer_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.infer_dtype()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50243">GH 50243</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.is_numeric.html#pandas.Index.is_numeric" title="pandas.Index.is_numeric"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_numeric()</span></code></a> 已被废弃。请改用 <a class="reference internal" href="../reference/api/pandas.api.types.is_any_real_numeric_dtype.html#pandas.api.types.is_any_real_numeric_dtype" title="pandas.api.types.is_any_real_numeric_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_any_real_numeric_dtype()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50042">GH 50042</a>,:issue:<cite>51152</cite>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.is_categorical.html#pandas.Index.is_categorical" title="pandas.Index.is_categorical"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_categorical()</span></code></a> 已被废弃。请改用 <a class="reference internal" href="../reference/api/pandas.api.types.is_categorical_dtype.html#pandas.api.types.is_categorical_dtype" title="pandas.api.types.is_categorical_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_categorical_dtype()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50042">GH 50042</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.is_object.html#pandas.Index.is_object" title="pandas.Index.is_object"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_object()</span></code></a> 已被废弃。请改用 <a class="reference internal" href="../reference/api/pandas.api.types.is_object_dtype.html#pandas.api.types.is_object_dtype" title="pandas.api.types.is_object_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_object_dtype()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50042">GH 50042</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.is_interval.html#pandas.Index.is_interval" title="pandas.Index.is_interval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_interval()</span></code></a> 已被废弃。请改用 <a class="reference internal" href="../reference/api/pandas.api.types.is_interval_dtype.html#pandas.api.types.is_interval_dtype" title="pandas.api.types.is_interval_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_interval_dtype()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50042">GH 50042</a>)</p></li>
<li><p>废弃了 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_table()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.read_fwf.html#pandas.read_fwf" title="pandas.read_fwf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_fwf()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 中的参数 <code class="docutils literal notranslate"><span class="pre">date_parser</span></code>，推荐使用 <code class="docutils literal notranslate"><span class="pre">date_format</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50601">GH 50601</a>)</p></li>
<li><p>废弃了 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 和 <a class="reference internal" href="../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype" title="pandas.DatetimeTZDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeTZDtype</span></code></a> 数据类型的 <code class="docutils literal notranslate"><span class="pre">all</span></code> 和 <code class="docutils literal notranslate"><span class="pre">any</span></code> 聚合，请改用例如 <code class="docutils literal notranslate"><span class="pre">(obj</span> <span class="pre">!=</span> <span class="pre">pd.Timestamp(0),</span> <span class="pre">tz=obj.tz).all()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34479">GH 34479</a>)</p></li>
<li><p>废弃了 <code class="xref py py-class docutils literal notranslate"><span class="pre">Resampler</span></code> 中未使用的参数 <code class="docutils literal notranslate"><span class="pre">*args</span></code> 和 <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50977">GH 50977</a>)</p></li>
<li><p>废弃了在单个元素 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 上调用 <code class="docutils literal notranslate"><span class="pre">float</span></code> 或 <code class="docutils literal notranslate"><span class="pre">int</span></code> 以分别返回 <code class="docutils literal notranslate"><span class="pre">float</span></code> 或 <code class="docutils literal notranslate"><span class="pre">int</span></code> 的行为。请改为在调用 <code class="docutils literal notranslate"><span class="pre">float</span></code> 或 <code class="docutils literal notranslate"><span class="pre">int</span></code> 之前提取该元素 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51101">GH 51101</a>)</p></li>
<li><p>废弃了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Grouper.groups()</span></code>，请改用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Groupby.groups()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51182">GH 51182</a>)</p></li>
<li><p>废弃了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Grouper.grouper()</span></code>，请改用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Groupby.grouper()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51182">GH 51182</a>)</p></li>
<li><p>废弃了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Grouper.obj()</span></code>，请改用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Groupby.obj()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51206">GH 51206</a>)</p></li>
<li><p>废弃了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Grouper.indexer()</span></code>，请改用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Resampler.indexer()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51206">GH 51206</a>)</p></li>
<li><p>废弃了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Grouper.ax()</span></code>，请改用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Resampler.ax()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51206">GH 51206</a>)</p></li>
<li><p>废弃了 <a class="reference internal" href="../reference/api/pandas.read_parquet.html#pandas.read_parquet" title="pandas.read_parquet"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_parquet()</span></code></a> 中的关键字 <code class="docutils literal notranslate"><span class="pre">use_nullable_dtypes</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">dtype_backend</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51853">GH 51853</a>)</p></li>
<li><p>废弃了 <a class="reference internal" href="../reference/api/pandas.Series.pad.html#pandas.Series.pad" title="pandas.Series.pad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.pad()</span></code></a>，推荐使用 <a class="reference internal" href="../reference/api/pandas.Series.ffill.html#pandas.Series.ffill" title="pandas.Series.ffill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.ffill()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33396">GH 33396</a>)</p></li>
<li><p>废弃了 <a class="reference internal" href="../reference/api/pandas.Series.backfill.html#pandas.Series.backfill" title="pandas.Series.backfill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.backfill()</span></code></a>，推荐使用 <a class="reference internal" href="../reference/api/pandas.Series.bfill.html#pandas.Series.bfill" title="pandas.Series.bfill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.bfill()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33396">GH 33396</a>)</p></li>
<li><p>废弃了 <a class="reference internal" href="../reference/api/pandas.DataFrame.pad.html#pandas.DataFrame.pad" title="pandas.DataFrame.pad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pad()</span></code></a>，推荐使用 <a class="reference internal" href="../reference/api/pandas.DataFrame.ffill.html#pandas.DataFrame.ffill" title="pandas.DataFrame.ffill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.ffill()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33396">GH 33396</a>)</p></li>
<li><p>废弃了 <a class="reference internal" href="../reference/api/pandas.DataFrame.backfill.html#pandas.DataFrame.backfill" title="pandas.DataFrame.backfill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.backfill()</span></code></a>，推荐使用 <a class="reference internal" href="../reference/api/pandas.DataFrame.bfill.html#pandas.DataFrame.bfill" title="pandas.DataFrame.bfill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.bfill()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33396">GH 33396</a>)</p></li>
<li><p>废弃了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code>。请改用 <code class="xref py py-class docutils literal notranslate"><span class="pre">StataReader</span></code> 作为上下文管理器 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49228">GH 49228</a>)</p></li>
<li><p>废弃了在迭代通过 <code class="docutils literal notranslate"><span class="pre">level</span></code> 参数为长度为 1 的列表进行分组的 <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 或 <code class="xref py py-class docutils literal notranslate"><span class="pre">SeriesGroupBy</span></code> 时生成标量值的行为；现在将返回长度为 1 的元组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51583">GH 51583</a>)</p></li>
</ul>
</section>
<section id="removal-of-prior-version-deprecations-changes">
<span id="whatsnew-200-prior-deprecations"></span><h2>移除先前版本的弃用/更改<a class="headerlink" href="v2.0.0.html#removal-of-prior-version-deprecations-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>移除了 <code class="xref py py-class docutils literal notranslate"><span class="pre">Int64Index</span></code>、<code class="xref py py-class docutils literal notranslate"><span class="pre">UInt64Index</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">Float64Index</span></code>。更多信息请参阅 <a class="reference internal" href="v2.0.0.html#whatsnew-200-enhancements-index-can-hold-numpy-numeric-dtypes"><span class="std std-ref">此处</span></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42717">GH 42717</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-attr docutils literal notranslate"><span class="pre">Timestamp.freq</span></code>、<code class="xref py py-attr docutils literal notranslate"><span class="pre">Timestamp.freqstr</span></code> 以及 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 构造函数和 <a class="reference internal" href="../reference/api/pandas.Timestamp.fromordinal.html#pandas.Timestamp.fromordinal" title="pandas.Timestamp.fromordinal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.fromordinal()</span></code></a> 中的参数 <code class="docutils literal notranslate"><span class="pre">freq</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14146">GH 14146</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalBlock</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Block.is_categorical()</span></code>，要求 datetime64 和 timedelta64 值在传递给 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Block.make_block_same_class()</span></code> 之前必须封装在 <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeArray</span></code> 或 <code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaArray</span></code> 中，要求 <code class="docutils literal notranslate"><span class="pre">DatetimeTZBlock.values</span></code> 在传递给 <code class="xref py py-class docutils literal notranslate"><span class="pre">BlockManager</span></code> 构造函数时具有正确的 ndim，并移除了 <code class="xref py py-class docutils literal notranslate"><span class="pre">SingleBlockManager</span></code> 构造函数中的 “fastpath” 关键字 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40226">GH 40226</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40571">GH 40571</a>)</p></li>
<li><p>移除了已废弃的全局选项 <code class="docutils literal notranslate"><span class="pre">use_inf_as_null</span></code>，推荐使用 <code class="docutils literal notranslate"><span class="pre">use_inf_as_na</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17126">GH 17126</a>)</p></li>
<li><p>移除了已废弃的模块 <code class="docutils literal notranslate"><span class="pre">pandas.core.index</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30193">GH 30193</a>)</p></li>
<li><p>移除了已废弃的别名 <code class="docutils literal notranslate"><span class="pre">pandas.core.tools.datetimes.to_time</span></code>，请改为直接从 <code class="docutils literal notranslate"><span class="pre">pandas.core.tools.times</span></code> 导入该函数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34145">GH 34145</a>)</p></li>
<li><p>移除了已废弃的别名 <code class="docutils literal notranslate"><span class="pre">pandas.io.json.json_normalize</span></code>，请改为直接从 <code class="docutils literal notranslate"><span class="pre">pandas.json_normalize</span></code> 导入该函数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27615">GH 27615</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.to_dense()</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">np.asarray(cat)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32639">GH 32639</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.take_nd()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27745">GH 27745</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.mode()</span>过去式，请改用 <code class="docutils literal notranslate"><span class="pre">Series(cat).mode()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45033">GH 45033</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.is_dtype_equal()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.is_dtype_equal()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37545">GH 37545</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.take_nd()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30702">GH 30702</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_type_compatible()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42113">GH 42113</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_mixed()</span></code>，请改为直接检查 <code class="docutils literal notranslate"><span class="pre">index.inferred_type</span>过去式 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32922">GH 32922</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_categorical()</span></code>；请改用 <a class="reference internal" href="../reference/api/pandas.api.types.is_categorical_dtype.html#pandas.api.types.is_categorical_dtype" title="pandas.api.types.is_categorical_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_categorical_dtype()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33385">GH 33385</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.asi8()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37877">GH 37877</a>)</p></li>
<li><p>强制执行废弃行为：在将 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> 数据和时区感知数据类型传递给 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 时，将值解释为墙钟时间而不是 UTC 时间，与 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41662">GH 41662</a>)</p></li>
<li><p>强制执行废弃行为：在非对齐（按索引或列）的多个 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 上应用 NumPy 通用函数时，现在会首先对输入进行对齐 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39239">GH 39239</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame._AXIS_NUMBERS()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame._AXIS_NAMES()</span>过去式、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Series._AXIS_NUMBERS()过去式、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Series._AXIS_NAMES()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33637">GH 33637</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.to_native_types()</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">obj.astype(str)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36418">GH 36418</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.iteritems()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.iteritems()</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">obj.items</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45321">GH 45321</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.lookup()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35224">GH 35224</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.append()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.append()</span></code>，请改用 <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35407">GH 35407</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.iteritems()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.iteritems()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">HDFStore.iteritems()</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">obj.items</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45321">GH 45321</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.union_many()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45018">GH 45018</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeArray</span>过去式、<a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 和 <code class="docutils literal notranslate"><span class="pre">dt</span></code> 访问器的 <code class="docutils literal notranslate"><span class="pre">weekofyear</span></code> 和 <code class="docutils literal notranslate"><span class="pre">week</span>过去式属性，推荐使用 <code class="docutils literal notranslate"><span class="pre">isocalendar().week</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33595">GH 33595</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">RangeIndex._start()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">RangeIndex._stop()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">RangeIndex._step()</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">start</span></code>、<code class="docutils literal notranslate"><span class="pre">stop</span></code>、<code class="docutils literal notranslate"><span class="pre">step</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30482">GH 30482</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.to_perioddelta()</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">dtindex</span> <span class="pre">-</span> <span class="pre">dtindex.to_period(freq).to_timestamp()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34853">GH 34853</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Styler.hide_index()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Styler.hide_columns()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49397">GH 49397</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Styler.set_na_rep()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Styler.set_precision()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49397">GH 49397</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Styler.where()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49397">GH 49397</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Styler.render()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49397">GH 49397</a>)</p></li>
<li><p>移除了 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> 中已废弃的参数 <code class="docutils literal notranslate"><span class="pre">col_space</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47970">GH 47970</a>)</p></li>
<li><p>移除了 <a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.highlight_null.html#pandas.io.formats.style.Styler.highlight_null" title="pandas.io.formats.style.Styler.highlight_null"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Styler.highlight_null()</span></code></a> 中已废弃的参数 <code class="docutils literal notranslate"><span class="pre">null_color</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49397">GH 49397</a>)</p></li>
<li><p>移除了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">testing.assert_frame_equal()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">testing.assert_extension_array_equal()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">testing.assert_series_equal()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">testing.assert_index_equal()</span></code> 中已废弃的参数 <code class="docutils literal notranslate"><span class="pre">check_less_precise</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30562">GH 30562</a>)</p></li>
<li><p>移除了 <a class="reference internal" href="../reference/api/pandas.DataFrame.info.html#pandas.DataFrame.info" title="pandas.DataFrame.info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.info()</span>过去式中已废弃的参数 <code class="docutils literal notranslate"><span class="pre">null_counts</span></code>。请改用 <code class="docutils literal notranslate"><span class="pre">show_counts</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37999">GH 37999</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_monotonic()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.is_monotonic()</span></code>；请改用 <code class="docutils literal notranslate"><span class="pre">obj.is_monotonic_increasing</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45422">GH 45422</a>)</p></li>
<li><p>移除了已废弃的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_all_dates()过去式 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36697">GH 36697</a>)</p></li>
<li><p>强制执行废弃行为：禁止将时区感知 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 和 <code class="docutils literal notranslate"><span class="pre">dtype="datetime64[ns]"</span></code> 传递给 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41555">GH 41555</a>)</p></li>
<li><p>强制执行废弃行为：禁止将时区感知值序列和 <code class="docutils literal notranslate"><span class="pre">dtype="datetime64[ns]"</span></code> 传递给 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41555">GH 41555</a>)</p></li>
<li><p>强制执行废弃行为：禁止在 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数中使用 <code class="docutils literal notranslate"><span class="pre">numpy.ma.mrecords.MaskedRecords</span></code>；请改用 <code class="docutils literal notranslate"><span class="pre">"{name:</span> <span class="pre">data[name]</span> <span class="pre">for</span> <span class="pre">name</span> <span class="pre">in</span> <span class="pre">data.dtype.names}</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40363">GH 40363</a>)</p></li>
<li><p>强制执行废弃行为：禁止在 <a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span>过去式和 <a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span>过去式中使用无单位的 “datetime64” 数据类型进行转换 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47844">GH 47844</a>)</p></li>
<li><p>强制执行废弃行为：禁止使用 <code class="docutils literal notranslate"><span class="pre">.astype</span></code> 将 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> 的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 转换为时区感知数据类型，请改用 <code class="docutils literal notranslate"><span class="pre">obj.tz_localize</span></code> 或 <code class="docutils literal notranslate"><span class="pre">ser.dt.tz_localize</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39258">GH 39258</a>)</p></li>
<li><p>强制执行废弃行为：禁止使用 <code class="docutils literal notranslate"><span class="pre">.astype</span></code> 将时区感知 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 转换为时区非感知 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> 数据类型，请改用 <code class="docutils literal notranslate"><span class="pre">obj.tz_localize(None)</span></code> 或 <code class="docutils literal notranslate"><span class="pre">obj.tz_convert("UTC").tz_localize(None)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39258">GH 39258</a>)</p></li>
<li><p>强制执行废弃行为：禁止向 <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> 中的 <code class="docutils literal notranslate"><span class="pre">sort</span></code> 参数传递非布尔值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/44629">GH 44629</a>)</p></li>
<li><p>移除了日期解析函数 <code class="xref py py-func docutils literal notranslate"><span class="pre">parse_date_time()</span></code>、<code class="xref py py-func docutils literal notranslate"><span class="pre">parse_date_fields()</span></code>、<code class="xref py py-func docutils literal notranslate"><span class="pre">parse_all_fields()</span></code> 和 <code class="xref py py-func docutils literal notranslate"><span class="pre">generic_parser()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24518">GH 24518</a>)</p></li>
<li><p>移除了 <code class="xref py py-class docutils literal notranslate"><span class="pre">core.arrays.SparseArray</span></code> 构造函数中的参数 <code class="docutils literal notranslate"><span class="pre">index</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/43523">GH 43523</a>)</p></li>
<li><p>移除了 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.groupby.html#pandas.Series.groupby" title="pandas.Series.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.groupby()</span>过去式中的参数 <code class="docutils literal notranslate"><span class="pre">squeeze</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32380">GH 32380</a>)</p></li>
<li><p>移除了已废弃的 <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> 属性 <code class="docutils literal notranslate"><span class="pre">apply</span></code>、<code class="docutils literal notranslate"><span class="pre">apply_index</span>过去式、<code class="docutils literal notranslate"><span class="pre">__call__</span>过去式、<code class="docutils literal notranslate"><span class="pre">onOffset</span>过去式和 <code class="docutils literal notranslate"><span class="pre">isAnchored</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34171">GH 34171</a>)</p></li>
<li><p>移除了 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series" title="pandas.DatetimeIndex.to_series"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.to_series()</span>过去式中的 <code class="docutils literal notranslate"><span class="pre">keep_tz</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29731">GH 29731</a>)</p></li>
<li><p>移除了 <a class="reference internal" href="../reference/api/pandas.Index.copy.html#pandas.Index.copy" title="pandas.Index.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.copy()</span></code></a> 中的参数 <code class="docutils literal notransolate"><span class="pre">names</span></code> 和 <code class="docutils literal notranslate"><span class="pre">dtype</span></code>，以及 <a class="reference internal" href="../reference/api/pandas.MultiIndex.copy.html#pandas.MultiIndex.copy" title="pandas.MultiIndex.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.copy()</span>过去式中的 <code class="docutils literal notranslate"><span class="pre">levels</span></code> 和 <code class="docutils literal notranslate"><span class="pre">codes</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35853">GH 35853</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36685">GH 36685</a>)</p></li>
<li><p>移除了 <a class="reference internal" href="../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels" title="pandas.MultiIndex.set_levels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.set_levels()</span>过去式和 <a class="reference internal" href="../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes" title="pandas.MultiIndex.set_codes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.set_codes()</span>过去式中的参数 <code class="docutils literal notranslate"><span class="pre">inplace</span>过去式 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35626">GH 35626</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel" title="pandas.DataFrame.to_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_excel()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.to_excel.html#pandas.Series.to_excel" title="pandas.Series.to_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_excel()</span></code></a> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">verbose</span></code> 和 <code class="docutils literal notranslate"><span class="pre">encoding</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47912">GH 47912</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="pandas.DataFrame.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv" title="pandas.Series.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_csv()</span></code></a> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">line_terminator</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">lineterminator</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45302">GH 45302</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.set_axis.html#pandas.DataFrame.set_axis" title="pandas.DataFrame.set_axis"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.set_axis()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.set_axis.html#pandas.Series.set_axis" title="pandas.Series.set_axis"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.set_axis()</span></code></a> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">inplace</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">obj</span> <span class="pre">=</span> <span class="pre">obj.set_axis(...,</span> <span class="pre">copy=False)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48130">GH 48130</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels" title="pandas.MultiIndex.set_levels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.set_levels()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes" title="pandas.MultiIndex.set_codes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.set_codes()</span></code></a> 传递位置参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41485">GH 41485</a>)</p></li>
<li><p>禁止将带有单位“Y”、“y”或“M”的组件字符串解析为 Timedelta，因为这些单位不表示明确的持续时间 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36838">GH 36838</a>)</p></li>
<li><p>移除了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.is_lexsorted()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.lexsort_depth()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38701">GH 38701</a>)</p></li>
<li><p>从 <code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.astype()</span></code> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">how</span></code>，请改用 <a class="reference internal" href="../reference/api/pandas.PeriodIndex.to_timestamp.html#pandas.PeriodIndex.to_timestamp" title="pandas.PeriodIndex.to_timestamp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.to_timestamp()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37982">GH 37982</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask" title="pandas.DataFrame.mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.mask()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where" title="pandas.DataFrame.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.where()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.mask.html#pandas.Series.mask" title="pandas.Series.mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.mask()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.where.html#pandas.Series.where" title="pandas.Series.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.where()</span></code></a> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">try_cast</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38836">GH 38836</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.Period.to_timestamp.html#pandas.Period.to_timestamp" title="pandas.Period.to_timestamp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Period.to_timestamp()</span></code></a> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">tz</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">obj.to_timestamp(...).tz_localize(tz)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34522">GH 34522</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.plot.html#pandas.Series.plot" title="pandas.Series.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.plot()</span></code></a> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">sort_columns</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47563">GH 47563</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.take.html#pandas.DataFrame.take" title="pandas.DataFrame.take"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.take()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.take.html#pandas.Series.take" title="pandas.Series.take"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.take()</span></code></a> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">is_copy</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30615">GH 30615</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.Index.get_slice_bound.html#pandas.Index.get_slice_bound" title="pandas.Index.get_slice_bound"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.get_slice_bound()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Index.slice_indexer.html#pandas.Index.slice_indexer" title="pandas.Index.slice_indexer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.slice_indexer()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Index.slice_locs.html#pandas.Index.slice_locs" title="pandas.Index.slice_locs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.slice_locs()</span></code></a> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">kind</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41378">GH 41378</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">prefix</span></code>、<code class="docutils literal notranslate"><span class="pre">squeeze</span></code>、<code class="docutils literal notranslate"><span class="pre">error_bad_lines</span></code> 和 <code class="docutils literal notranslate"><span class="pre">warn_bad_lines</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40413">GH 40413</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/43427">GH 43427</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">squeeze</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/43427">GH 43427</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe" title="pandas.DataFrame.describe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.describe()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.describe.html#pandas.Series.describe" title="pandas.Series.describe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.describe()</span></code></a> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">datetime_is_numeric</span></code>，因为日期时间数据将始终被概括为数值数据 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34798">GH 34798</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.Series.xs.html#pandas.Series.xs" title="pandas.Series.xs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.xs()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs" title="pandas.DataFrame.xs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.xs()</span></code></a> 传递列表 <code class="docutils literal notranslate"><span class="pre">key</span></code>，请改用元组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41789">GH 41789</a>)</p></li>
<li><p>禁止在 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 构造函数中使用子类特有的关键字（例如 “freq”、“tz”、“names”、“closed”） (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38597">GH 38597</a>)</p></li>
<li><p>从 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.remove_unused_categories()</span></code> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">inplace</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37918">GH 37918</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 传递非整数浮点数，当 <code class="docutils literal notranslate"><span class="pre">unit</span></code> 为“M”或“Y”时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47266">GH 47266</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 中移除了关键字 <code class="docutils literal notranslate"><span class="pre">convert_float</span></code> 和 <code class="docutils literal notranslate"><span class="pre">mangle_dupe_cols</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41176">GH 41176</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_table()</span></code></a> 中移除了关键字 <code class="docutils literal notranslate"><span class="pre">mangle_dupe_cols</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48137">GH 48137</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where" title="pandas.DataFrame.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.where()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.where.html#pandas.Series.where" title="pandas.Series.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.where()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask" title="pandas.DataFrame.mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.mask()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.mask.html#pandas.Series.mask" title="pandas.Series.mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.mask()</span></code></a> 中移除了关键字 <code class="docutils literal notranslate"><span class="pre">errors</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47728">GH 47728</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 传递非关键字参数，`io` 和 `sheet_name` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34418">GH 34418</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop" title="pandas.DataFrame.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.drop()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.drop.html#pandas.Series.drop" title="pandas.Series.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.drop()</span></code></a> 传递非关键字参数，`labels` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41486">GH 41486</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna" title="pandas.DataFrame.fillna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.fillna()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.fillna.html#pandas.Series.fillna" title="pandas.Series.fillna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.fillna()</span></code></a> 传递非关键字参数，`value` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41485">GH 41485</a>)</p></li>
<li><p>禁止向 <code class="xref py py-meth docutils literal notranslate"><span class="pre">StringMethods.split()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">StringMethods.rsplit()</span></code> 传递非关键字参数，`pat` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47448">GH 47448</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.set_index.html#pandas.DataFrame.set_index" title="pandas.DataFrame.set_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.set_index()</span></code></a> 传递非关键字参数，`keys` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41495">GH 41495</a>)</p></li>
<li><p>禁止向 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Resampler.interpolate()</span></code> 传递非关键字参数，`method` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41699">GH 41699</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index" title="pandas.DataFrame.reset_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.reset_index()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index" title="pandas.Series.reset_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.reset_index()</span></code></a> 传递非关键字参数，`level` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41496">GH 41496</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna" title="pandas.DataFrame.dropna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.dropna()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.dropna.html#pandas.Series.dropna" title="pandas.Series.dropna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dropna()</span></code></a> 传递非关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41504">GH 41504</a>)</p></li>
<li><p>禁止向 <code class="xref py py-meth docutils literal notranslate"><span class="pre">ExtensionArray.argsort()</span></code> 传递非关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46134">GH 46134</a>)</p></li>
<li><p>禁止向 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.sort_values()</span></code> 传递非关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47618">GH 47618</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.Index.drop_duplicates.html#pandas.Index.drop_duplicates" title="pandas.Index.drop_duplicates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.drop_duplicates()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.drop_duplicates.html#pandas.Series.drop_duplicates" title="pandas.Series.drop_duplicates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.drop_duplicates()</span></code></a> 传递非关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41485">GH 41485</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates" title="pandas.DataFrame.drop_duplicates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.drop_duplicates()</span></code></a> 传递非关键字参数，`subset` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41485">GH 41485</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index" title="pandas.DataFrame.sort_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sort_index()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.sort_index.html#pandas.Series.sort_index" title="pandas.Series.sort_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sort_index()</span></code></a> 传递非关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41506">GH 41506</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate" title="pandas.DataFrame.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.interpolate()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate" title="pandas.Series.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.interpolate()</span></code></a> 传递非关键字参数，`method` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41510">GH 41510</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any" title="pandas.DataFrame.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.any()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.any.html#pandas.Series.any" title="pandas.Series.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.any()</span></code></a> 传递非关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/44896">GH 44896</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.Index.set_names.html#pandas.Index.set_names" title="pandas.Index.set_names"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.set_names()</span></code></a> 传递非关键字参数，`names` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41551">GH 41551</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.Index.join.html#pandas.Index.join" title="pandas.Index.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.join()</span></code></a> 传递非关键字参数，`other` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46518">GH 46518</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> 传递非关键字参数，`objs` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41485">GH 41485</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.pivot.html#pandas.pivot" title="pandas.pivot"><code class="xref py py-func docutils literal notranslate"><span class="pre">pivot()</span></code></a> 传递非关键字参数，`data` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48301">GH 48301</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot" title="pandas.DataFrame.pivot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot()</span></code></a> 传递非关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48301">GH 48301</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.read_html.html#pandas.read_html" title="pandas.read_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code></a> 传递非关键字参数，`io` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27573">GH 27573</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 传递非关键字参数，`path_or_buf` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27573">GH 27573</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.read_sas.html#pandas.read_sas" title="pandas.read_sas"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code></a> 传递非关键字参数，`filepath_or_buffer` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47154">GH 47154</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.read_stata.html#pandas.read_stata" title="pandas.read_stata"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_stata()</span></code></a> 传递非关键字参数，`filepath_or_buffer` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48128">GH 48128</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 传递非关键字参数，`filepath_or_buffer` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41485">GH 41485</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_table()</span></code></a> 传递非关键字参数，`filepath_or_buffer` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41485">GH 41485</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.read_fwf.html#pandas.read_fwf" title="pandas.read_fwf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_fwf()</span></code></a> 传递非关键字参数，`filepath_or_buffer` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/44710">GH 44710</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.read_xml.html#pandas.read_xml" title="pandas.read_xml"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_xml()</span></code></a> 传递非关键字参数，`path_or_buffer` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45133">GH 45133</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.Series.mask.html#pandas.Series.mask" title="pandas.Series.mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.mask()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.mask.html#pandas.DataFrame.mask" title="pandas.DataFrame.mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.mask()</span></code></a> 传递非关键字参数，`cond` 和 `other` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41580">GH 41580</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata" title="pandas.DataFrame.to_stata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_stata()</span></code></a> 传递非关键字参数，`path` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48128">GH 48128</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.where.html#pandas.DataFrame.where" title="pandas.DataFrame.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.where()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.where.html#pandas.Series.where" title="pandas.Series.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.where()</span></code></a> 传递非关键字参数，`cond` 和 `other` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41523">GH 41523</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.Series.set_axis.html#pandas.Series.set_axis" title="pandas.Series.set_axis"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.set_axis()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.set_axis.html#pandas.DataFrame.set_axis" title="pandas.DataFrame.set_axis"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.set_axis()</span></code></a> 传递非关键字参数，`labels` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41491">GH 41491</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.Series.rename_axis.html#pandas.Series.rename_axis" title="pandas.Series.rename_axis"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.rename_axis()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.rename_axis.html#pandas.DataFrame.rename_axis" title="pandas.DataFrame.rename_axis"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.rename_axis()</span></code></a> 传递非关键字参数，`mapper` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47587">GH 47587</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.Series.clip.html#pandas.Series.clip" title="pandas.Series.clip"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.clip()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.clip.html#pandas.DataFrame.clip" title="pandas.DataFrame.clip"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.clip()</span></code></a> 传递非关键字参数，`lower` 和 `upper` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41511">GH 41511</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.Series.bfill.html#pandas.Series.bfill" title="pandas.Series.bfill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.bfill()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.ffill.html#pandas.Series.ffill" title="pandas.Series.ffill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.ffill()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.bfill.html#pandas.DataFrame.bfill" title="pandas.DataFrame.bfill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.bfill()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.ffill.html#pandas.DataFrame.ffill" title="pandas.DataFrame.ffill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.ffill()</span></code></a> 传递非关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41508">GH 41508</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 传递非关键字参数，`to_replace` 和 `value` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47587">GH 47587</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values" title="pandas.DataFrame.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sort_values()</span></code></a> 传递非关键字参数，`by` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41505">GH 41505</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values" title="pandas.Series.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sort_values()</span></code></a> 传递非关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41505">GH 41505</a>)</p></li>
<li><p>禁止向 <a class="reference internal" href="../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex" title="pandas.DataFrame.reindex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.reindex()</span></code></a> 传递非关键字参数，`labels` 除外 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17966">GH 17966</a>)</p></li>
<li><p>禁止对非唯一 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 对象使用 <a class="reference internal" href="../reference/api/pandas.Index.reindex.html#pandas.Index.reindex" title="pandas.Index.reindex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.reindex()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42568">GH 42568</a>)</p></li>
<li><p>禁止使用标量 <code class="docutils literal notranslate"><span class="pre">data</span></code> 构造 <a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38433">GH 38433</a>)</p></li>
<li><p>禁止在未传递 <code class="docutils literal notranslate"><span class="pre">data</span></code> 的情况下构造 <a class="reference internal" href="../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex" title="pandas.CategoricalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38944">GH 38944</a>)</p></li>
<li><p>移除了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.validate()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Expanding.validate()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">ExponentialMovingWindow.validate()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/43665">GH 43665</a>)</p></li>
<li><p>移除了返回 <code class="docutils literal notranslate"><span class="pre">"freq"</span></code> 的 <code class="xref py py-attr docutils literal notranslate"><span class="pre">Rolling.win_type</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38963">GH 38963</a>)</p></li>
<li><p>移除了 <code class="xref py py-attr docutils literal notranslate"><span class="pre">Rolling.is_datetimelike</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38963">GH 38963</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 聚合中移除了 <code class="docutils literal notranslate"><span class="pre">level</span></code> 关键字；请改用 <code class="docutils literal notranslate"><span class="pre">groupby</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39983">GH 39983</a>)</p></li>
<li><p>移除了已弃用的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Timedelta.delta()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Timedelta.is_populated()</span></code> 和 <code class="xref py py-attr docutils literal notranslate"><span class="pre">Timedelta.freq</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46430">GH 46430</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46476">GH 46476</a>)</p></li>
<li><p>移除了已弃用的 <code class="xref py py-attr docutils literal notranslate"><span class="pre">NaT.freq</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45071">GH 45071</a>)</p></li>
<li><p>移除了已弃用的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.replace()</span></code>，请改用 <a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/44929">GH 44929</a>)</p></li>
<li><p>从 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.min()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.max()</span></code> 中移除了 <code class="docutils literal notranslate"><span class="pre">numeric_only</span></code> 关键字，改用 <code class="docutils literal notranslate"><span class="pre">skipna</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48821">GH 48821</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.DataFrame.median.html#pandas.DataFrame.median" title="pandas.DataFrame.median"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.median()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.mean.html#pandas.DataFrame.mean" title="pandas.DataFrame.mean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.mean()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">numeric_only=None</span></code> 时的行为，不再排除日期时间类列。此备注在 `numeric_only=None` 弃用生效后将不再相关 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29941">GH 29941</a>)</p></li>
<li><p>移除了 <code class="xref py py-func docutils literal notranslate"><span class="pre">is_extension_type()</span></code>，改用 <code class="xref py py-func docutils literal notranslate"><span class="pre">is_extension_array_dtype()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29457">GH 29457</a>)</p></li>
<li><p>移除了 <code class="docutils literal notranslate"><span class="pre">.ExponentialMovingWindow.vol</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39220">GH 39220</a>)</p></li>
<li><p>移除了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.get_value()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.set_value()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33907">GH 33907</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28621">GH 28621</a>)</p></li>
<li><p>移除了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.slice_shift()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.slice_shift()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37601">GH 37601</a>)</p></li>
<li><p>移除了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.pad()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.backfill()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45076">GH 45076</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 中移除了 <code class="docutils literal notranslate"><span class="pre">numpy</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30636">GH 30636</a>)</p></li>
<li><p>禁止在 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict" title="pandas.DataFrame.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_dict()</span></code></a> 中为 <code class="docutils literal notranslate"><span class="pre">orient</span></code> 传递缩写 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32516">GH 32516</a>)</p></li>
<li><p>禁止在非单调的 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 上使用不在索引中的键进行部分切片。现在这将引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18531">GH 18531</a>)</p></li>
<li><p>移除了 <code class="docutils literal notranslate"><span class="pre">get_offset</span></code>，改用 <code class="xref py py-func docutils literal notranslate"><span class="pre">to_offset()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30340">GH 30340</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.infer_freq.html#pandas.infer_freq" title="pandas.infer_freq"><code class="xref py py-func docutils literal notranslate"><span class="pre">infer_freq()</span></code></a> 中移除了 <code class="docutils literal notranslate"><span class="pre">warn</span></code> 关键字 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45947">GH 45947</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.between_time.html#pandas.DataFrame.between_time" title="pandas.DataFrame.between_time"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.between_time()</span></code></a> 中移除了 <code class="docutils literal notranslate"><span class="pre">include_start</span></code> 和 <code class="docutils literal notranslate"><span class="pre">include_end</span></code> 参数，改用 <code class="docutils literal notranslate"><span class="pre">inclusive</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/43248">GH 43248</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.date_range.html#pandas.date_range" title="pandas.date_range"><code class="xref py py-meth docutils literal notranslate"><span class="pre">date_range()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.bdate_range.html#pandas.bdate_range" title="pandas.bdate_range"><code class="xref py py-meth docutils literal notranslate"><span class="pre">bdate_range()</span></code></a> 中移除了 <code class="docutils literal notranslate"><span class="pre">closed</span></code> 参数，改用 <code class="docutils literal notranslate"><span class="pre">inclusive</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40245">GH 40245</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding" title="pandas.DataFrame.expanding"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.expanding()</span></code></a> 中移除了 <code class="docutils literal notranslate"><span class="pre">center</span></code> 关键字 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20647">GH 20647</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.eval.html#pandas.eval" title="pandas.eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a> 中移除了 <code class="docutils literal notranslate"><span class="pre">truediv</span></code> 关键字 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29812">GH 29812</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc" title="pandas.Index.get_loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.get_loc()</span></code></a> 中移除了 <code class="docutils literal notranslate"><span class="pre">method</span></code> 和 <code class="docutils literal notranslate"><span class="pre">tolerance</span></code> 参数。请改用 <code class="docutils literal notranslate"><span class="pre">index.get_indexer([label],</span> <span class="pre">method=...,</span> <span class="pre">tolerance=...)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42269">GH 42269</a>)</p></li>
<li><p>移除了 <code class="docutils literal notranslate"><span class="pre">pandas.datetime</span></code> 子模块 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30489">GH 30489</a>)</p></li>
<li><p>移除了 <code class="docutils literal notranslate"><span class="pre">pandas.np</span></code> 子模块 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30296">GH 30296</a>)</p></li>
<li><p>移除了 <code class="docutils literal notranslate"><span class="pre">pandas.util.testing</span></code>，改用 <code class="docutils literal notranslate"><span class="pre">pandas.testing</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30745">GH 30745</a>)</p></li>
<li><p>移除了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.__iter__()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28277">GH 28277</a>)</p></li>
<li><p>移除了 <code class="docutils literal notranslate"><span class="pre">pandas.SparseArray</span></code>，改用 <a class="reference internal" href="../reference/api/pandas.arrays.SparseArray.html#pandas.arrays.SparseArray" title="pandas.arrays.SparseArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.SparseArray</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30642">GH 30642</a>)</p></li>
<li><p>移除了 <code class="docutils literal notranslate"><span class="pre">pandas.SparseSeries</span></code> 和 <code class="docutils literal notranslate"><span class="pre">pandas.SparseDataFrame</span></code>，包括 pickle 支持。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30642">GH 30642</a>)</p></li>
<li><p>强制禁止向数据类型为 `datetime64`、`timedelta64` 或 `period` 的 <a class="reference internal" href="../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift" title="pandas.DataFrame.shift"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.shift()</span></code></a> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.shift`()</span></code> 传递整数 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32591">GH 32591</a>)</p></li>
<li><p>强制禁止将字符串列标签传递给 <a class="reference internal" href="../reference/api/pandas.DataFrame.ewm.html#pandas.DataFrame.ewm" title="pandas.DataFrame.ewm"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.ewm()</span></code></a> 中的 <code class="docutils literal notranslate"><span class="pre">times</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/43265">GH 43265</a>)</p></li>
<li><p>强制禁止向 <a class="reference internal" href="../reference/api/pandas.Series.between.html#pandas.Series.between" title="pandas.Series.between"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.between()</span></code></a> 中的 <code class="docutils literal notranslate"><span class="pre">inclusive</span></code> 传递 <code class="docutils literal notranslate"><span class="pre">True</span></code> 和 <code class="docutils literal notranslate"><span class="pre">False</span></code>，请分别改用 <code class="docutils literal notranslate"><span class="pre">"both"</span></code> 和 <code class="docutils literal notranslate"><span class="pre">"neither"</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40628">GH 40628</a>)</p></li>
<li><p>强制禁止 `read_csv` 在 `engine="c"` 时使用超出边界的索引作为 <code class="docutils literal notranslate"><span class="pre">usecols</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/25623">GH 25623</a>)</p></li>
<li><p>强制禁止在 <a class="reference internal" href="../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter" title="pandas.ExcelWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExcelWriter</span></code></a> 中使用 <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>；请改用关键字参数 <code class="docutils literal notranslate"><span class="pre">engine_kwargs</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40430">GH 40430</a>)</p></li>
<li><p>强制禁止将列标签元组传递给 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.__getitem__()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30546">GH 30546</a>)</p></li>
<li><p>强制禁止在使用 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 某一级别上的标签序列进行索引时出现缺失标签。现在这将引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42351">GH 42351</a>)</p></li>
<li><p>强制禁止使用位置切片通过 <code class="docutils literal notranslate"><span class="pre">.loc</span></code> 设置值。请改用带标签的 <code class="docutils literal notranslate"><span class="pre">.loc</span></code> 或带位置的 <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31840">GH 31840</a>)</p></li>
<li><p>强制禁止使用 `float` 键进行位置索引，即使该键是整数，请手动将其转换为整数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34193">GH 34193</a>)</p></li>
<li><p>强制禁止使用 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 索引器与 <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> 结合使用，请改用 <code class="docutils literal notranslate"><span class="pre">.loc</span></code> 进行自动对齐 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39022">GH 39022</a>)</p></li>
<li><p>强制禁止在 <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> 和 <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code> 方法中使用 `set` 或 `dict` 索引器 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42825">GH 42825</a>)</p></li>
<li><p>强制禁止对 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 进行索引或对 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 进行位置索引时生成多维对象，例如 <code class="docutils literal notranslate"><span class="pre">obj[:,</span> <span class="pre">None]</span></code>，请改在索引前转换为 numpy (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35141">GH 35141</a>)</p></li>
<li><p>强制禁止在 <a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">suffixes</span></code> 中使用 `dict` 或 `set` 对象 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34810">GH 34810</a>)</p></li>
<li><p>强制禁止 <a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code></a> 通过 <code class="docutils literal notranslate"><span class="pre">suffixes</span></code> 关键字和已存在的列生成重复列 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/22818">GH 22818</a>)</p></li>
<li><p>强制禁止在不同级别数量上使用 <a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code></a> 或 <code class="xref py py-func docutils literal notranslate"><span class="pre">join()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34862">GH 34862</a>)</p></li>
<li><p>强制禁止 <a class="reference internal" href="../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt" title="pandas.DataFrame.melt"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.melt()</span></code></a> 中的 <code class="docutils literal notranslate"><span class="pre">value_name</span></code> 参数与 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 列中的元素匹配 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35003">GH 35003</a>)</p></li>
<li><p>强制禁止在 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_markdown.html#pandas.DataFrame.to_markdown" title="pandas.DataFrame.to_markdown"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_markdown()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.to_markdown.html#pandas.Series.to_markdown" title="pandas.Series.to_markdown"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.to_markdown()</span></code></a> 中将 <code class="docutils literal notranslate"><span class="pre">showindex</span></code> 传递给 <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">index</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33091">GH 33091</a>)</p></li>
<li><p>移除了直接设置 Categorical._codes 的功能 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41429">GH 41429</a>)</p></li>
<li><p>移除了直接设置 Categorical.categories 的功能 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47834">GH 47834</a>)</p></li>
<li><p>从 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.add_categories()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.remove_categories()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.set_categories()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.rename_categories()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.reorder_categories()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.set_ordered()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.as_ordered()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.as_unordered()</span></code> 中移除了参数 <code class="docutils literal notranslate"><span class="pre">inplace</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37981">GH 37981</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41118">GH 41118</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41133">GH 41133</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47834">GH 47834</a>)</p></li>
<li><p>强制 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.count()</span></code> 在 <code class="docutils literal notranslate"><span class="pre">min_periods=None</span></code> 时默认窗口大小 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31302">GH 31302</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet" title="pandas.DataFrame.to_parquet"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_parquet()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata" title="pandas.DataFrame.to_stata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_stata()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_feather.html#pandas.DataFrame.to_feather" title="pandas.DataFrame.to_feather"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_feather()</span></code></a> 中将 <code class="docutils literal notranslate"><span class="pre">fname</span></code> 重命名为 <code class="docutils literal notranslate"><span class="pre">path</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30338">GH 30338</a>)</p></li>
<li><p>强制禁止使用包含单个切片项的列表（例如 <code class="docutils literal notranslate"><span class="pre">ser[[slice(0,</span> <span class="pre">2)]]</span></code>）对 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 进行索引。请将列表转换为元组，或者直接传递切片 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31333">GH 31333</a>)</p></li>
<li><p>更改了使用字符串索引器对具有 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 索引的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 进行索引的行为，以前这作为行的切片操作，现在它像任何其他列键一样操作；对于旧行为，请使用 <code class="docutils literal notranslate"><span class="pre">frame.loc[key]</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36179">GH 36179</a>)</p></li>
<li><p>强制 <code class="docutils literal notranslate"><span class="pre">display.max_colwidth</span></code> 选项不接受负整数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31569">GH 31569</a>)</p></li>
<li><p>移除了 <code class="docutils literal notranslate"><span class="pre">display.column_space</span></code> 选项，改用 <code class="docutils literal notranslate"><span class="pre">df.to_string(col_space=...)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47280">GH 47280</a>)</p></li>
<li><p>从 pandas 类中移除了已弃用的方法 <code class="docutils literal notranslate"><span class="pre">mad</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11787">GH 11787</a>)</p></li>
<li><p>从 pandas 类中移除了已弃用的方法 <code class="docutils literal notranslate"><span class="pre">tshift</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11631">GH 11631</a>)</p></li>
<li><p>更改了将空数据传递给 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 的行为；默认数据类型将是 <code class="docutils literal notranslate"><span class="pre">object</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">float64</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29405">GH 29405</a>)</p></li>
<li><p>更改了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.union()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.intersection()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.symmetric_difference()</span></code> 在时区不匹配时的行为，现在会转换为 UTC 而不是转换为 `object` 数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39328">GH 39328</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在参数为“now”且 <code class="docutils literal notranslate"><span class="pre">utc=False</span></code> 时的行为，以匹配 <code class="docutils literal notranslate"><span class="pre">Timestamp("now")</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18705">GH 18705</a>)</p></li>
<li><p>更改了使用时区感知的 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 与时区不感知的 <code class="docutils literal notranslate"><span class="pre">datetime</span></code> 对象（反之亦然）进行索引的行为；现在这些操作行为与任何其他不可比较类型相同，会引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36148">GH 36148</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.Index.reindex.html#pandas.Index.reindex" title="pandas.Index.reindex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.reindex()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.reindex.html#pandas.Series.reindex" title="pandas.Series.reindex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.reindex()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex" title="pandas.DataFrame.reindex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.reindex()</span></code></a> 在 `datetime64` 数据类型和 `datetime.date` 对象作为 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> 时的行为；现在它们不再被视为等同于 `datetime.datetime` 对象，因此 reindex 会转换为 `object` 数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39767">GH 39767</a>)</p></li>
<li><p>更改了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">SparseArray.astype()</span></code> 的行为，当给定一个不是显式 <code class="docutils literal notranslate"><span class="pre">SparseDtype</span></code> 的数据类型时，现在会转换为精确请求的数据类型，而不是静默地使用 <code class="docutils literal notranslate"><span class="pre">SparseDtype</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34457">GH 34457</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.Index.ravel.html#pandas.Index.ravel" title="pandas.Index.ravel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.ravel()</span></code></a> 的行为，现在返回原始 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 的视图而不是 <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36900">GH 36900</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.Series.to_frame.html#pandas.Series.to_frame" title="pandas.Series.to_frame"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_frame()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Index.to_frame.html#pandas.Index.to_frame" title="pandas.Index.to_frame"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.to_frame()</span></code></a> 在显式 <code class="docutils literal notranslate"><span class="pre">name=None</span></code> 时的行为，现在列名将使用 <code class="docutils literal notranslate"><span class="pre">None</span></code> 而不是索引的名称或默认的 <code class="docutils literal notranslate"><span class="pre">0</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45523">GH 45523</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> 在一个数组为 `bool` 类型，另一个为整数类型时的行为，现在返回 `object` 类型而不是整数类型；请在连接前将 `bool` 对象显式转换为整数以获得旧行为 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45101">GH 45101</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数在给定浮点 <code class="docutils literal notranslate"><span class="pre">data</span></code> 和整数 <code class="docutils literal notranslate"><span class="pre">dtype</span></code> 时的行为，当数据无法无损转换时，将保留浮点数据类型，与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41170">GH 41170</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 构造函数在给定包含数字条目的 `object` 类型 <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> 时的行为；现在将保留 `object` 数据类型，而不是推断为数字数据类型，与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42870">GH 42870</a>)</p></li>
<li><p>更改了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.__and__()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.__or__()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.__xor__()</span></code> 的行为，现在作为逻辑操作（与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 行为一致）而不是集合操作的别名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37374">GH 37374</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数在传入列表且第一个元素为 <a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a> 时的行为，现在将元素视为行，转换为 `object` 数据类型，与其他类型行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38845">GH 38845</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数在传入数据无法转换为的 `dtype`（非 `int`）时的行为；现在将引发错误而不是静默忽略 `dtype` (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41733">GH 41733</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 构造函数的行为，它将不再从字符串条目推断 `datetime64` 或 `timedelta64` 数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41731">GH 41731</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 构造函数在传入 <code class="docutils literal notranslate"><span class="pre">np.datetime64</span></code> 对象和 <code class="docutils literal notranslate"><span class="pre">tz</span></code> 时的行为，现在将输入解释为墙上时间而不是 UTC 时间 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42288">GH 42288</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.Timestamp.utcfromtimestamp.html#pandas.Timestamp.utcfromtimestamp" title="pandas.Timestamp.utcfromtimestamp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.utcfromtimestamp()</span></code></a> 的行为，现在返回一个时区感知的对象，满足 <code class="docutils literal notranslate"><span class="pre">Timestamp.utcfromtimestamp(val).timestamp()</span> <span class="pre">==</span> <span class="pre">val</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45083">GH 45083</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 构造函数在传入 <code class="docutils literal notranslate"><span class="pre">SparseArray</span></code> 或 <code class="docutils literal notranslate"><span class="pre">SparseDtype</span></code> 时的行为，现在将保留该数据类型而不是转换为 <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/43930">GH 43930</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype" title="pandas.DatetimeTZDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeTZDtype</span></code></a> 对象的类 `setitem` 操作（<code class="docutils literal notranslate"><span class="pre">__setitem__</span></code>、<code class="docutils literal notranslate"><span class="pre">fillna</span></code>、<code class="docutils literal notranslate"><span class="pre">where</span></code>、<code class="docutils literal notranslate"><span class="pre">mask</span></code>、<code class="docutils literal notranslate"><span class="pre">replace</span></code>、<code class="docutils literal notranslate"><span class="pre">insert</span></code>，以及 <code class="docutils literal notranslate"><span class="pre">shift</span></code> 的 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code>）的行为，当使用具有不匹配时区的值时，该值将转换为对象的时区，而不是将两者都转换为 `object` 数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/44243">GH 44243</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数在浮点数据类型和 <a class="reference internal" href="../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype" title="pandas.DatetimeTZDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeTZDtype</span></code></a> 时的行为，现在数据被解释为 UTC 时间而不是墙上时间，与整数数据类型的处理方式一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45573">GH 45573</a>)</p></li>
<li><p>更改了 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数在整数数据类型和包含 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> 的浮点数据时的行为，现在将引发 <code class="docutils literal notranslate"><span class="pre">IntCastingNaNError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40110">GH 40110</a>)</p></li>
<li><p>当 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数使用整数 <code class="docutils literal notranslate"><span class="pre">dtype</span></code> 且值过大无法无损转换为此 <code class="docutils literal notranslate"><span class="pre">dtype</span></code> 时，其行为已变更，现在会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41734">GH 41734</a>)</p></li>
<li><p>当 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数使用整数 <code class="docutils literal notranslate"><span class="pre">dtype</span></code> 且值具有 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 或 <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> `dtype`时，其行为已变更，现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>，请改用 <code class="docutils literal notranslate"><span class="pre">values.view("int64")</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41770">GH 41770</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.resample()</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.Series.resample.html#pandas.Series.resample" title="pandas.Series.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.Series.resample()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Grouper.html#pandas.Grouper" title="pandas.Grouper"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Grouper</span></code></a> 中移除了已弃用的 <code class="docutils literal notranslate"><span class="pre">base</span></code> 和 <code class="docutils literal notranslate"><span class="pre">loffset</span></code> 参数。请改用 <code class="docutils literal transnotranslate"><span class="pre">offset</span></code> 或 <code class="docutils literal notranslate"><span class="pre">origin</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31809">GH 31809</a>)</p></li>
<li><p>当 <a class="reference internal" href="../reference/api/pandas.Series.fillna.html#pandas.Series.fillna" title="pandas.Series.fillna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.fillna()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna" title="pandas.DataFrame.fillna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.fillna()</span></code></a> 具有 <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> `dtype` 且 <code class="docutils literal transnotranslate"><span class="pre">fill_value</span></code> 不兼容时，其行为已变更；现在会转换为 <code class="docutils literal notranslate"><span class="pre">object</span></code> `dtype` 而不是引发错误，与其他 `dtype` 的行为保持一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45746">GH 45746</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace" title="pandas.Series.str.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.replace()</span></code></a> 中 <code class="docutils literal notranslate"><span class="pre">regex</span></code> 的默认参数已从 <code class="docutils literal notranslate"><span class="pre">True</span></code> 更改为 <code class="docutils literal notranslate"><span class="pre">False</span></code>。此外，当 <code class="docutils literal notranslate"><span class="pre">regex=True</span></code> 时，单个字符的 <code class="docutils literal notranslate"><span class="pre">pat</span></code> 现在将被视为正则表达式而非字符串字面量。(GH 36695, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24804">GH 24804</a>)</p></li>
<li><p>当 <a class="reference internal" href="../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any" title="pandas.DataFrame.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.any()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.all.html#pandas.DataFrame.all" title="pandas.DataFrame.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.all()</span></code></a> 使用 <code class="docutils literal notranslate"><span class="pre">bool_only=True</span></code> 时，其行为已变更；包含所有布尔值的 <code class="docutils literal notranslate"><span class="pre">object</span></code> `dtype` 列将不再被包含在内，请先手动转换为 <code class="docutils literal notranslate"><span class="pre">bool</span></code> `dtype` (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46188">GH 46188</a>)</p></li>
<li><p>当 <a class="reference internal" href="../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max" title="pandas.DataFrame.max"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.max()</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min" title="pandas.DataFrame.min"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.min</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.DataFrame.mean.html#pandas.DataFrame.mean" title="pandas.DataFrame.mean"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.mean</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.DataFrame.median.html#pandas.DataFrame.median" title="pandas.DataFrame.median"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.median</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.DataFrame.skew.html#pandas.DataFrame.skew" title="pandas.DataFrame.skew"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.skew</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.DataFrame.kurt.html#pandas.DataFrame.kurt" title="pandas.DataFrame.kurt"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.kurt</span></code></a> 使用 <code class="docutils literal notranslate"><span class="pre">axis=None</span></code> 时，其行为已变更，现在会返回一个在两个轴上应用聚合操作的标量 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45072">GH 45072</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 与 <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> 对象进行比较的行为已变更；现在它们比较结果为不相等，并在不相等比较时引发错误，与 <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> 行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36131">GH 36131</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NaT</span></code> 与 <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> 对象进行比较的行为已变更；现在它们会在不相等比较时引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39196">GH 39196</a>)</p></li>
<li><p>强制执行弃用：当 <a class="reference internal" href="../reference/api/pandas.Series.transform.html#pandas.Series.transform" title="pandas.Series.transform"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series.transform</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform" title="pandas.DataFrame.transform"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.transform</span></code></a> 与列表或字典一起使用时，静默删除引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的列的行为已强制执行 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/43740">GH 43740</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply" title="pandas.DataFrame.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.apply()</span></code></a> 使用列表类型参数时的行为已变更，任何部分失败都将引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/43740">GH 43740</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> 的行为已变更，现在通过 <a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.to_latex.html#pandas.io.formats.style.Styler.to_latex" title="pandas.io.formats.style.Styler.to_latex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Styler.to_latex()</span></code></a> 使用 Styler 实现 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47970">GH 47970</a>)</p></li>
<li><p>当键为整数且索引为 <code class="xref py py-class docutils literal notranslate"><span class="pre">Float64Index</span></code> 且键不在索引中时，<code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__setitem__()</span></code> 的行为已变更；之前我们将键视为位置索引（行为类似于 <code class="docutils literal notranslate"><span class="pre">series.iloc[key]</span> <span class="pre">=</span> <span class="pre">val</span></code>），现在我们将其视为标签索引（行为类似于 <code class="docutils literal notranslate"><span class="pre">series.loc[key]</span> <span class="pre">=</span> <span class="pre">val</span></code>），与 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__getitem__`()</span></code> 的行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33469">GH 33469</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.factorize.html#pandas.factorize" title="pandas.factorize"><code class="xref py py-func docutils literal notranslate"><span class="pre">factorize()</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.Index.factorize.html#pandas.Index.factorize" title="pandas.Index.factorize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.factorize()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.api.extensions.ExtensionArray.factorize.html#pandas.api.extensions.ExtensionArray.factorize" title="pandas.api.extensions.ExtensionArray.factorize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExtensionArray.factorize()</span></code></a> 中移除了 <code class="docutils literal notranslate"><span class="pre">na_sentinel</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47157">GH 47157</a>)</p></li>
<li><p>当 <a class="reference internal" href="../reference/api/pandas.Series.diff.html#pandas.Series.diff" title="pandas.Series.diff"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.diff()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff" title="pandas.DataFrame.diff"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.diff()</span></code></a> 使用其数组未实现 <code class="docutils literal notranslate"><span class="pre">diff</span></code> 的 <code class="xref py py-class docutils literal notranslate"><span class="pre">ExtensionDtype</span></code> `dtype` 时，其行为已变更，现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 而非转换为 numpy (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31025">GH 31025</a>)</p></li>
<li><p>强制执行弃用：在 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 上调用 <code class="docutils literal notranslate"><span class="pre">method="outer"</span></code> 的 numpy “ufunc”；现在会引发 <code class="docutils literal transnotranslate"><span class="pre">NotImplementedError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36955">GH 36955</a>)</p></li>
<li><p>强制执行弃用：禁止将 <code class="docutils literal notranslate"><span class="pre">numeric_only=True</span></code> 传递给非数值 `dtype` 的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 聚合操作（<code class="docutils literal notranslate"><span class="pre">rank</span></code>、 <code class="docutils literal notranslate"><span class="pre">any</span></code>、 <code class="docutils literal transnotranslate"><span class="pre">all</span></code> 等）(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47500">GH 47500</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply" title="pandas.core.groupby.DataFrameGroupBy.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.apply()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply" title="pandas.core.groupby.SeriesGroupBy.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.apply()</span></code></a> 的行为已变更，即使检测到转换器，也会遵守 <code class="docutils literal notranslate"><span class="pre">group_keys</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34998">GH 34998</a>)</p></li>
<li><p>当 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 的列与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 的索引不匹配时，它们之间的比较会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 而不是自动对齐，请在比较前执行 <code class="docutils literal notranslate"><span class="pre">left,</span> <span class="pre">right</span> <span class="pre">=</span> <span class="pre">left.align(right,</span> <span class="pre">axis=1,</span> <span class="pre">copy=False)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36795">GH 36795</a>)</p></li>
<li><p>强制执行弃用：`DataFrame` 聚合操作中 <code class="docutils literal notranslate"><span class="pre">numeric_only=None</span></code>（默认值）时静默删除引发错误的列的行为；<code class="docutils literal notranslate"><span class="pre">numeric_only</span></code> 现在默认为 <code class="docutils literal notranslate"><span class="pre">False</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41480">GH 41480</a>)</p></li>
<li><p>所有带有 <code class="docutils literal notranslate"><span class="pre">numeric_only</span></code> 参数的 DataFrame 方法中，<code class="docutils literal notranslate"><span class="pre">numeric_only</span></code> 的默认值已更改为 <code class="docutils literal transnotranslate"><span class="pre">False</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46096">GH 46096</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46906">GH 46906</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.rank.html#pandas.Series.rank" title="pandas.Series.rank"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.rank()</span></code></a> 中 <code class="docutils literal notranslate"><span class="pre">numeric_only</span></code> 的默认值已更改为 <code class="docutils literal transnotranslate"><span class="pre">False</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47561">GH 47561</a>)</p></li>
<li><p>强制执行弃用：在 groupby 和 resample 操作中，当 <code class="docutils literal notranslate"><span class="pre">numeric_only=False</span></code> 时静默删除无关列的行为 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41475">GH 41475</a>)</p></li>
<li><p>强制执行弃用：在 <code class="xref py py-class docutils literal notranslate"><span class="pre">Rolling</span></code>、 <code class="xref py py-class docutils literal notranslate"><span class="pre">Expanding</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">ExponentialMovingWindow</span></code> 操作中静默删除无关列的行为。这现在将引发 <a class="reference internal" href="../reference/api/pandas.errors.DataError.html#pandas.errors.DataError" title="pandas.errors.DataError"><code class="xref py py-class docutils literal notranslate"><span class="pre">errors.DataError</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42834">GH 42834</a>)</p></li>
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">df.loc[:,</span> <span class="pre">foo]</span> <span class="pre">=</span> <span class="pre">bar</span></code> 或 <code class="docutils literal notranslate"><span class="pre">df.iloc[:,</span> <span class="pre">foo]</span> <span class="pre">=</span> <span class="pre">bar</span></code> 设置值的行为已变更，现在总是尝试原地设置值，然后才回退到类型转换 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45333">GH 45333</a>)</p></li>
<li><p>各种 <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 方法中 <code class="docutils literal notranslate"><span class="pre">numeric_only</span></code> 的默认值已更改；现在所有方法都默认为 <code class="docutils literal notranslate"><span class="pre">numeric_only=False</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46072">GH 46072</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Resampler</span></code> 方法中 <code class="docutils literal notranslate"><span class="pre">numeric_only</span></code> 的默认值已更改为 <code class="docutils literal transnotranslate"><span class="pre">False</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47177">GH 47177</a>)</p></li>
<li><p>使用 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform" title="pandas.core.groupby.DataFrameGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.transform()</span></code></a> 方法，当可调用对象返回 DataFrame 时，将会与输入的索引对齐 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47244">GH 47244</a>)</p></li>
<li><p>当向 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 提供一个长度为1的列列表时，遍历生成的 <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 对象时返回的键现在将是长度为1的元组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47761">GH 47761</a>)</p></li>
<li><p>移除了已弃用的方法 <code class="xref py py-meth docutils literal notranslate"><span class="pre">ExcelWriter.write_cells()</span></code>、 <code class="xref py py-meth docutils literal notranslate"><span class="pre">ExcelWriter.save()</span></code>、 <code class="xref py py-meth docutils literal notranslate"><span class="pre">ExcelWriter.cur_sheet()</span></code>、 <code class="xref py py-meth docutils literal notranslate"><span class="pre">ExcelWriter.handles()</span></code>、 <code class="xref py py-meth docutils literal notranslate"><span class="pre">ExcelWriter.path()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45795">GH 45795</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter" title="pandas.ExcelWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExcelWriter</span></code></a> 属性 <code class="docutils literal notranslate"><span class="pre">book</span></code> 不再可设置；它仍然可以被访问和修改 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48943">GH 48943</a>)</p></li>
<li><p>移除了 <code class="xref py py-class docutils literal notranslate"><span class="pre">Rolling</span></code>、 <code class="xref py py-class docutils literal notranslate"><span class="pre">Expanding</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">ExponentialMovingWindow</span></code> 操作中未使用的 <code class="docutils literal notranslate"><span class="pre">*args</span></code> 和 <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47851">GH 47851</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="pandas.DataFrame.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code></a> 中移除了已弃用的参数 <code class="docutils literal notranslate"><span class="pre">line_terminator</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45302">GH 45302</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.lreshape.html#pandas.lreshape" title="pandas.lreshape"><code class="xref py py-func docutils literal notranslate"><span class="pre">lreshape()</span></code></a> 中移除了已弃用的参数 <code class="docutils literal transnotranslate"><span class="pre">label</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30219">GH 30219</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.eval.html#pandas.DataFrame.eval" title="pandas.DataFrame.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.eval()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.query.html#pandas.DataFrame.query" title="pandas.DataFrame.query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.query()</span></code></a> 中 <code class="docutils literal notranslate"><span class="pre">expr</span></code> 之后的参数仅限关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47587">GH 47587</a>)</p></li>
<li><p>移除了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index._get_attributes_dict()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50648">GH 50648</a>)</p></li>
<li><p>移除了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__array_wrap__()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50648">GH 50648</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.value_counts.html#pandas.DataFrame.value_counts" title="pandas.DataFrame.value_counts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.value_counts()</span></code></a> 的行为已变更，现在对于任何列表类型（无论是否只包含一个元素）返回带有 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a>，但对于单个标签返回 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50829">GH 50829</a>)</p></li>
</ul>
</section>
<section id="performance-improvements">
<span id="whatsnew-200-performance"></span><h2>性能改进<a class="headerlink" href="v2.0.0.html#performance-improvements" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.median.html#pandas.core.groupby.DataFrameGroupBy.median" title="pandas.core.groupby.DataFrameGroupBy.median"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.median()</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.median.html#pandas.core.groupby.SeriesGroupBy.median" title="pandas.core.groupby.SeriesGroupBy.median"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.median()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.cumprod.html#pandas.core.groupby.DataFrameGroupBy.cumprod" title="pandas.core.groupby.DataFrameGroupBy.cumprod"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.cumprod()</span></code></a> 对可空 `dtype` 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37493">GH 37493</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.all.html#pandas.core.groupby.DataFrameGroupBy.all" title="pandas.core.groupby.DataFrameGroupBy.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.all()</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.any.html#pandas.core.groupby.DataFrameGroupBy.any" title="pandas.core.groupby.DataFrameGroupBy.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.any()</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.all.html#pandas.core.groupby.SeriesGroupBy.all" title="pandas.core.groupby.SeriesGroupBy.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.all()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.any.html#pandas.core.groupby.SeriesGroupBy.any" title="pandas.core.groupby.SeriesGroupBy.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.any()</span></code></a> 对 object `dtype` 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50623">GH 50623</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.argsort()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.sort_values()</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48406">GH 48406</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.size()</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48723">GH 48723</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.union()</span></code> 在无缺失值且无重复项时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48505">GH 48505</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48752">GH 48752</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.difference()</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48606">GH 48606</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 集合操作中 <code class="docutils literal notranslate"><span class="pre">sort=None</span></code> 时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49010">GH 49010</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.mean.html#pandas.core.groupby.DataFrameGroupBy.mean" title="pandas.core.groupby.DataFrameGroupBy.mean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.mean()</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.mean.html#pandas.core.groupby.SeriesGroupBy.mean" title="pandas.core.groupby.SeriesGroupBy.mean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.mean()</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.var.html#pandas.core.groupby.DataFrameGroupBy.var" title="pandas.core.groupby.DataFrameGroupBy.var"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.var()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.var.html#pandas.core.groupby.SeriesGroupBy.var" title="pandas.core.groupby.SeriesGroupBy.var"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.var()</span></code></a> 对扩展数组 `dtype` 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37493">GH 37493</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.isin()</span></code> 在 <code class="docutils literal notranslate"><span class="pre">level=None</span></code> 时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48622">GH 48622</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49577">GH 49577</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.putmask()</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49830">GH 49830</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.union.html#pandas.Index.union" title="pandas.Index.union"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.union()</span></code></a> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.union()</span></code> 在索引包含重复项时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48900">GH 48900</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.rank.html#pandas.Series.rank" title="pandas.Series.rank"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.rank()</span></code></a> 对 pyarrow 支持的 `dtype` 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50264">GH 50264</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted" title="pandas.Series.searchsorted"><code class="xref py py-meth docutils literal transnotranslate"><span class="pre">Series.searchsorted()</span></code></a> 对 pyarrow 支持的 `dtype` 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50447">GH 50447</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.fillna.html#pandas.Series.fillna" title="pandas.Series.fillna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.fillna()</span></code></a> 对扩展数组 `dtype` 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49722">GH 49722</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50078">GH 50078</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.join.html#pandas.Index.join" title="pandas.Index.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.join()</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.Index.intersection.html#pandas.Index.intersection" title="pandas.Index.intersection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.intersection()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Index.union.html#pandas.Index.union" title="pandas.Index.union"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.union()</span></code></a> 在 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 单调时，对掩码和 arrow `dtype` 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50310">GH 50310</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51365">GH 51365</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts" title="pandas.Series.value_counts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.value_counts()</span></code></a> 对可空 `dtype` 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48338">GH 48338</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 构造函数传递带有可空 `dtype` 的整数 numpy 数组时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48338">GH 48338</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 构造函数传递列表时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48609">GH 48609</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join" title="pandas.DataFrame.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.join()</span></code></a> 在连接排序后的 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48504">GH 48504</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在解析带有时区偏移的字符串时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50107">GH 50107</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.loc.html#pandas.Series.loc" title="pandas.Series.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.loc()</span></code></a> 在 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 进行基于元组的索引时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48384">GH 48384</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 对分类 `dtype` 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49404">GH 49404</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.unique()</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48335">GH 48335</a>)</p></li>
<li><p>对可空和 arrow `dtype` 的索引操作的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49420">GH 49420</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51316">GH 51316</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> 对扩展数组支持的索引的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49128">GH 49128</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49178">GH 49178</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.api.types.infer_dtype.html#pandas.api.types.infer_dtype" title="pandas.api.types.infer_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">api.types.infer_dtype()</span></code></a> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51054">GH 51054</a>)</p></li>
<li><p>当使用 BZ2 或 LZMA 时，降低了 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle" title="pandas.DataFrame.to_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_pickle()</span></code></a>/<a class="reference internal" href="../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle" title="pandas.Series.to_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_pickle()</span></code></a> 的内存使用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49068">GH 49068</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.arrays.StringArray.html#pandas.arrays.StringArray" title="pandas.arrays.StringArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringArray</span></code></a> 构造函数传递 <code class="docutils literal notranslate"><span class="pre">np.str_</span></code> 类型的 numpy 数组时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49109">GH 49109</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.arrays.IntervalArray.from_tuples.html#pandas.arrays.IntervalArray.from_tuples" title="pandas.arrays.IntervalArray.from_tuples"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_tuples()</span></code></a> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50620">GH 50620</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">factorize()</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49177">GH 49177</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">__setitem__()</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50248">GH 50248</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50632">GH 50632</a>)</p></li>
<li><p>当数组包含 NA 时，<a class="reference internal" href="../reference/api/pandas.arrays.ArrowExtensionArray.html#pandas.arrays.ArrowExtensionArray" title="pandas.arrays.ArrowExtensionArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrowExtensionArray</span></code></a> 比较方法的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50524">GH 50524</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_numpy()</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49973">GH 49973</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51227">GH 51227</a>)</p></li>
<li><p>解析字符串到 <a class="reference internal" href="../reference/api/pandas.BooleanDtype.html#pandas.BooleanDtype" title="pandas.BooleanDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanDtype</span></code></a> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50613">GH 50613</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join" title="pandas.DataFrame.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.join()</span></code></a> 在连接 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 的子集时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48611">GH 48611</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.intersection()</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48604">GH 48604</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__setitem__()</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46267">GH 46267</a>)</p></li>
<li><p>可空 `dtype` 的 <code class="docutils literal notranslate"><span class="pre">var</span></code> 和 <code class="docutils literal notranslate"><span class="pre">std</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48379">GH 48379</a>)。</p></li>
<li><p>遍历 pyarrow 和可空 `dtype` 时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49825">GH 49825</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49851">GH 49851</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_sas.html#pandas.read_sas" title="pandas.read_sas"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code></a> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47403">GH 47403</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47405">GH 47405</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47656">GH 47656</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48502">GH 48502</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">RangeIndex.sort_values()</span></code> 的内存改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48801">GH 48801</a>)</p></li>
<li><p>当 <code class="docutils literal notranslate"><span class="pre">copy=True</span></code> 时，<a class="reference internal" href="../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy" title="pandas.Series.to_numpy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_numpy()</span></code></a> 通过避免两次复制来提高性能 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24345">GH 24345</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.rename.html#pandas.Series.rename" title="pandas.Series.rename"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.rename()</span></code></a> 配合 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21055">GH 21055</a>)</p></li>
<li><p>当 <code class="docutils literal notranslate"><span class="pre">by</span></code> 为分类类型且 <code class="docutils literal notranslate"><span class="pre">sort=False</span></code> 时，<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">SeriesGroupBy</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48976">GH 48976</a>)</p></li>
<li><p>当 <code class="docutils literal notranslate"><span class="pre">by</span></code> 为分类类型且 <code class="docutils literal notranslate"><span class="pre">observed=False</span></code> 时，<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">SeriesGroupBy</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49596">GH 49596</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_stata.html#pandas.read_stata" title="pandas.read_stata"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_stata()</span></code></a> 在参数 <code class="docutils literal notranslate"><span class="pre">index_col</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">None</span></code>（默认值）时的性能改进。现在索引将是 <a class="reference internal" href="../reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="pandas.RangeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> 而不是 <code class="xref py py-class docutils literal notranslate"><span class="pre">Int64Index</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49745">GH 49745</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code></a> 在不合并索引时的性能改进 - 新索引现在将是 <a class="reference internal" href="../reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="pandas.RangeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> 而不是 <code class="xref py py-class docutils literal notranslate"><span class="pre">Int64Index</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49478">GH 49478</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict" title="pandas.DataFrame.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_dict()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.to_dict.html#pandas.Series.to_dict" title="pandas.Series.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_dict()</span></code></a> 在使用任何非对象 `dtype` 时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46470">GH 46470</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_html.html#pandas.read_html" title="pandas.read_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code></a> 在存在多个表格时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49929">GH 49929</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a> 构造函数在从字符串或整数构造时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38312">GH 38312</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在使用 <code class="docutils literal notranslate"><span class="pre">'%Y%m%d'</span></code> 格式时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17410">GH 17410</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在给定或可推断格式时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50465">GH 50465</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.median.html#pandas.Series.median" title="pandas.Series.median"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.median()</span></code></a> 对可空 `dtype` 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50838">GH 50838</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 在将 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> lambda 函数传递给 <code class="docutils literal notranslate"><span class="pre">date_parser</span></code> 且输入具有混合时区偏移时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35296">GH 35296</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.isna.html#pandas.isna" title="pandas.isna"><code class="xref py py-func docutils literal notranslate"><span class="pre">isna()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.isnull.html#pandas.isnull" title="pandas.isnull"><code class="xref py py-func docutils literal notranslate"><span class="pre">isnull()</span></code></a> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50658">GH 50658</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts" title="pandas.core.groupby.SeriesGroupBy.value_counts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.value_counts()</span></code></a> 对分类 `dtype` 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46202">GH 46202</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_hdf.html#pandas.read_hdf" title="pandas.read_hdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_hdf()</span></code></a> 中的引用泄漏 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37441">GH 37441</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json" title="pandas.DataFrame.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.to_json.html#pandas.Series.to_json" title="pandas.Series.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_json()</span></code></a> 在序列化日期时间和时间差时的内存泄漏 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40443">GH 40443</a>)</p></li>
<li><p>降低了许多 <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 方法的内存使用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51090">GH 51090</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.round.html#pandas.DataFrame.round" title="pandas.DataFrame.round"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.round()</span></code></a> 对整数 <code class="docutils literal notranslate"><span class="pre">decimal</span></code> 参数的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17254">GH 17254</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 在使用大型字典作为 <code class="docutils literal notranslate"><span class="pre">to_replace</span></code> 时的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6697">GH 6697</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">StataReader</span></code> 在读取可寻址文件时的内存改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48922">GH 48922</a>)</p></li>
</ul>
</section>
<section id="bug-fixes">
<span id="whatsnew-200-bug-fixes"></span><h2>错误修复<a class="headerlink" href="v2.0.0.html#bug-fixes" title="Link to this heading">#</a></h2>
<section id="categorical">
<h3>Categorical<a class="headerlink" href="v2.0.0.html#categorical" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.set_categories()</span></code> 丢失 `dtype` 信息的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48812">GH 48812</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 在 `dtype` 为分类类型且 <code class="docutils literal notranslate"><span class="pre">to_replace</span></code> 值与新值重叠时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49404">GH 49404</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 在 `dtype` 为分类类型时丢失底层分类的可空 `dtype` 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49404">GH 49404</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.groupby.html#pandas.Series.groupby" title="pandas.Series.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.groupby()</span></code></a> 在用作分组器时会重新排序分类的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48749">GH 48749</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a> 构造函数在从 <a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a> 对象构造且 <code class="docutils literal notranslate"><span class="pre">dtype="category"</span></code> 时丢失有序性的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49309">GH 49309</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.min.html#pandas.core.groupby.SeriesGroupBy.min" title="pandas.core.groupby.SeriesGroupBy.min"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.min()</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.max.html#pandas.core.groupby.SeriesGroupBy.max" title="pandas.core.groupby.SeriesGroupBy.max"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.max()</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.min.html#pandas.core.groupby.DataFrameGroupBy.min" title="pandas.core.groupby.DataFrameGroupBy.min"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.min()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.max.html#pandas.core.groupby.DataFrameGroupBy.max" title="pandas.core.groupby.DataFrameGroupBy.max"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.max()</span></code></a> 在使用无序 <a class="reference internal" href="../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype" title="pandas.CategoricalDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalDtype</span></code></a> 且没有分组时未能引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51034">GH 51034</a>)</p></li>
</ul>
</section>
<section id="datetimelike">
<h3>日期时间类型<a class="headerlink" href="v2.0.0.html#datetimelike" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.infer_freq.html#pandas.infer_freq" title="pandas.infer_freq"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.infer_freq()</span></code></a> 在 <a class="reference internal" href="../reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="pandas.RangeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> 上推断时引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47084">GH 47084</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在字符串参数对应大整数时错误地引发 <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50533">GH 50533</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">errors='coerce'</span></code> 和 <code class="docutils literal notranslate"><span class="pre">infer_datetime_format=True</span></code> 时对无效偏移量引发错误的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48633">GH 48633</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 构造函数在 <code class="docutils literal notranslate"><span class="pre">tz=None</span></code> 与时区感知 `dtype` 或数据结合明确指定时未能引发错误的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48659">GH 48659</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 减去 <code class="docutils literal notranslate"><span class="pre">datetime</span></code> 标量时未能保留原始 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 属性的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48818">GH 48818</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas.tseries.holiday.Holiday</span></code> 中，半开日期区间导致 <code class="xref py py-meth docutils literal notranslate"><span class="pre">USFederalHolidayCalendar.holidays()</span></code> 返回类型不一致的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49075">GH 49075</a>)</p></li>
<li><p>在夏令时转换附近，使用 `dateutil` 或 `zoneinfo` 时区渲染带有时区感知 `dtype` 的 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>、 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49684">GH 49684</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在解析 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a>、 <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>、 <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> 或 <code class="docutils literal notranslate"><span class="pre">np.datetime64</span></code> 对象且传递非 ISO8601 <code class="docutils literal notranslate"><span class="pre">format</span></code> 时引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49298">GH 49298</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50036">GH 50036</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在解析空字符串并传递非 ISO8601 格式时引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的错误。现在，空字符串将被解析为 <a class="reference internal" href="../reference/api/pandas.NaT.html#pandas.NaT" title="pandas.NaT"><code class="xref py py-class docutils literal notranslate"><span class="pre">NaT</span></code></a>，以与 ISO8601 格式的处理方式兼容 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50251">GH 50251</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 在解析非 ISO8601 分隔的日期字符串时显示 <code class="docutils literal notranslate"><span class="pre">UserWarning</span></code>，但该警告对用户而言无法采取行动的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50232">GH 50232</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在解析包含 ISO 周指令和 ISO 工作日指令格式的日期时显示误导性的 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50308">GH 50308</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.round.html#pandas.Timestamp.round" title="pandas.Timestamp.round"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.round()</span></code></a> 当 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 参数持续时间为零（例如“0ns”）时，返回错误结果而非引发错误的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49737">GH 49737</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在传递无效格式且 <code class="docutils literal notranslate"><span class="pre">errors</span></code> 为 <code class="docutils literal notranslate"><span class="pre">'ignore'</span></code> 或 <code class="docutils literal transnotranslate"><span class="pre">'coerce'</span></code> 时未引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50266">GH 50266</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> 在使用毫秒和另一个超日参数构造时引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49897">GH 49897</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在解析带有 <code class="docutils literal notranslate"><span class="pre">%Y%m%d</span></code> 格式的十进制日期字符串时未引发 <code class="docutils literal transnotranslate"><span class="pre">ValueError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50051">GH 50051</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在解析带有 ISO8601 格式的混合偏移日期字符串时未将 <code class="docutils literal notranslate"><span class="pre">None</span></code> 转换为 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50071">GH 50071</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在解析超出范围的日期字符串且 <code class="docutils literal notranslate"><span class="pre">errors='ignore'</span></code> 和 <code class="docutils literal notranslate"><span class="pre">format='%Y%m%d'</span></code> 时未返回输入的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14487">GH 14487</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在使用时区感知字符串、ISO8601 格式和 <code class="docutils literal notranslate"><span class="pre">utc=False</span></code> 解析时，将时区非感知 <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> 转换为时区感知的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50254">GH 50254</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在解析 ISO8601 格式日期且某些值未填充零时引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21422">GH 21422</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中存在一个 Bug，当使用 <code class="docutils literal notranslate"><span class="pre">format='%Y%m%d'</span></code> 和 <code class="docutils literal notranslate"><span class="pre">errors='ignore'</span></code> 时会给出不正确的结果（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26493">GH 26493</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中存在一个 Bug，如果 <code class="docutils literal notranslate"><span class="pre">format</span></code> 不是 ISO8601 格式，它将无法解析日期字符串 <code class="docutils literal notranslate"><span class="pre">'today'</span></code> 和 <code class="docutils literal notranslate"><span class="pre">'now'</span></code>（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50359">GH 50359</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Timestamp.utctimetuple.html#pandas.Timestamp.utctimetuple" title="pandas.Timestamp.utctimetuple"><code class="xref py py-func docutils literal notranslate"><span class="pre">Timestamp.utctimetuple()</span></code></a> 中存在一个 Bug，导致其抛出 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32174">GH 32174</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中存在一个 Bug，当使用 <code class="docutils literal notranslate"><span class="pre">errors='ignore'</span></code> 解析混合偏移的 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 时会抛出 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50585">GH 50585</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中存在一个 Bug，它错误地处理了在溢出边界 1 个 <code class="docutils literal notranslate"><span class="pre">unit</span></code> 范围内的浮点输入（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50183">GH 50183</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中存在一个 Bug，当单位为“Y”或“M”时会给出不正确的结果，与逐点的 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 结果不匹配（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50870">GH 50870</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate" title="pandas.Series.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.interpolate()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate" title="pandas.DataFrame.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.interpolate()</span></code></a> 中存在一个 Bug，当使用 datetime 或 timedelta 数据类型时，会错误地抛出 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11312">GH 11312</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中存在一个 Bug，当输入超出边界时，带有 <code class="docutils literal notranslate"><span class="pre">errors='ignore'</span></code> 的输入未被返回（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50587">GH 50587</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.from_records.html#pandas.DataFrame.from_records" title="pandas.DataFrame.from_records"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.from_records()</span></code></a> 中存在一个 Bug，当给定具有时区感知 datetime64 列的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 输入时，错误地丢弃了时区感知（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51162">GH 51162</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中存在一个 Bug，当使用 <code class="docutils literal notranslate"><span class="pre">errors='coerce'</span></code> 解析日期字符串时，会抛出 <code class="docutils literal notranslate"><span class="pre">decimal.InvalidOperation</span></code>（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51084">GH 51084</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中存在一个 Bug，当同时指定 <code class="docutils literal notranslate"><span class="pre">unit</span></code> 和 <code class="docutils literal notranslate"><span class="pre">origin</span></code> 时会返回不正确的结果（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42624">GH 42624</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code></a> 中存在一个 Bug，当将包含时区感知日期时间或字符串的对象类型对象转换为 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> 时，会错误地将其本地化为 UTC，而不是抛出 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50140">GH 50140</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile" title="pandas.core.groupby.DataFrameGroupBy.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.quantile()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.quantile.html#pandas.core.groupby.SeriesGroupBy.quantile" title="pandas.core.groupby.SeriesGroupBy.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.quantile()</span></code></a> 中存在一个 Bug，当使用 datetime 或 timedelta 数据类型时，对于包含 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 的组会给出不正确的结果（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51373">GH 51373</a>）</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile" title="pandas.core.groupby.DataFrameGroupBy.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.quantile()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.quantile.html#pandas.core.groupby.SeriesGroupBy.quantile" title="pandas.core.groupby.SeriesGroupBy.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.quantile()</span></code></a> 中存在一个 Bug，当使用 <a class="reference internal" href="../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype" title="pandas.PeriodDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodDtype</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype" title="pandas.DatetimeTZDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeTZDtype</span></code></a> 时会错误地抛出异常（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51373">GH 51373</a>）</p></li>
</ul>
</section>
<section id="timedelta">
<h3>时间差<a class="headerlink" href="v2.0.0.html#timedelta" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_timedelta.html#pandas.to_timedelta" title="pandas.to_timedelta"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_timedelta()</span></code></a> 中存在一个 Bug，当输入具有可空数据类型 <code class="docutils literal notranslate"><span class="pre">Float64</span></code> 时会抛出错误（<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48796">GH 48796</a>）</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 构造函数中的错误：当给定 <code class="docutils literal notranslate"><span class="pre">np.timedelta64("nat")</span></code> 时，错误地抛出异常而不是返回 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48898">GH 48898</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 构造函数中的错误：当同时传入 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 对象和关键字（如 days, seconds）时未能抛出异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48898">GH 48898</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 与非常大的 <code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code> 对象进行比较时，错误地引发 <code class="docutils literal notranslate"><span class="pre">OutOfBoundsTimedelta</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49021">GH 49021</a>)</p></li>
</ul>
</section>
<section id="timezones">
<h3>时区<a class="headerlink" href="v2.0.0.html#timezones" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code></a> 中的错误：当 object-dtype 包含多个时区感知（timezone-aware）的 <code class="docutils literal notranslate"><span class="pre">datetime</span></code> 对象且时区不一致时，将其转换为 <a class="reference internal" href="../reference/api/pandas.DatetimeTZDtype.html#pandas.DatetimeTZDtype" title="pandas.DatetimeTZDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeTZDtype</span></code></a> 会错误地引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32581">GH 32581</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">format</span></code> 使用 <code class="docutils literal notranslate"><span class="pre">%Z</span></code> 指定时，未能解析带有时区名称的日期字符串 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49748">GH 49748</a>)</p></li>
<li><p>改进了当 <a class="reference internal" href="../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize" title="pandas.Timestamp.tz_localize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.tz_localize()</span></code></a> 中 <code class="docutils literal notranslate"><span class="pre">ambiguous</span></code> 参数传入无效值时的错误消息 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49565">GH 49565</a>)</p></li>
<li><p>字符串解析中的错误：错误地允许使用无效时区构造 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a>，这会在尝试打印时引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50668">GH 50668</a>)</p></li>
<li><p>修正了 <code class="xref py py-func docutils literal notranslate"><span class="pre">objects_to_datetime64ns()</span></code> 中的 TypeError 消息，以提示 DatetimeIndex 具有混合时区 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50974">GH 50974</a>)</p></li>
</ul>
</section>
<section id="numeric">
<h3>数值<a class="headerlink" href="v2.0.0.html#numeric" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.add.html#pandas.DataFrame.add" title="pandas.DataFrame.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.add()</span></code></a> 中的错误：当输入包含混合 DataFrame 类型和 Series 类型时，无法应用 ufunc (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39853">GH 39853</a>)</p></li>
<li><p>对 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 执行算术运算时的错误：在结合掩码数据类型和 numpy 数据类型时未传播掩码 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45810">GH 45810</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42630">GH 42630</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.sem.html#pandas.DataFrame.sem" title="pandas.DataFrame.sem"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sem()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.sem.html#pandas.Series.sem" title="pandas.Series.sem"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sem()</span></code></a> 中的错误：当使用 <a class="reference internal" href="../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype" title="pandas.ArrowDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrowDtype</span></code></a> 支持的数据时，始终会引发错误的 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49759">GH 49759</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__add__()</span></code> 中的错误：对于列表和掩码 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a>，会转换为 object 类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/22962">GH 22962</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mode()</span></code> 中的错误：当存在 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 值时，不尊重 <code class="docutils literal notranslate"><span class="pre">dropna=False</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50982">GH 50982</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.query.html#pandas.DataFrame.query" title="pandas.DataFrame.query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.query()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">engine="numexpr"</span></code> 且列名为 <code class="docutils literal notranslate"><span class="pre">min</span></code> 或 <code class="docutils literal notranslate"><span class="pre">max</span></code> 时，会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50937">GH 50937</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min" title="pandas.DataFrame.min"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.min()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max" title="pandas.DataFrame.max"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.max()</span></code></a> 中的错误：当带有 tz-aware 数据且包含 <code class="docutils literal notranslate"><span class="pre">pd.NaT</span></code> 和 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> 时，会返回不正确的结果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51242">GH 51242</a>)</p></li>
</ul>
</section>
<section id="conversion">
<h3>转换<a class="headerlink" href="v2.0.0.html#conversion" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>从字符串列表构造 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 时，当 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 数据类型时，错误地抛出异常而不是进行类型转换 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/44923">GH 44923</a>)</p></li>
<li><p>构造具有掩码数据类型和布尔值（包含 <code class="docutils literal notranslate"><span class="pre">NA</span></code>）的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 时引发异常的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42137">GH 42137</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.eval.html#pandas.DataFrame.eval" title="pandas.DataFrame.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.eval()</span></code></a> 中的错误：当函数调用中存在负值时，错误地引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46471">GH 46471</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.convert_dtypes.html#pandas.Series.convert_dtypes" title="pandas.Series.convert_dtypes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.convert_dtypes()</span></code></a> 中的错误：当 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 包含 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 且数据类型为 <code class="docutils literal notranslate"><span class="pre">object</span></code> 时，未能将数据类型转换为可空数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48791">GH 48791</a>)</p></li>
<li><p>错误：任何 <code class="xref py py-class docutils literal notranslate"><span class="pre">ExtensionDtype</span></code> 子类，只要 <code class="docutils literal notranslate"><span class="pre">kind="M"</span></code>，都会被解释为时区类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34986">GH 34986</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.arrays.ArrowExtensionArray.html#pandas.arrays.ArrowExtensionArray" title="pandas.arrays.ArrowExtensionArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">arrays.ArrowExtensionArray</span></code></a> 中的错误：当传入字符串序列或二进制序列时，会引发 <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49172">GH 49172</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> 中的错误：从非 pyarrow 字符串数据类型转换为 pyarrow 数值类型时引发 <code class="docutils literal notranslate"><span class="pre">pyarrow.ArrowInvalid</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50430">GH 50430</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code></a> 中的错误：当转换为 <code class="docutils literal notranslate"><span class="pre">string</span></code> 且 <code class="docutils literal notranslate"><span class="pre">copy=False</span></code> 时，会就地修改输入数组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51073">GH 51073</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.to_numpy.html#pandas.Series.to_numpy" title="pandas.Series.to_numpy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_numpy()</span></code></a> 中的错误：在应用 <code class="docutils literal notranslate"><span class="pre">na_value</span></code> 之前就将数据转换为 NumPy 数组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48951">GH 48951</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code></a> 中的错误：当转换为 pyarrow 数据类型时未复制数据 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50984">GH 50984</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">format</span></code> 是 ISO8601 格式时，未能尊重 <code class="docutils literal notranslate"><span class="pre">exact</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12649">GH 12649</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaArray.astype()</span></code> 中的错误：转换为 pyarrow duration 类型时引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49795">GH 49795</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.eval.html#pandas.DataFrame.eval" title="pandas.DataFrame.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.eval()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.query.html#pandas.DataFrame.query" title="pandas.DataFrame.query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.query()</span></code></a> 中的错误：对扩展数组数据类型引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29618">GH 29618</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50261">GH 50261</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31913">GH 31913</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series()</span></code></a> 中的错误：当从 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 创建且 <code class="docutils literal notranslate"><span class="pre">dtype</span></code> 等于 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">dtype</span></code> 时，未复制数据 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/52008">GH 52008</a>)</p></li>
</ul>
</section>
<section id="strings">
<h3>字符串<a class="headerlink" href="v2.0.0.html#strings" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.api.types.is_string_dtype.html#pandas.api.types.is_string_dtype" title="pandas.api.types.is_string_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_string_dtype()</span></code></a> 中的错误：当数据类型为 <a class="reference internal" href="../reference/api/pandas.StringDtype.html#pandas.StringDtype" title="pandas.StringDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringDtype</span></code></a> 或带有 <code class="docutils literal notranslate"><span class="pre">pyarrow.string()</span></code> 的 <a class="reference internal" href="../reference/api/pandas.ArrowDtype.html#pandas.ArrowDtype" title="pandas.ArrowDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrowDtype</span></code></a> 时，不会返回 <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15585">GH 15585</a>)</p></li>
<li><p>将字符串数据类型转换为“datetime64[ns]”或“timedelta64[ns]”时，错误地引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36153">GH 36153</a>)</p></li>
<li><p>在字符串数据类型列中用数组设置值时，当数组包含缺失值时，作为副作用会修改数组的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51299">GH 51299</a>)</p></li>
</ul>
</section>
<section id="interval">
<h3>区间<a class="headerlink" href="v2.0.0.html#interval" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.IntervalIndex.is_overlapping.html#pandas.IntervalIndex.is_overlapping" title="pandas.IntervalIndex.is_overlapping"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.is_overlapping()</span></code></a> 中的错误：当区间具有重复的左边界时，输出不正确 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49581">GH 49581</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.infer_objects.html#pandas.Series.infer_objects" title="pandas.Series.infer_objects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.infer_objects()</span></code></a> 中的错误：未能为由 <a class="reference internal" href="../reference/api/pandas.Interval.html#pandas.Interval" title="pandas.Interval"><code class="xref py py-class docutils literal notranslate"><span class="pre">Interval</span></code></a> 对象组成的 object series 推断 <a class="reference internal" href="../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype" title="pandas.IntervalDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalDtype</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50090">GH 50090</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.shift.html#pandas.Series.shift" title="pandas.Series.shift"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.shift()</span></code></a> 中的错误：当使用 <a class="reference internal" href="../reference/api/pandas.IntervalDtype.html#pandas.IntervalDtype" title="pandas.IntervalDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalDtype</span></code></a> 和无效的 null <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> 时，未能引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51258">GH 51258</a>)</p></li>
</ul>
</section>
<section id="indexing">
<h3>索引<a class="headerlink" href="v2.0.0.html#indexing" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__setitem__()</span></code> 中的错误：当索引器是 <code class="docutils literal notranslate"><span class="pre">boolean</span></code> 数据类型的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 时引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47125">GH 47125</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex" title="pandas.DataFrame.reindex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.reindex()</span></code></a> 中的错误：当索引列和索引为 <code class="docutils literal notranslate"><span class="pre">uint</span></code> 数据类型时，填充了错误的值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48184">GH 48184</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中的错误：当设置具有不同数据类型的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 时，会将值强制转换为单一数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50467">GH 50467</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values" title="pandas.DataFrame.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sort_values()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">by</span></code> 为空列表且 <code class="docutils literal notranslate"><span class="pre">inplace=True</span></code> 时，未返回 <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50643">GH 50643</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中的错误：当使用列表索引器设置值时，强制转换数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49159">GH 49159</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.loc.html#pandas.Series.loc" title="pandas.Series.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.loc()</span></code></a> 中的错误：对超出范围的切片结束索引器引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50161">GH 50161</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中的错误：当使用全 <code class="docutils literal notranslate"><span class="pre">False</span></code> 的 <code class="docutils literal notranslate"><span class="pre">bool</span></code> 索引器和空对象时，引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51450">GH 51450</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中的错误：当使用 <code class="docutils literal notranslate"><span class="pre">bool</span></code> 索引器和 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 时，引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47687">GH 47687</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中的错误：当使用非标量索引器设置 pyarrow 后端列的值时，引发 <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50085">GH 50085</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__getitem__()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__getitem__()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__setitem__()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__setitem__()</span></code> 中的错误：当对具有扩展浮点数据类型（<code class="xref py py-class docutils literal notranslate"><span class="pre">Float64</span></code> &amp; <code class="xref py py-class docutils literal notranslate"><span class="pre">Float64</span></code>）或使用整数的复杂数据类型的索引进行索引时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51053">GH 51053</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中的错误：当使用空索引器设置不兼容值时修改对象 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45981">GH 45981</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__setitem__()</span></code> 中的错误：当右侧是具有 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 列的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 时，引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49121">GH 49121</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex" title="pandas.DataFrame.reindex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.reindex()</span></code></a> 中的错误：当 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 具有单个扩展数组列且对 <code class="docutils literal notranslate"><span class="pre">columns</span></code> 和 <code class="docutils literal notranslate"><span class="pre">index</span></code> 进行重新索引时，将数据类型强制转换为 <code class="docutils literal notranslate"><span class="pre">object</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48190">GH 48190</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc" title="pandas.DataFrame.iloc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.iloc()</span></code></a> 中的错误：当索引器是具有数值扩展数组数据类型的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 时，引发 <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49521">GH 49521</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe" title="pandas.DataFrame.describe"><code class="xref py py-func docutils literal notranslate"><span class="pre">describe()</span></code></a> 中的错误：在结果索引中格式化百分位数时，显示了比所需更多的小数位 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46362">GH 46362</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.compare.html#pandas.DataFrame.compare" title="pandas.DataFrame.compare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.compare()</span></code></a> 中的错误：当比较可空数据类型中的 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 与值时，不识别差异 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48939">GH 48939</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.rename.html#pandas.Series.rename" title="pandas.Series.rename"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.rename()</span></code></a> 中的错误：当使用 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 时丢失扩展数组数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21055">GH 21055</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.isetitem()</span></code> 中的错误：将 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 中的扩展数组数据类型强制转换为 object 类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49922">GH 49922</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__getitem__()</span></code> 中的错误：当从空的 pyarrow 后端对象中选择时返回损坏的对象 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51734">GH 51734</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">BusinessHour</span></code> 中的错误：当索引中不包含开放时间时，会导致 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 创建失败 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49835">GH 49835</a>)</p></li>
</ul>
</section>
<section id="missing">
<h3>缺失值<a class="headerlink" href="v2.0.0.html#missing" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.Index.equals.html#pandas.Index.equals" title="pandas.Index.equals"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.equals()</span></code></a> 中的错误：当 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 由包含 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 的元组组成时，引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48446">GH 48446</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.map.html#pandas.Series.map" title="pandas.Series.map"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.map()</span></code></a> 中的错误：当数据包含 NaN 且使用了 defaultdict 映射时，导致结果不正确 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48813">GH 48813</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.NA.html#pandas.NA" title="pandas.NA"><code class="xref py py-class docutils literal notranslate"><span class="pre">NA</span></code></a> 中的错误：当与 <code class="docutils literal notranslate"><span class="pre">bytes</span></code> 对象执行二进制操作时，引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 而不是返回 <a class="reference internal" href="../reference/api/pandas.NA.html#pandas.NA" title="pandas.NA"><code class="xref py py-class docutils literal notranslate"><span class="pre">NA</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49108">GH 49108</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update" title="pandas.DataFrame.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.update()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">overwrite=False</span></code> 且 <code class="docutils literal notranslate"><span class="pre">self</span></code> 具有包含 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 值的列但该列在 <code class="docutils literal notranslate"><span class="pre">other</span></code> 中不存在时，引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16713">GH 16713</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 中的错误：当替换包含 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 的 object-dtype <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 中的值时，引发 <code class="docutils literal notranslate"><span class="pre">RecursionError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47480">GH 47480</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 中的错误：当替换包含 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 的数值 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 中的值时，引发 <code class="docutils literal notranslate"><span class="pre">RecursionError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50758">GH 50758</a>)</p></li>
</ul>
</section>
<section id="multiindex">
<h3>多级索引<a class="headerlink" href="v2.0.0.html#multiindex" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.MultiIndex.get_indexer.html#pandas.MultiIndex.get_indexer" title="pandas.MultiIndex.get_indexer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.get_indexer()</span></code></a> 中的错误：不匹配 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> 值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29252">GH 29252</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37222">GH 37222</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38623">GH 38623</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42883">GH 42883</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/43222">GH 43222</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46173">GH 46173</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48905">GH 48905</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.argsort()</span></code> 中的错误：当索引包含 <a class="reference internal" href="../reference/api/pandas.NA.html#pandas.NA" title="pandas.NA"><code class="xref py py-attr docutils literal notranslate"><span class="pre">NA</span></code></a> 时，引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48495">GH 48495</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.difference()</span></code> 中的错误：丢失扩展数组数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48606">GH 48606</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels" title="pandas.MultiIndex.set_levels"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex.set_levels</span></code></a> 中的错误：设置空级别时引发 <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48636">GH 48636</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.unique()</span></code> 中的错误：丢失扩展数组数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48335">GH 48335</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.intersection()</span></code> 中的错误：丢失扩展数组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48604">GH 48604</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.union()</span></code> 中的错误：丢失扩展数组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48498">GH 48498</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48505">GH 48505</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48900">GH 48900</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.union()</span></code> 中的错误：当 sort=None 且索引包含缺失值时未排序 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49010">GH 49010</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.MultiIndex.append.html#pandas.MultiIndex.append" title="pandas.MultiIndex.append"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.append()</span></code></a> 中的错误：未检查名称是否相等 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48288">GH 48288</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.symmetric_difference()</span></code> 中的错误：丢失扩展数组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48607">GH 48607</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.join()</span></code> 中的错误：当 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 包含重复项时丢失数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49830">GH 49830</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.putmask()</span></code> 中的错误：丢失扩展数组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49830">GH 49830</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.value_counts()</span></code> 中的错误：返回的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 由元组的扁平索引而非 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 索引 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49558">GH 49558</a>)</p></li>
</ul>
</section>
<section id="i-o">
<h3>输入/输出<a class="headerlink" href="v2.0.0.html#i-o" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.read_sas.html#pandas.read_sas" title="pandas.read_sas"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code></a> 中的错误：导致 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 碎片化并引发 <a class="reference internal" href="../reference/api/pandas.errors.PerformanceWarning.html#pandas.errors.PerformanceWarning" title="pandas.errors.PerformanceWarning"><code class="xref py py-class docutils literal notranslate"><span class="pre">errors.PerformanceWarning</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48595">GH 48595</a>)</p></li>
<li><p>改进了 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 中的错误消息，在读取文件时引发异常时包含了导致错误的表名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48706">GH 48706</a>)</p></li>
<li><p>错误：当序列化 PyArrow 后端数据的子集时，会序列化整个数据而不是子集 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42600">GH 42600</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_sql_query.html#pandas.read_sql_query" title="pandas.read_sql_query"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql_query()</span></code></a> 中的错误：当指定 <code class="docutils literal notranslate"><span class="pre">chunksize</span></code> 且结果为空时，忽略 <code class="docutils literal notranslate"><span class="pre">dtype</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50245">GH 50245</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 中的错误：对于列数少于 <code class="docutils literal notranslate"><span class="pre">names</span></code> 的单行 csv，当 <code class="docutils literal notranslate"><span class="pre">engine="c"</span></code> 时引发 <a class="reference internal" href="../reference/api/pandas.errors.ParserError.html#pandas.errors.ParserError" title="pandas.errors.ParserError"><code class="xref py py-class docutils literal notranslate"><span class="pre">errors.ParserError</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47566">GH 47566</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">orient="table"</span></code> 且存在 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 值时引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40255">GH 40255</a>)</p></li>
<li><p>显示 <code class="docutils literal notranslate"><span class="pre">string</span></code> 数据类型时未显示存储选项的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50099">GH 50099</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string" title="pandas.DataFrame.to_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">header=False</span></code> 时，将索引名称打印在数据第一行的同一行 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49230">GH 49230</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string" title="pandas.DataFrame.to_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code></a> 中的错误：忽略扩展数组的浮点数格式化器 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/39336">GH 39336</a>)</p></li>
<li><p>修复了源自内部 JSON 模块初始化的内存泄漏问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49222">GH 49222</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.json_normalize.html#pandas.json_normalize" title="pandas.json_normalize"><code class="xref py py-func docutils literal notranslate"><span class="pre">json_normalize()</span></code></a> 错误地从与 <code class="docutils literal notranslate"><span class="pre">sep</span></code> 参数匹配的列名中移除前导字符的问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49861">GH 49861</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 中的错误：当扩展数组数据类型包含 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 时，不必要地溢出 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32134">GH 32134</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict" title="pandas.DataFrame.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_dict()</span></code></a> 中的错误：未将 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 转换为 <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50795">GH 50795</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json" title="pandas.DataFrame.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code></a> 中的错误：当未能编码字符串时，会导致段错误 (segfault) (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50307">GH 50307</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html" title="pandas.DataFrame.to_html"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 包含非标量数据时，设置 <code class="docutils literal notranslate"><span class="pre">na_rep</span></code> 无效 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47103">GH 47103</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_xml.html#pandas.read_xml" title="pandas.read_xml"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_xml()</span></code></a> 中的错误：当使用 iterparse 时，类文件对象失败 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50641">GH 50641</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">engine="pyarrow"</span></code> 时，<code class="docutils literal notranslate"><span class="pre">encoding</span></code> 参数未正确处理 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51302">GH 51302</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_xml.html#pandas.read_xml" title="pandas.read_xml"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_xml()</span></code></a> 中的错误：当使用 iterparse 时，忽略重复元素 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51183">GH 51183</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.ExcelWriter.html#pandas.ExcelWriter" title="pandas.ExcelWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExcelWriter</span></code></a> 中的错误：如果在实例化过程中发生异常，会留下文件句柄未关闭 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51443">GH 51443</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet" title="pandas.DataFrame.to_parquet"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_parquet()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">engine="pyarrow"</span></code> 时，非字符串索引或列会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/52036">GH 52036</a>)</p></li>
</ul>
</section>
<section id="period">
<h3>周期<a class="headerlink" href="v2.0.0.html#period" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.Period.strftime.html#pandas.Period.strftime" title="pandas.Period.strftime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Period.strftime()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.PeriodIndex.strftime.html#pandas.PeriodIndex.strftime" title="pandas.PeriodIndex.strftime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.strftime()</span></code></a> 中的错误：当传入特定于语言环境的指令时，引发 <code class="docutils literal notranslate"><span class="pre">UnicodeDecodeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46319">GH 46319</a>)</p></li>
<li><p>将 <a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a> 对象添加到 <code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> 对象数组时，错误地引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50162">GH 50162</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a> 中的错误：当传入精度高于纳秒的字符串时，会导致 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>，而不是丢弃额外精度 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50417">GH 50417</a>)</p></li>
<li><p>解析表示周期的字符串（例如“2017-01-23/2017-01-29”）时，错误地将其解析为分钟频率而不是周频率的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50803">GH 50803</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.sum.html#pandas.core.groupby.DataFrameGroupBy.sum" title="pandas.core.groupby.DataFrameGroupBy.sum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.sum()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupByGroupBy.cumsum()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupByGroupBy.prod()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupByGroupBy.cumprod()</span></code> 中的错误：当使用 <a class="reference internal" href="../reference/api/pandas.PeriodDtype.html#pandas.PeriodDtype" title="pandas.PeriodDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodDtype</span></code></a> 时，未能引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51040">GH 51040</a>)</p></li>
<li><p>解析空字符串时，<a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a> 错误地引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 而不是返回 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51349">GH 51349</a>)</p></li>
</ul>
</section>
<section id="plotting">
<h3>绘图<a class="headerlink" href="v2.0.0.html#plotting" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.plot.hist.html#pandas.DataFrame.plot.hist" title="pandas.DataFrame.plot.hist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot.hist()</span></code></a> 中的错误：未丢弃 <code class="docutils literal notranslate"><span class="pre">data</span></code> 中对应 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> 值的 <code class="docutils literal notranslate"><span class="pre">weights</span></code> 元素 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48884">GH 48884</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax.set_xlim</span></code> 有时会引发 <code class="docutils literal notranslate"><span class="pre">UserWarning</span></code>，用户无法解决，因为 <code class="docutils literal notranslate"><span class="pre">set_xlim</span></code> 不接受解析参数——转换器现在改为使用 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-func docutils literal notranslate"><span class="pre">Timestamp()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49148">GH 49148</a>)</p></li>
</ul>
</section>
<section id="groupby-resample-rolling">
<h3>分组/重采样/滚动<a class="headerlink" href="v2.0.0.html#groupby-resample-rolling" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ExponentialMovingWindow</span></code> 中的错误：<code class="docutils literal notranslate"><span class="pre">online</span></code> 对于不支持的操作未引发 <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48834">GH 48834</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.sample.html#pandas.core.groupby.DataFrameGroupBy.sample" title="pandas.core.groupby.DataFrameGroupBy.sample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.sample()</span></code></a> 中的错误：当对象为空时，引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48459">GH 48459</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.groupby.html#pandas.Series.groupby" title="pandas.Series.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.groupby()</span></code></a> 中的错误：当索引中的某个条目等于索引名称时，引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48567">GH 48567</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.resample.html#pandas.core.groupby.DataFrameGroupBy.resample" title="pandas.core.groupby.DataFrameGroupBy.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.resample()</span></code></a> 中的错误：当传入空 DataFrame 时，产生不一致的结果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/47705">GH 47705</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">SeriesGroupBy</span></code> 中的错误：当按分类索引分组时，结果中不包含未观测到的类别 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49354">GH 49354</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">SeriesGroupBy</span></code> 中的错误：当按分类分组时，结果顺序会根据输入索引而改变 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49223">GH 49223</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">SeriesGroupBy</span></code> 中的错误：当按分类数据分组时，即使与 <code class="docutils literal notranslate"><span class="pre">sort=False</span></code> 一起使用，也会对结果值进行排序 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/42482">GH 42482</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply" title="pandas.core.groupby.DataFrameGroupBy.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.apply()</span></code></a> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">SeriesGroupBy.apply</span></code> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">as_index=False</span></code> 且使用分组键失败并引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 时，不会尝试不使用分组键进行计算 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49256">GH 49256</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.describe.html#pandas.core.groupby.DataFrameGroupBy.describe" title="pandas.core.groupby.DataFrameGroupBy.describe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.describe()</span></code></a> 中的错误：会描述分组键 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49256">GH 49256</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.describe.html#pandas.core.groupby.SeriesGroupBy.describe" title="pandas.core.groupby.SeriesGroupBy.describe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.describe()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">as_index=False</span></code> 时，形状不正确 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49256">GH 49256</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">SeriesGroupBy</span></code> 中的错误：当分组器为分类数据类型且 <code class="docutils literal notranslate"><span class="pre">dropna=False</span></code> 时，会丢弃 NA 值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36327">GH 36327</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.nunique.html#pandas.core.groupby.SeriesGroupBy.nunique" title="pandas.core.groupby.SeriesGroupBy.nunique"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.nunique()</span></code></a> 中的错误：当分组器是空分类且 <code class="docutils literal notranslate"><span class="pre">observed=True</span></code> 时，错误地引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21334">GH 21334</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.nth.html#pandas.core.groupby.SeriesGroupBy.nth" title="pandas.core.groupby.SeriesGroupBy.nth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.nth()</span></code></a> 中的错误：从 <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 子集化后，当分组器包含 NA 值时引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26454">GH 26454</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">as_index=False</span></code> 时，结果中不包含由 <code class="docutils literal notranslate"><span class="pre">key</span></code> 指定的 <a class="reference internal" href="../reference/api/pandas.Grouper.html#pandas.Grouper" title="pandas.Grouper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grouper</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50413">GH 50413</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.value_counts.html#pandas.core.groupby.DataFrameGroupBy.value_counts" title="pandas.core.groupby.DataFrameGroupBy.value_counts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.value_counts()</span></code></a> 中的错误：与 <code class="xref py py-class docutils literal notranslate"><span class="pre">TimeGrouper</span></code> 一起使用时引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50486">GH 50486</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.resample.Resampler.size.html#pandas.core.resample.Resampler.size" title="pandas.core.resample.Resampler.size"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Resampler.size()</span></code></a> 中的错误：导致返回宽 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>，而不是带有 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46826">GH 46826</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform" title="pandas.core.groupby.DataFrameGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.transform()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform" title="pandas.core.groupby.SeriesGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.transform()</span></code></a> 中的错误：当分组器在 <code class="docutils literal notranslate"><span class="pre">"idxmin"</span></code> 和 <code class="docutils literal notranslate"><span class="pre">"idxmax"</span></code> 参数上具有 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> 时，会错误地引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45986">GH 45986</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 中的错误：当与空 DataFrame、分类分组器和 <code class="docutils literal notranslate"><span class="pre">dropna=False</span></code> 一起使用时会引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50634">GH 50634</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.value_counts.html#pandas.core.groupby.SeriesGroupBy.value_counts" title="pandas.core.groupby.SeriesGroupBy.value_counts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.value_counts()</span></code></a> 中的错误：不尊重 <code class="docutils literal notranslate"><span class="pre">sort=False</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50482">GH 50482</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.resample.html#pandas.core.groupby.DataFrameGroupBy.resample" title="pandas.core.groupby.DataFrameGroupBy.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.resample()</span></code></a> 中的错误：当对时间索引进行重采样时，从键列表中获取结果会引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50840">GH 50840</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform" title="pandas.core.groupby.DataFrameGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.transform()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform" title="pandas.core.groupby.SeriesGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.transform()</span></code></a> 中的错误：当分组器在 <code class="docutils literal notranslate"><span class="pre">"ngroup"</span></code> 参数上具有 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> 时，会错误地引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/45986">GH 45986</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.describe.html#pandas.core.groupby.DataFrameGroupBy.describe" title="pandas.core.groupby.DataFrameGroupBy.describe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.describe()</span></code></a> 中的错误：当数据具有重复列时，产生不正确的结果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50806">GH 50806</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg" title="pandas.core.groupby.DataFrameGroupBy.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.agg()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">engine="numba"</span></code> 时，未能尊重 <code class="docutils literal notranslate"><span class="pre">as_index=False</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51228">GH 51228</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg" title="pandas.core.groupby.DataFrameGroupBy.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.agg()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg" title="pandas.core.groupby.SeriesGroupBy.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.agg()</span></code></a>, 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Resampler.agg()</span></code> 中的错误：当传入函数列表时，会忽略参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50863">GH 50863</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.ohlc.html#pandas.core.groupby.DataFrameGroupBy.ohlc" title="pandas.core.groupby.DataFrameGroupBy.ohlc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.ohlc()</span></code></a> 中的错误：忽略 <code class="docutils literal notranslate"><span class="pre">as_index=False</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51413">GH 51413</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.agg()</span></code> 中的错误：在子集列（例如 <code class="docutils literal notranslate"><span class="pre">.groupby(...)[["a",</span> <span class="pre">"b"]]</span></code>）后，结果中不包含分组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51186">GH 51186</a>)</p></li>
</ul>
</section>
<section id="reshaping">
<h3>重塑<a class="headerlink" href="v2.0.0.html#reshaping" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="pandas.DataFrame.pivot_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot_table()</span></code></a> 中的错误：当可空数据类型且 <code class="docutils literal notranslate"><span class="pre">margins=True</span></code> 时，引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48681">GH 48681</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack" title="pandas.DataFrame.unstack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.unstack.html#pandas.Series.unstack" title="pandas.Series.unstack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.unstack()</span></code></a> 中的错误：当 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 具有混合名称时，错误地拆堆了 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 的错误级别 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48763">GH 48763</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt" title="pandas.DataFrame.melt"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.melt()</span></code></a> 中的错误：丢失扩展数组数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/41570">GH 41570</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot" title="pandas.DataFrame.pivot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot()</span></code></a> 中的错误：不尊重 <code class="docutils literal notranslate"><span class="pre">None</span></code> 作为列名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48293">GH 48293</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join" title="pandas.DataFrame.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.join()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">left_on</span></code> 或 <code class="docutils literal notranslate"><span class="pre">right_on</span></code> 是或包含 <a class="reference internal" href="../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex" title="pandas.CategoricalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code></a> 时，错误地引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48464">GH 48464</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="pandas.DataFrame.pivot_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot_table()</span></code></a> 中的错误：当结果是空 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 时，参数 <code class="docutils literal notranslate"><span class="pre">margins=True</span></code> 引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49240">GH 49240</a>)</p></li>
<li><p>澄清了 <a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code></a> 中传入无效 <code class="docutils literal notranslate"><span class="pre">validate</span></code> 选项时的错误消息 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49417">GH 49417</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode" title="pandas.DataFrame.explode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.explode()</span></code></a> 中的错误：当多列包含 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> 值或空列表时，引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/46084">GH 46084</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.transpose.html#pandas.DataFrame.transpose" title="pandas.DataFrame.transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.transpose()</span></code></a> 中的错误：当 <code class="docutils literal notranslate"><span class="pre">IntervalDtype</span></code> 列具有 <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> 终点时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/44917">GH 44917</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg" title="pandas.DataFrame.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.agg()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.agg.html#pandas.Series.agg" title="pandas.Series.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.agg()</span></code></a> 中的错误：当传入函数列表时，会忽略参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50863">GH 50863</a>)</p></li>
</ul>
</section>
<section id="sparse">
<h3>稀疏<a class="headerlink" href="v2.0.0.html#sparse" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> 中的错误：当将具有 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> 子类型的 <code class="docutils literal notranslate"><span class="pre">SparseDtype</span></code> 转换为 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 数据类型时，引发异常，这与非稀疏行为不一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49631">GH 49631</a>,:issue:<cite>50087</cite>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> 中的错误：当从 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> 转换为 <code class="docutils literal notranslate"><span class="pre">Sparse[datetime64[ns]]</span></code> 时，错误地引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50082">GH 50082</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.sparse.to_coo.html#pandas.Series.sparse.to_coo" title="pandas.Series.sparse.to_coo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sparse.to_coo()</span></code></a> 中的错误：当 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 包含 <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> 时，引发 <code class="docutils literal notranslate"><span class="pre">SystemError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50996">GH 50996</a>)</p></li>
</ul>
</section>
<section id="extensionarray">
<h3>扩展数组<a class="headerlink" href="v2.0.0.html#extensionarray" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.Series.mean.html#pandas.Series.mean" title="pandas.Series.mean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.mean()</span></code></a> 中的错误：当使用可空整数时，不必要地溢出 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48378">GH 48378</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.tolist()</span></code> 中的错误：对于可空数据类型，返回 NumPy 标量而不是 Python 标量 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49890">GH 49890</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.round.html#pandas.Series.round" title="pandas.Series.round"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.round()</span></code></a> 中的错误：对于 pyarrow 后端数据类型，引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50437">GH 50437</a>)</p></li>
<li><p>错误：当将空 DataFrame（带有 ExtensionDtype）与另一个具有相同 ExtensionDtype 的 DataFrame 连接时，结果数据类型变为 object (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/48510">GH 48510</a>)</p></li>
<li><p>在指定 <code class="docutils literal notranslate"><span class="pre">na_value</span></code> 时，<code class="xref py py-meth docutils literal notranslate"><span class="pre">array.PandasArray.to_numpy()</span></code> 在处理 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 值时引发异常的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/40638">GH 40638</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.api.types.is_numeric_dtype.html#pandas.api.types.is_numeric_dtype" title="pandas.api.types.is_numeric_dtype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">api.types.is_numeric_dtype()</span></code></a> 中的错误：当自定义 <code class="xref py py-class docutils literal notranslate"><span class="pre">ExtensionDtype</span></code> 的 <code class="docutils literal notranslate"><span class="pre">_is_numeric</span></code> 返回 <code class="docutils literal notranslate"><span class="pre">True</span></code> 时，它不会返回 <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50563">GH 50563</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.api.types.is_integer_dtype.html#pandas.api.types.is_integer_dtype" title="pandas.api.types.is_integer_dtype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">api.types.is_integer_dtype()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.api.types.is_unsigned_integer_dtype.html#pandas.api.types.is_unsigned_integer_dtype" title="pandas.api.types.is_unsigned_integer_dtype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">api.types.is_unsigned_integer_dtype()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.api.types.is_signed_integer_dtype.html#pandas.api.types.is_signed_integer_dtype" title="pandas.api.types.is_signed_integer_dtype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">api.types.is_signed_integer_dtype()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.api.types.is_float_dtype.html#pandas.api.types.is_float_dtype" title="pandas.api.types.is_float_dtype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">api.types.is_float_dtype()</span></code></a> 中的错误：当自定义 <code class="xref py py-class docutils literal notranslate"><span class="pre">ExtensionDtype</span></code> 的 <code class="docutils literal notranslate"><span class="pre">kind</span></code> 返回相应的 NumPy 类型时，它不会返回 <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50667">GH 50667</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 构造函数中存在错误，对于可为空的无符号整数 dtype 会不必要地溢出 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38798">GH 38798</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/25880">GH 25880</a>)</p></li>
<li><p>向 <code class="docutils literal notranslate"><span class="pre">StringArray</span></code> 设置非字符串值时引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49632">GH 49632</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex" title="pandas.DataFrame.reindex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.reindex()</span></code></a> 中的错误：在列具有 ExtensionDtype 的情况下，它不遵循默认的 <code class="docutils literal notranslate"><span class="pre">copy=True</span></code> 关键字（因此，使用 getitem (<code class="docutils literal notranslate"><span class="pre">[]</span></code>) 选择多列时也未能正确生成副本） (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51197">GH 51197</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.arrays.ArrowExtensionArray.html#pandas.arrays.ArrowExtensionArray" title="pandas.arrays.ArrowExtensionArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrowExtensionArray</span></code></a> 逻辑运算 <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> 和 <code class="docutils literal notranslate"><span class="pre">|</span></code> 引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51688">GH 51688</a>)</p></li>
</ul>
</section>
<section id="styler">
<h3>Styler<a class="headerlink" href="v2.0.0.html#styler" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复 <a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.background_gradient.html#pandas.io.formats.style.Styler.background_gradient" title="pandas.io.formats.style.Styler.background_gradient"><code class="xref py py-meth docutils literal notranslate"><span class="pre">background_gradient()</span></code></a> 对含有 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 值的可为空 dtype <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 的支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/50712">GH 50712</a>)</p></li>
</ul>
</section>
<section id="metadata">
<h3>元数据<a class="headerlink" href="v2.0.0.html#metadata" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr" title="pandas.DataFrame.corr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.corr()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.cov.html#pandas.DataFrame.cov" title="pandas.DataFrame.cov"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.cov()</span></code></a> 中的元数据传播问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28283">GH 28283</a>)</p></li>
</ul>
</section>
<section id="other">
<h3>其他<a class="headerlink" href="v2.0.0.html#other" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>错误地接受包含多次 “[pyarrow]” 的 dtype 字符串的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51548">GH 51548</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted" title="pandas.Series.searchsorted"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.searchsorted()</span></code></a> 在接受 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 作为参数 <code class="docutils literal notranslate"><span class="pre">value</span></code> 时行为不一致的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/49620">GH 49620</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.array.html#pandas.array" title="pandas.array"><code class="xref py py-func docutils literal notranslate"><span class="pre">array()</span></code></a> 未能对 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 输入引发异常的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/51167">GH 51167</a>)</p></li>
</ul>
</section>
</section>
<section id="contributors">
<span id="whatsnew-200-contributors"></span><h2>贡献者<a class="headerlink" href="v2.0.0.html#contributors" title="Link to this heading">#</a></h2>
<p>共有260人次为本次发布贡献了补丁。名字旁带有“+”的人是首次贡献补丁。</p>
<ul class="simple">
<li><p>5j9 +</p></li>
<li><p>ABCPAN-rank +</p></li>
<li><p>Aarni Koskela +</p></li>
<li><p>Aashish KC +</p></li>
<li><p>Abubeker Mohammed +</p></li>
<li><p>Adam Mróz +</p></li>
<li><p>Adam Ormondroyd +</p></li>
<li><p>Aditya Anulekh +</p></li>
<li><p>Ahmed Ibrahim</p></li>
<li><p>Akshay Babbar +</p></li>
<li><p>Aleksa Radojicic +</p></li>
<li><p>Alex +</p></li>
<li><p>Alex Buzenet +</p></li>
<li><p>Alex Kirko</p></li>
<li><p>Allison Kwan +</p></li>
<li><p>Amay Patel +</p></li>
<li><p>Ambuj Pawar +</p></li>
<li><p>Amotz +</p></li>
<li><p>Andreas Schwab +</p></li>
<li><p>Andrew Chen +</p></li>
<li><p>Anton Shevtsov</p></li>
<li><p>Antonio Ossa Guerra +</p></li>
<li><p>Antonio Ossa-Guerra +</p></li>
<li><p>Anushka Bishnoi +</p></li>
<li><p>Arda Kosar</p></li>
<li><p>Armin Berres</p></li>
<li><p>Asadullah Naeem +</p></li>
<li><p>Asish Mahapatra</p></li>
<li><p>Bailey Lissington +</p></li>
<li><p>BarkotBeyene</p></li>
<li><p>Ben Beasley</p></li>
<li><p>Bhavesh Rajendra Patil +</p></li>
<li><p>Bibek Jha +</p></li>
<li><p>Bill +</p></li>
<li><p>Bishwas +</p></li>
<li><p>CarlosGDCJ +</p></li>
<li><p>Carlotta Fabian +</p></li>
<li><p>Chris Roth +</p></li>
<li><p>Chuck Cadman +</p></li>
<li><p>Corralien +</p></li>
<li><p>DG +</p></li>
<li><p>Dan Hendry +</p></li>
<li><p>Daniel Isaac</p></li>
<li><p>David Kleindienst +</p></li>
<li><p>David Poznik +</p></li>
<li><p>David Rudel +</p></li>
<li><p>DavidKleindienst +</p></li>
<li><p>Dea María Léon +</p></li>
<li><p>Deepak Sirohiwal +</p></li>
<li><p>Dennis Chukwunta</p></li>
<li><p>Douglas Lohmann +</p></li>
<li><p>Dries Schaumont</p></li>
<li><p>Dustin K +</p></li>
<li><p>Edoardo Abati +</p></li>
<li><p>Eduardo Chaves +</p></li>
<li><p>Ege Özgüroğlu +</p></li>
<li><p>Ekaterina Borovikova +</p></li>
<li><p>Eli Schwartz +</p></li>
<li><p>Elvis Lim +</p></li>
<li><p>Emily Taylor +</p></li>
<li><p>Emma Carballal Haire +</p></li>
<li><p>Erik Welch +</p></li>
<li><p>Fangchen Li</p></li>
<li><p>Florian Hofstetter +</p></li>
<li><p>Flynn Owen +</p></li>
<li><p>Fredrik Erlandsson +</p></li>
<li><p>Gaurav Sheni</p></li>
<li><p>Georeth Chow +</p></li>
<li><p>George Munyoro +</p></li>
<li><p>Guilherme Beltramini</p></li>
<li><p>Gulnur Baimukhambetova +</p></li>
<li><p>H L +</p></li>
<li><p>Hans</p></li>
<li><p>Hatim Zahid +</p></li>
<li><p>HighYoda +</p></li>
<li><p>Hiki +</p></li>
<li><p>Himanshu Wagh +</p></li>
<li><p>Hugo van Kemenade +</p></li>
<li><p>Idil Ismiguzel +</p></li>
<li><p>Irv Lustig</p></li>
<li><p>Isaac Chung</p></li>
<li><p>Isaac Virshup</p></li>
<li><p>JHM Darbyshire</p></li>
<li><p>JHM Darbyshire (iMac)</p></li>
<li><p>JMBurley</p></li>
<li><p>Jaime Di Cristina</p></li>
<li><p>Jan Koch</p></li>
<li><p>JanVHII +</p></li>
<li><p>Janosh Riebesell</p></li>
<li><p>JasmandeepKaur +</p></li>
<li><p>Jeremy Tuloup</p></li>
<li><p>Jessica M +</p></li>
<li><p>Jonas Haag</p></li>
<li><p>Joris Van den Bossche</p></li>
<li><p>João Meirelles +</p></li>
<li><p>Julia Aoun +</p></li>
<li><p>Justus Magin +</p></li>
<li><p>Kang Su Min +</p></li>
<li><p>Kevin Sheppard</p></li>
<li><p>Khor Chean Wei</p></li>
<li><p>Kian Eliasi</p></li>
<li><p>Kostya Farber +</p></li>
<li><p>KotlinIsland +</p></li>
<li><p>Lakmal Pinnaduwage +</p></li>
<li><p>Lakshya A Agrawal +</p></li>
<li><p>Lawrence Mitchell +</p></li>
<li><p>Levi Ob +</p></li>
<li><p>Loic Diridollou</p></li>
<li><p>Lorenzo Vainigli +</p></li>
<li><p>Luca Pizzini +</p></li>
<li><p>Lucas Damo +</p></li>
<li><p>Luke Manley</p></li>
<li><p>Madhuri Patil +</p></li>
<li><p>Marc Garcia</p></li>
<li><p>Marco Edward Gorelli</p></li>
<li><p>Marco Gorelli</p></li>
<li><p>MarcoGorelli</p></li>
<li><p>Maren Westermann +</p></li>
<li><p>Maria Stazherova +</p></li>
<li><p>Marie K +</p></li>
<li><p>Marielle +</p></li>
<li><p>Mark Harfouche +</p></li>
<li><p>Marko Pacak +</p></li>
<li><p>Martin +</p></li>
<li><p>Matheus Cerqueira +</p></li>
<li><p>Matheus Pedroni +</p></li>
<li><p>Matteo Raso +</p></li>
<li><p>Matthew Roeschke</p></li>
<li><p>MeeseeksMachine +</p></li>
<li><p>Mehdi Mohammadi +</p></li>
<li><p>Michael Harris +</p></li>
<li><p>Michael Mior +</p></li>
<li><p>Natalia Mokeeva +</p></li>
<li><p>Neal Muppidi +</p></li>
<li><p>Nick Crews</p></li>
<li><p>Nishu Choudhary +</p></li>
<li><p>Noa Tamir</p></li>
<li><p>Noritada Kobayashi</p></li>
<li><p>Omkar Yadav +</p></li>
<li><p>P. Talley +</p></li>
<li><p>Pablo +</p></li>
<li><p>Pandas Development Team</p></li>
<li><p>Parfait Gasana</p></li>
<li><p>Patrick Hoefler</p></li>
<li><p>Pedro Nacht +</p></li>
<li><p>Philip +</p></li>
<li><p>Pietro Battiston</p></li>
<li><p>Pooja Subramaniam +</p></li>
<li><p>Pranav Saibhushan Ravuri +</p></li>
<li><p>Pranav. P. A +</p></li>
<li><p>Ralf Gommers +</p></li>
<li><p>RaphSku +</p></li>
<li><p>Richard Shadrach</p></li>
<li><p>Robsdedude +</p></li>
<li><p>Roger</p></li>
<li><p>Roger Thomas</p></li>
<li><p>RogerThomas +</p></li>
<li><p>SFuller4 +</p></li>
<li><p>Salahuddin +</p></li>
<li><p>Sam Rao</p></li>
<li><p>Sean Patrick Malloy +</p></li>
<li><p>Sebastian Roll +</p></li>
<li><p>Shantanu</p></li>
<li><p>Shashwat +</p></li>
<li><p>Shashwat Agrawal +</p></li>
<li><p>Shiko Wamwea +</p></li>
<li><p>Shoham Debnath</p></li>
<li><p>Shubhankar Lohani +</p></li>
<li><p>Siddhartha Gandhi +</p></li>
<li><p>Simon Hawkins</p></li>
<li><p>Soumik Dutta +</p></li>
<li><p>Sowrov Talukder +</p></li>
<li><p>Stefanie Molin</p></li>
<li><p>Stefanie Senger +</p></li>
<li><p>Stepfen Shawn +</p></li>
<li><p>Steven Rotondo</p></li>
<li><p>Stijn Van Hoey</p></li>
<li><p>Sudhansu +</p></li>
<li><p>Sven</p></li>
<li><p>Sylvain MARIE</p></li>
<li><p>Sylvain Marié</p></li>
<li><p>Tabea Kossen +</p></li>
<li><p>Taylor Packard</p></li>
<li><p>Terji Petersen</p></li>
<li><p>Thierry Moisan</p></li>
<li><p>Thomas H +</p></li>
<li><p>Thomas Li</p></li>
<li><p>Torsten Wörtwein</p></li>
<li><p>Tsvika S +</p></li>
<li><p>Tsvika Shapira +</p></li>
<li><p>Vamsi Verma +</p></li>
<li><p>Vinicius Akira +</p></li>
<li><p>William Andrea</p></li>
<li><p>William Ayd</p></li>
<li><p>William Blum +</p></li>
<li><p>Wilson Xing +</p></li>
<li><p>Xiao Yuan +</p></li>
<li><p>Xnot +</p></li>
<li><p>Yasin Tatar +</p></li>
<li><p>Yuanhao Geng</p></li>
<li><p>Yvan Cywan +</p></li>
<li><p>Zachary Moon +</p></li>
<li><p>Zhengbo Wang +</p></li>
<li><p>abonte +</p></li>
<li><p>adrienpacifico +</p></li>
<li><p>alm</p></li>
<li><p>amotzop +</p></li>
<li><p>andyjessen +</p></li>
<li><p>anonmouse1 +</p></li>
<li><p>bang128 +</p></li>
<li><p>bishwas jha +</p></li>
<li><p>calhockemeyer +</p></li>
<li><p>carla-alves-24 +</p></li>
<li><p>carlotta +</p></li>
<li><p>casadipietra +</p></li>
<li><p>catmar22 +</p></li>
<li><p>cfabian +</p></li>
<li><p>codamuse +</p></li>
<li><p>dataxerik</p></li>
<li><p>davidleon123 +</p></li>
<li><p>dependabot[bot] +</p></li>
<li><p>fdrocha +</p></li>
<li><p>github-actions[bot]</p></li>
<li><p>himanshu_wagh +</p></li>
<li><p>iofall +</p></li>
<li><p>jakirkham +</p></li>
<li><p>jbrockmendel</p></li>
<li><p>jnclt +</p></li>
<li><p>joelchen +</p></li>
<li><p>joelsonoda +</p></li>
<li><p>joshuabello2550</p></li>
<li><p>joycewamwea +</p></li>
<li><p>kathleenhang +</p></li>
<li><p>krasch +</p></li>
<li><p>ltoniazzi +</p></li>
<li><p>luke396 +</p></li>
<li><p>milosz-martynow +</p></li>
<li><p>minat-hub +</p></li>
<li><p>mliu08 +</p></li>
<li><p>monosans +</p></li>
<li><p>nealxm</p></li>
<li><p>nikitaved +</p></li>
<li><p>paradox-lab +</p></li>
<li><p>partev</p></li>
<li><p>raisadz +</p></li>
<li><p>ram vikram singh +</p></li>
<li><p>rebecca-palmer</p></li>
<li><p>sarvaSanjay +</p></li>
<li><p>seljaks +</p></li>
<li><p>silviaovo +</p></li>
<li><p>smij720 +</p></li>
<li><p>soumilbaldota +</p></li>
<li><p>stellalin7 +</p></li>
<li><p>strawberry beach sandals +</p></li>
<li><p>tmoschou +</p></li>
<li><p>uzzell +</p></li>
<li><p>yqyqyq-W +</p></li>
<li><p>yun +</p></li>
<li><p>Ádám Lippai</p></li>
<li><p>김동현 (Daniel Donghyun Kim) +</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev" href="v2.0.1.html" title="previous page"> <i class="fa-solid fa-angle-left"></i> <div class="prev-next-info"> <p class="prev-next-subtitle">上一页</p> <p class="prev-next-title">2.0.1 版更新（2023 年 4 月 24 日）</p> </div> </a> <a class="right-next" href="v1.5.3.html" title="next page"> <div class="prev-next-info"> <p class="prev-next-subtitle">下一页</p> <p class="prev-next-title">1.5.3 版更新（2023 年 1 月 18 日）</p> </div> <i class="fa-solid fa-angle-right"></i> </a></div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> 本页目录</div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#enhancements">功能增强</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#installing-optional-dependencies-with-pip-extras">使用 pip extras 安装可选依赖项</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#index-can-now-hold-numpy-numeric-dtypes"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> 现在可以包含 NumPy 数值 dtypes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#argument-dtype-backend-to-return-pyarrow-backed-or-numpy-backed-nullable-dtypes">参数 <code class="docutils literal notranslate"><span class="pre">dtype_backend</span></code>，用于返回 pyarrow-backed 或 numpy-backed 可为空的 dtypes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#copy-on-write-improvements">写时复制改进</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#other-enhancements">其他增强功能</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#notable-bug-fixes">重要错误修复</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#dataframegroupby-cumsum-and-dataframegroupby-cumprod-overflow-instead-of-lossy-casting-to-float"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.cumsum()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.cumprod()</span></code> 溢出而非有损转换为浮点数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#dataframegroupby-nth-and-seriesgroupby-nth-now-behave-as-filtrations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.nth()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.nth()</span></code> 现在表现为过滤操作</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#backwards-incompatible-api-changes">向后不兼容的 API 更改</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#construction-with-datetime64-or-timedelta64-dtype-with-unsupported-resolution">使用不支持分辨率的 datetime64 或 timedelta64 dtype 构造</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#value-counts-sets-the-resulting-name-to-count">值计数将结果名称设置为 <code class="docutils literal notranslate"><span class="pre">count</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#disallow-astype-conversion-to-non-supported-datetime64-timedelta64-dtypes">禁止转换为不支持的 datetime64/timedelta64 dtypes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#utc-and-fixed-offset-timezones-default-to-standard-library-tzinfo-objects">UTC 和固定偏移时区默认为标准库 tzinfo 对象</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#empty-dataframes-series-will-now-default-to-have-a-rangeindex">空 DataFrame/Series 现在默认为 <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#dataframe-to-latex-has-a-new-render-engine">DataFrame 到 LaTeX 有新的渲染引擎</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#increased-minimum-versions-for-dependencies">依赖项的最低版本要求提高</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#datetimes-are-now-parsed-with-a-consistent-format">日期时间现在以一致的格式解析</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#other-api-changes">其他 API 更改</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#deprecations">弃用</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#removal-of-prior-version-deprecations-changes">移除先前版本的弃用/更改</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#performance-improvements">性能改进</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#bug-fixes">错误修复</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#categorical">分类数据</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#datetimelike">日期时间类型</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#timedelta">时间差</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#timezones">时区</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#numeric">数值</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#conversion">转换</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#strings">字符串</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#interval">区间</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#indexing">索引</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#missing">缺失值</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#multiindex">多重索引</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#i-o">I/O</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#period">周期</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#plotting">绘图</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#groupby-resample-rolling">分组/重采样/滚动</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#reshaping">重塑</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#sparse">稀疏数据</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#extensionarray">扩展数组</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#styler">样式器</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#metadata">元数据</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#other">其他</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v2.0.0.html#contributors">贡献者</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/whatsnew/v2.0.0.rst.txt">
      <i class="fa-solid fa-file-lines"></i> 显示源代码</a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js%3Fdigest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js%3Fdigest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><p class="copyright">© 2025, pandas via <a href="https://numfocus.org">NumFOCUS, Inc.</a> 由 <a href="https://www.ovhcloud.com">OVHcloud</a> 托管。</p></div>
      
        <div class="footer-item">

  <p class="sphinx-version">使用 <a href="https://sphinx-doc.cn/">Sphinx</a> 8.1.3 创建。<br />
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">基于 <a href="https://pydata.sphinx-doc.cn/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4 构建。</p></div>
      
    </div>
  
</div>

  </footer>
  
</body></html>