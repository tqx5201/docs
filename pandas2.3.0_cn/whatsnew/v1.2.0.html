<!DOCTYPE html><html lang="zh-hans" data-content_root="../"><head><script>(l=location)[p='protocol'][5]||(l[p]='https')</script><meta name="referrer" content="no-referrer"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8543159550507237" crossorigin="anonymous"></script>

<script>window.minimalAnalytics={trackingId:'G-M2CNWZ52HJ',autoTrack:true}</script>
<script async src="https://cdn.jsdelivr.net.cn/npm/@minimal-analytics/ga4/dist/index.js"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1.2.0 (2020年12月26日) 中的新功能 — pandas 2.3.0 文档 - pandas 数据分析库</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css%3Fv=03e43079.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css%3Fv=76b2166b.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css%3Fv=95c83b7e.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/getting_started.css%3Fv=150e0881.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pandas.css%3Fv=b7db95b1.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js%3Fdigest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js%3Fdigest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js%3Fdigest=5b4479735964841361fd"></script>

    <script src="../_static/documentation_options.js%3Fv=c3c8ae58"></script>
    <script src="../_static/doctools.js%3Fv=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js%3Fv=dc90522c"></script>
    <script src="../_static/clipboard.min.js%3Fv=a7894cd8"></script>
    <script src="../_static/copybutton.js%3Fv=f281be69"></script>
    <script src="../_static/design-tabs.js%3Fv=f930bc37"></script>
    <script data-domain="pandas.pydata.org" defer="defer" src="https://#/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net.cn/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'whatsnew/v1.2.0';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.14.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://pandas.ac.cn/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '2.3';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="../_static/favicon.ico" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="What’s new in 1.1.5 (December 07, 2020)" href="v1.1.5.html" />
    <link rel="prev" title="What’s new in 1.2.1 (January 20, 2021)" href="v1.2.1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="v1.2.0.html#main-content">跳到主内容</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i> 返回顶部</button>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary" />
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary" />
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pandas.svg" class="logo__image only-light" alt="pandas 2.3.0 documentation - Home">
    <script>document.write(`<img src="../../static/img/pandas_white.svg" class="logo__image only-dark" alt="pandas 2.3.0 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">站点导航</p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">入门</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">用户指南</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">API 参考</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">开发</a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">发行说明</a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pandas-dev/pandas" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span> <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pandas_dev" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@pandas_dev" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">站点导航</p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">入门</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">用户指南</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">API 参考</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">开发</a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">发行说明</a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pandas-dev/pandas" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span> <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pandas_dev" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@pandas_dev" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item navbar-nav">
    
    <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.3.0.html">2.3.0 (2025年6月4日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.2.3.html">2.2.3 (2024年9月20日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.2.html">2.2.2 (2024年4月10日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.1.html">2.2.1 (2024年2月22日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.0.html">2.2.0 (2024年1月19日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.1.4.html">2.1.4 (2023年12月8日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.3.html">2.1.3 (2023年11月10日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.2.html">2.1.2 (2023年10月26日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.1.html">2.1.1 (2023年9月20日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.0.html">2.1.0 (2023年8月30日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.0.3.html">2.0.3 (2023年6月28日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.2.html">2.0.2 (2023年5月29日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.1.html">2.0.1 (2023年4月24日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.0.html">2.0.0 (2023年4月3日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.5.3.html">1.5.3 (2023年1月18日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.2.html">1.5.2 (2022年11月21日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.1.html">1.5.1 (2022年10月19日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.0.html">1.5.0 (2022年9月19日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.4.4.html">1.4.4 (2022年8月31日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.3.html">1.4.3 (2022年6月23日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.2.html">1.4.2 (2022年4月2日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.1.html">1.4.1 (2022年2月12日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.0.html">1.4.0 (2022年1月22日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.3.5.html">1.3.5 (2021年12月12日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.4.html">1.3.4 (2021年10月17日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.3.html">1.3.3 (2021年9月12日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.2.html">1.3.2 (2021年8月15日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.1.html">1.3.1 (2021年7月25日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.0.html">1.3.0 (2021年7月2日) 中的新功能</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.2.5.html">1.2.5 (2021年6月22日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.4.html">1.2.4 (2021年4月12日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.3.html">1.2.3 (2021年3月2日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.2.html">1.2.2 (2021年2月9日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.1.html">1.2.1 (2021年1月20日) 中的新功能</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="v1.2.0.html#">1.2.0 (2020年12月26日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.1.5.html">1.1.5 (2020年12月7日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.4.html">1.1.4 (2020年10月30日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.3.html">1.1.3 (2020年10月5日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.2.html">1.1.2 (2020年9月8日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.1.html">1.1.1 (2020年8月20日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.0.html">1.1.0 (2020年7月28日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.0.5.html">1.0.5 (2020年6月17日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.4.html">1.0.4 (2020年5月28日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.3.html">1.0.3 (2020年3月17日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.2.html">1.0.2 (2020年3月12日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.1.html">1.0.1 (2020年2月5日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.0.html">1.0.0 (2020年1月29日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.25.3.html">0.25.3 (2019年10月31日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.2.html">0.25.2 (2019年10月15日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.1.html">0.25.1 (2019年8月21日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.0.html">0.25.0 (2019年7月18日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.24.2.html">0.24.2 (2019年3月12日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.24.1.html">0.24.1 (2019年2月3日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.24.0.html">0.24.0 (2019年1月25日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.23.4.html">0.23.4 (2018年8月3日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.3.html">0.23.3 (2018年7月7日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.2.html">0.23.2 (2018年7月5日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.1.html">0.23.1 (2018年6月12日) 中的新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.0.html">0.23.0 (2018年5月15日) 中的新功能</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.22.0.html">版本 0.22.0 (2017年12月29日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.21.1.html">版本 0.21.1 (2017年12月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.21.0.html">版本 0.21.0 (2017年10月27日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.20.3.html">版本 0.20.3 (2017年7月7日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.20.2.html">版本 0.20.2 (2017年6月4日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.20.0.html">版本 0.20.1 (2017年5月5日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.19.2.html">版本 0.19.2 (2016年12月24日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.19.1.html">版本 0.19.1 (2016年11月3日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.19.0.html">版本 0.19.0 (2016年10月2日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.18.1.html">版本 0.18.1 (2016年5月3日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.18.0.html">版本 0.18.0 (2016年3月13日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.17.1.html">版本 0.17.1 (2015年11月21日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.17.0.html">版本 0.17.0 (2015年10月9日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.16.2.html">版本 0.16.2 (2015年6月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.16.1.html">版本 0.16.1 (2015年5月11日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.16.0.html">版本 0.16.0 (2015年3月22日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.15.2.html">版本 0.15.2 (2014年12月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.15.1.html">版本 0.15.1 (2014年11月9日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.15.0.html">版本 0.15.0 (2014年10月18日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.14.1.html">版本 0.14.1 (2014年7月11日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.14.0.html">版本 0.14.0 (2014年5月31日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.13.1.html">版本 0.13.1 (2014年2月3日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.13.0.html">版本 0.13.0 (2014年1月3日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.12.0.html">版本 0.12.0 (2013年7月24日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.11.0.html">版本 0.11.0 (2013年4月22日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.10.1.html">版本 0.10.1 (2013年1月22日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.10.0.html">版本 0.10.0 (2012年12月17日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.9.1.html">版本 0.9.1 (2012年11月14日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.9.0.html">版本 0.9.0 (2012年10月7日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.8.1.html">版本 0.8.1 (2012年7月22日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.8.0.html">版本 0.8.0 (2012年6月29日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.7.3.html">版本 0.7.3 (2012年4月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.2.html">版本 0.7.2 (2012年3月16日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.1.html">版本 0.7.1 (2012年2月29日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.0.html">版本 0.7.0 (2012年2月9日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.6.1.html">版本 0.6.1 (2011年12月13日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.6.0.html">版本 0.6.0 (2011年11月25日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.5.0.html">版本 0.5.0 (2011年10月24日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.4.x.html">版本 0.4.1 到 0.4.3 (2011年9月25日 - 10月9日)</a></li>
</ul>

    
  </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">发行说明</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">新功能...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="what-s-new-in-1-2-0-december-26-2020">
<span id="whatsnew-120"></span><h1>1.2.0 (2020年12月26日) 中的新功能<a class="headerlink" href="v1.2.0.html#what-s-new-in-1-2-0-december-26-2020" title="Link to this heading">#</a></h1>
<p>以下是 pandas 1.2.0 中的更改。有关包括其他 pandas 版本在内的完整更新日志，请参阅<a class="reference internal" href="index.html#release"><span class="std std-ref">发行说明</span></a>。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>用于写入旧式 <code class="docutils literal notranslate"><span class="pre">.xls</span></code> Excel 文件的 <a class="reference external" href="https://xlwt.readthedocs.io/en/latest/">xlwt</a> 包已不再维护。 <a class="reference external" href="https://xlrd.readthedocs.io/en/latest/">xlrd</a> 包现在仅用于读取旧式 <code class="docutils literal notranslate"><span class="pre">.xls</span></code> 文件。</p>
<p>此前，传递给 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 的默认参数 <code class="docutils literal notranslate"><span class="pre">engine=None</span></code> 在许多情况下将导致使用 <code class="docutils literal notranslate"><span class="pre">xlrd</span></code> 引擎，包括新的 Excel 2007+ (<code class="docutils literal notranslate"><span class="pre">.xlsx</span></code>) 文件。如果 <a class="reference external" href="https://openpyxl.readthedocs.io/en/stable/">openpyxl</a> 已安装，则现在许多这些情况将默认使用 <code class="docutils literal notranslate"><span class="pre">openpyxl</span></code> 引擎。有关更多详细信息，请参阅 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 文档。</p>
<p>因此，强烈建议安装 <code class="docutils literal notranslate"><span class="pre">openpyxl</span></code> 以读取 Excel 2007+ (<code class="docutils literal notranslate"><span class="pre">.xlsx</span></code>) 文件。<strong>请勿在使用 <code class="docutils literal notranslate"><span class="pre">xlrd</span></code> 读取 <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code> 文件时报告问题。</strong>此功能不再受支持，请改用 <code class="docutils literal notranslate"><span class="pre">openpyxl</span></code>。</p>
<p>尝试使用 <code class="docutils literal notranslate"><span class="pre">xlwt</span></code> 引擎将引发一个 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code>，除非将选项 <code class="xref py py-attr docutils literal notranslate"><span class="pre">io.excel.xls.writer</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">"xlwt"</span></code>。尽管此选项现在已被弃用，并且也将引发一个 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code>，但它可以全局设置并抑制警告。建议用户改用 <code class="docutils literal notranslate"><span class="pre">openpyxl</span></code> 引擎写入 <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code> 文件。</p>
</div>
<section id="enhancements">
<h2>增强功能<a class="headerlink" href="v1.2.0.html#enhancements" title="Link to this heading">#</a></h2>
<section id="optionally-disallow-duplicate-labels">
<span id="whatsnew-120-duplicate-labels"></span><h3>可选地禁止重复标签<a class="headerlink" href="v1.2.0.html#optionally-disallow-duplicate-labels" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 现在可以使用 <code class="docutils literal notranslate"><span class="pre">allows_duplicate_labels=False</span></code> 标志来控制索引或列是否可以包含重复标签 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28394">GH 28394</a>)。这可以用于防止意外引入重复标签，因为重复标签可能会影响后续操作。</p>
<p>默认情况下，仍然允许重复项。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">])</span>
<span class="gh">Out[1]:</span>
<span class="go">a    1</span>
<span class="go">a    2</span>
<span class="go">Length: 2, dtype: int64</span>

<span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">])</span><span class="o">.</span><span class="n">set_flags</span><span class="p">(</span><span class="n">allows_duplicate_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">...</span>
<span class="go">DuplicateLabelError: Index has duplicates.</span>
<span class="go">      positions</span>
<span class="go">label</span>
<span class="go">a        [0, 1]</span>
</pre></div>
</div>
<p>pandas 将通过许多操作传播 <code class="docutils literal notranslate"><span class="pre">allows_duplicate_labels</span></code> 属性。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">   ...: </span>    <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">])</span>
<span class="gp">   ...: </span>      <span class="o">.</span><span class="n">set_flags</span><span class="p">(</span><span class="n">allows_duplicate_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">   ...: </span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">a</span>
<span class="gh">Out[4]:</span>
<span class="go">a    1</span>
<span class="go">b    2</span>
<span class="go">Length: 2, dtype: int64</span>

<span class="go"># An operation introducing duplicates</span>
<span class="gp">In [5]: </span><span class="n">a</span><span class="o">.</span><span class="n">reindex</span><span class="p">([</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">])</span>
<span class="go">...</span>
<span class="go">DuplicateLabelError: Index has duplicates.</span>
<span class="go">      positions</span>
<span class="go">label</span>
<span class="go">a        [0, 2]</span>

<span class="go">[1 rows x 1 columns]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>这是一项实验性功能。目前，许多方法未能传播 <code class="docutils literal notranslate"><span class="pre">allows_duplicate_labels</span></code> 的值。在未来版本中，预计每个接受或返回一个或多个 DataFrame 或 Series 对象的方法都将传播 <code class="docutils literal notranslate"><span class="pre">allows_duplicate_labels</span></code>。</p>
</div>
<p>有关<a class="reference internal" href="../user_guide/duplicates.html#duplicates"><span class="std std-ref">重复标签</span></a>的更多信息。</p>
<p>该 <code class="docutils literal notranslate"><span class="pre">allows_duplicate_labels</span></code> 标志存储在新的 <code class="xref py py-attr docutils literal notranslate"><span class="pre">DataFrame.flags</span></code> 属性中。这存储了适用于 <em>pandas 对象</em>的全局属性。这与 <a class="reference internal" href="../reference/api/pandas.DataFrame.attrs.html#pandas.DataFrame.attrs" title="pandas.DataFrame.attrs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DataFrame.attrs</span></code></a> 不同，后者存储了适用于数据集的信息。</p>
</section>
<section id="passing-arguments-to-fsspec-backends">
<h3>向 fsspec 后端传递参数<a class="headerlink" href="v1.2.0.html#passing-arguments-to-fsspec-backends" title="Link to this heading">#</a></h3>
<p>许多读/写函数都增加了可选参数 <code class="docutils literal notranslate"><span class="pre">storage_options</span></code>，用于向存储后端传递参数字典。这例如允许将凭据传递给 S3 和 GCS 存储。可以向哪些后端传递哪些参数的详细信息可以在各个存储后端的文档中找到（从 fsspec 文档中详细介绍<a class="reference external" href="https://filesystem-spec.readthedocs.io/en/latest/api.html#built-in-implementations">内置实现</a>并链接到<a class="reference external" href="https://filesystem-spec.readthedocs.io/en/latest/api.html#other-known-implementations">外部实现</a>）。请参阅章节<a class="reference internal" href="../user_guide/io.html#io-remote"><span class="std std-ref">读/写远程文件</span></a>。</p>
<p><a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35655">GH 35655</a> 增加了 fsspec 支持（包括 <code class="docutils literal notranslate"><span class="pre">storage_options</span></code>）以读取 Excel 文件。</p>
</section>
<section id="support-for-binary-file-handles-in-to-csv">
<span id="whatsnew-120-binary-handle-to-csv"></span><h3>在 <code class="docutils literal notranslate"><span class="pre">to_csv</span></code> 中支持二进制文件句柄<a class="headerlink" href="v1.2.0.html#support-for-binary-file-handles-in-to-csv" title="Link to this heading">#</a></h3>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_csv()</span></code> 支持二进制模式的文件句柄 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19827">GH 19827</a> 和 <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35058">GH 35058</a>)，以及 <code class="docutils literal notranslate"><span class="pre">encoding</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13068">GH 13068</a> 和 <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/23854">GH 23854</a>) 和 <code class="docutils literal notranslate"><span class="pre">compression</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/22555">GH 22555</a>)。如果 pandas 没有自动检测文件句柄是以二进制模式还是文本模式打开，则需要提供 <code class="docutils literal notranslate"><span class="pre">mode="wb"</span></code>。</p>
<p>例如</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span><span class="w"> </span><span class="nn">io</span>

<span class="gp">In [2]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

<span class="gp">In [3]: </span><span class="n">buffer</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>

<span class="gp">In [4]: </span><span class="n">data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="s2">"gzip"</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="support-for-short-caption-and-table-position-in-to-latex">
<h3>在 <code class="docutils literal notranslate"><span class="pre">to_latex</span></code> 中支持短标题和表格位置<a class="headerlink" href="v1.2.0.html#support-for-short-caption-and-table-position-in-to-latex" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> 现在允许指定浮动表格位置 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35281">GH 35281</a>) 和短标题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36267">GH 36267</a>)。</p>
<p>已添加关键词 <code class="docutils literal notranslate"><span class="pre">position</span></code> 以设置位置。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>

<span class="gp">In [6]: </span><span class="n">table</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">to_latex</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="s1">'ht'</span><span class="p">)</span>

<span class="gp">In [7]: </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go">\begin{table}[ht]</span>
<span class="go">\begin{tabular}{lrr}</span>
<span class="go">\toprule</span>
<span class="go"> &amp; a &amp; b \\</span>
<span class="go">\midrule</span>
<span class="go">0 &amp; 1 &amp; 3 \\</span>
<span class="go">1 &amp; 2 &amp; 4 \\</span>
<span class="go">\bottomrule</span>
<span class="go">\end{tabular}</span>
<span class="go">\end{table}</span>
</pre></div>
</div>
<p>关键词 <code class="docutils literal notranslate"><span class="pre">caption</span></code> 已扩展使用范围。除了接受单个字符串作为参数外，还可以选择提供一个元组 <code class="docutils literal notranslate"><span class="pre">(full_caption,</span> <span class="pre">short_caption)</span></code> 来添加短标题宏。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>

<span class="gp">In [9]: </span><span class="n">table</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">to_latex</span><span class="p">(</span><span class="n">caption</span><span class="o">=</span><span class="p">(</span><span class="s1">'the full long caption'</span><span class="p">,</span> <span class="s1">'short caption'</span><span class="p">))</span>

<span class="gp">In [10]: </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go">\begin{table}</span>
<span class="go">\caption[short caption]{the full long caption}</span>
<span class="go">\begin{tabular}{lrr}</span>
<span class="go">\toprule</span>
<span class="go"> &amp; a &amp; b \\</span>
<span class="go">\midrule</span>
<span class="go">0 &amp; 1 &amp; 3 \\</span>
<span class="go">1 &amp; 2 &amp; 4 \\</span>
<span class="go">\bottomrule</span>
<span class="go">\end{tabular}</span>
<span class="go">\end{table}</span>
</pre></div>
</div>
</section>
<section id="change-in-default-floating-precision-for-read-csv-and-read-table">
<span id="whatsnew-120-read-csv-table-precision-default"></span><h3>更改了 <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> 和 <code class="docutils literal notranslate"><span class="pre">read_table</span></code> 的默认浮点精度<a class="headerlink" href="v1.2.0.html#change-in-default-floating-precision-for-read-csv-and-read-table" title="Link to this heading">#</a></h3>
<p>对于 C 语言解析引擎，<a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_table()</span></code></a> 方法以前默认使用一个解析器，该解析器在读取浮点数时，在精度上可能会出现最后一位的轻微不准确。选项 <code class="docutils literal notranslate"><span class="pre">floating_precision="high"</span></code> 始终可用以避免此问题。从本版本开始，默认设置是使用更精确的解析器，即让 <code class="docutils literal notranslate"><span class="pre">floating_precision=None</span></code> 对应高精度解析器，并新增选项 <code class="docutils literal notranslate"><span class="pre">floating_precision="legacy"</span></code> 以使用旧版解析器。默认使用更高精度解析器的更改对性能没有影响。( <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17154">GH 17154</a>)</p>
</section>
<section id="experimental-nullable-data-types-for-float-data">
<span id="whatsnew-120-floating"></span><h3>浮点数据的新增可空数据类型<a class="headerlink" href="v1.2.0.html#experimental-nullable-data-types-for-float-data" title="Link to this heading">#</a></h3>
<p>我们添加了 <a class="reference internal" href="../reference/api/pandas.Float32Dtype.html#pandas.Float32Dtype" title="pandas.Float32Dtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">Float32Dtype</span></code></a> / <a class="reference internal" href="../reference/api/pandas.Float64Dtype.html#pandas.Float64Dtype" title="pandas.Float64Dtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">Float64Dtype</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray" title="pandas.arrays.FloatingArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">FloatingArray</span></code></a>。这些是专门用于浮点数据的扩展数据类型，可以存储 <code class="docutils literal notranslate"><span class="pre">pd.NA</span></code> 缺失值指示器 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32265">GH 32265</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34307">GH 34307</a>)。</p>
<p>虽然默认的浮点数据类型已经支持使用 <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> 表示缺失值，但这些新数据类型使用 <code class="docutils literal notranslate"><span class="pre">pd.NA</span></code>（及其相应的行为）作为缺失值指示器，与已有的可空<a class="reference internal" href="../user_guide/integer_na.html#integer-na"><span class="std std-ref">整型</span></a>和<a class="reference internal" href="../user_guide/boolean.html#boolean"><span class="std std-ref">布尔型</span></a>数据类型保持一致。</p>
<p><code class="docutils literal notranslate"><span class="pre">np.nan</span></code> 和 <code class="docutils literal notranslate"><span class="pre">pd.NA</span></code> 行为不同的一个例子是比较操作。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># the default NumPy float64 dtype</span>
<span class="gp">In [11]: </span><span class="n">s1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span>

<span class="gp">In [12]: </span><span class="n">s1</span>
<span class="gh">Out[12]: </span>
<span class="go">0    1.5</span>
<span class="go">1    NaN</span>
<span class="go">Length: 2, dtype: float64</span>

<span class="gp">In [13]: </span><span class="n">s1</span> <span class="o">&gt;</span> <span class="mi">1</span>
<span class="gh">Out[13]: </span>
<span class="go">0     True</span>
<span class="go">1    False</span>
<span class="go">Length: 2, dtype: bool</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># the new nullable float64 dtype</span>
<span class="gp">In [14]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">"Float64"</span><span class="p">)</span>

<span class="gp">In [15]: </span><span class="n">s2</span>
<span class="gh">Out[15]: </span>
<span class="go">0     1.5</span>
<span class="go">1    &lt;NA&gt;</span>
<span class="go">Length: 2, dtype: Float64</span>

<span class="gp">In [16]: </span><span class="n">s2</span> <span class="o">&gt;</span> <span class="mi">1</span>
<span class="gh">Out[16]: </span>
<span class="go">0    True</span>
<span class="go">1    &lt;NA&gt;</span>
<span class="go">Length: 2, dtype: boolean</span>
</pre></div>
</div>
<p>有关使用 <code class="docutils literal notranslate"><span class="pre">pd.NA</span></code> 缺失值指示器时的更多行为细节，请参见<a class="reference internal" href="../user_guide/missing_data.html#missing-data-na"><span class="std std-ref">NA 语义</span></a>文档部分。</p>
<p>如上所示，数据类型可以使用“Float64”或“Float32”字符串（大写以与默认的“float64”数据类型区分）指定。此外，您也可以使用数据类型对象。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Float32Dtype</span><span class="p">())</span>
<span class="gh">Out[17]: </span>
<span class="go">0     1.5</span>
<span class="go">1    &lt;NA&gt;</span>
<span class="go">Length: 2, dtype: Float32</span>
</pre></div>
</div>
<p>与现有整型或布尔型可空数据类型进行操作，如果结果是浮点型，现在也将使用可空浮点数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38178">GH 38178</a>)。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>实验性：新的浮点数据类型目前是实验性的，其行为或 API 仍可能在没有警告的情况下发生变化。特别是关于 NaN（与 NA 缺失值不同）的行为可能会发生变化。</p>
</div>
</section>
<section id="index-column-name-preservation-when-aggregating">
<span id="whatsnew-120-index-name-preservation"></span><h3>聚合时保留索引/列名<a class="headerlink" href="v1.2.0.html#index-column-name-preservation-when-aggregating" title="Link to this heading">#</a></h3>
<p>当使用 <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">concat()</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数进行聚合时，pandas 现在将尽可能尝试保留索引和列名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35847">GH 35847</a>)。如果所有输入共享一个共同的名称，该名称将分配给结果。当输入名称不一致时，结果将是未命名的。以下是一个保留索引名称的示例。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">'abc'</span><span class="p">)</span>

<span class="gp">In [19]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">idx</span><span class="p">)</span>

<span class="gp">In [20]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">({</span><span class="s1">'x'</span><span class="p">:</span> <span class="n">ser</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="s1">'y'</span><span class="p">:</span> <span class="n">ser</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[20]: </span>
<span class="go">       x    y</span>
<span class="go">abc          </span>
<span class="go">1    6.0  6.0</span>
<span class="go">2    7.0  7.0</span>
<span class="go">3    8.0  8.0</span>
<span class="go">4    9.0  NaN</span>
<span class="go">0    NaN  5.0</span>

<span class="go">[5 rows x 2 columns]</span>
</pre></div>
</div>
<p><a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 也是如此，但逻辑是按级别单独应用的。</p>
</section>
<section id="groupby-supports-ewm-operations-directly">
<span id="whatsnew-120-groupby-ewm"></span><h3>GroupBy 直接支持 EWM 操作<a class="headerlink" href="v1.2.0.html#groupby-supports-ewm-operations-directly" title="Link to this heading">#</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 现在直接支持指数加权窗口操作 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16037">GH 16037</a>)。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'A'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">],</span> <span class="s1">'B'</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)})</span>

<span class="gp">In [22]: </span><span class="n">df</span>
<span class="gh">Out[22]: </span>
<span class="go">   A  B</span>
<span class="go">0  a  0</span>
<span class="go">1  b  1</span>
<span class="go">2  a  2</span>
<span class="go">3  b  3</span>

<span class="go">[4 rows x 2 columns]</span>

<span class="gp">In [23]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'A'</span><span class="p">)</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">com</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gh">Out[23]: </span>
<span class="go">            B</span>
<span class="go">A            </span>
<span class="go">a 0  0.000000</span>
<span class="go">  2  1.333333</span>
<span class="go">b 1  1.000000</span>
<span class="go">  3  2.333333</span>

<span class="go">[4 rows x 1 columns]</span>
</pre></div>
</div>
<p>此外，<code class="docutils literal notranslate"><span class="pre">mean</span></code> 支持通过 <a class="reference external" href="https://numba.pydata.org.cn/">Numba</a> 执行，并带有 <code class="docutils literal notranslate"><span class="pre">engine</span></code> 和 <code class="docutils literal notranslate"><span class="pre">engine_kwargs</span></code> 参数。要使用此功能，必须安装 Numba 作为可选依赖项。</p>
</section>
<section id="other-enhancements">
<span id="whatsnew-120-enhancements-other"></span><h3>其他增强功能<a class="headerlink" href="v1.2.0.html#other-enhancements" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>为 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a>、<a class="reference internal" href="../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex" title="pandas.PeriodIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code></a> 添加了 <code class="docutils literal notranslate"><span class="pre">day_of_week</span></code> 属性（兼容别名 <code class="docutils literal notranslate"><span class="pre">dayofweek</span></code>）(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9605">GH 9605</a>)</p></li>
<li><p>为 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a>、<a class="reference internal" href="../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex" title="pandas.PeriodIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code></a> 添加了 <code class="docutils literal notranslate"><span class="pre">day_of_year</span></code> 属性（兼容别名 <code class="docutils literal notranslate"><span class="pre">dayofyear</span></code>）(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9605">GH 9605</a>)</p></li>
<li><p>添加了 <a class="reference internal" href="../reference/api/pandas.DataFrame.set_flags.html#pandas.DataFrame.set_flags" title="pandas.DataFrame.set_flags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_flags()</span></code></a> 用于在 Series 或 DataFrame 上设置表范围的标志 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28394">GH 28394</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap" title="pandas.DataFrame.applymap"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.applymap()</span></code></a> 现在支持 <code class="docutils literal notranslate"><span class="pre">na_action</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/23803">GH 23803</a>)</p></li>
<li><p>对象数据类型为 <code class="docutils literal notranslate"><span class="pre">object</span></code> 的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 支持除法和乘法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34160">GH 34160</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">io.sql.get_schema()</span></code> 现在支持 <code class="docutils literal notranslate"><span class="pre">schema</span></code> 关键字参数，该参数将在创建表语句中添加一个 schema (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28486">GH 28486</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.explode.html#pandas.DataFrame.explode" title="pandas.DataFrame.explode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.explode()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.explode.html#pandas.Series.explode" title="pandas.Series.explode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.explode()</span></code></a> 现在支持展开集合 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35614">GH 35614</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.hist.html#pandas.DataFrame.hist" title="pandas.DataFrame.hist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.hist()</span></code></a> 现在支持时间序列 (datetime) 数据 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32590">GH 32590</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.set_table_styles.html#pandas.io.formats.style.Styler.set_table_styles" title="pandas.io.formats.style.Styler.set_table_styles"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Styler.set_table_styles()</span></code></a> 现在允许直接设置行和列的样式，并且可以进行链式调用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35607">GH 35607</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler" title="pandas.io.formats.style.Styler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Styler</span></code></a> 现在允许直接向单个数据单元格添加 CSS 类名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36159">GH 36159</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.mean.html#pandas.core.window.rolling.Rolling.mean" title="pandas.core.window.rolling.Rolling.mean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.mean()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum" title="pandas.core.window.rolling.Rolling.sum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.sum()</span></code></a> 使用 Kahan 求和法计算平均值以避免数值问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/10319">GH 10319</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11645">GH 11645</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13254">GH 13254</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32761">GH 32761</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36031">GH 36031</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.searchsorted()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaIndex.searchsorted()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.searchsorted()</span></code>, 和 <a class="reference internal" href="../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted" title="pandas.Series.searchsorted"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.searchsorted()</span></code></a> 对于 datetime 类型的数据，现在会尝试将字符串参数（列表式和标量）转换为匹配的 datetime 类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36346">GH 36346</a>)</p></li>
<li><p>添加了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">IntegerArray.prod()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">IntegerArray.min()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">IntegerArray.max()</span></code> 方法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33790">GH 33790</a>)</p></li>
<li><p>在具有扩展类型的 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 上调用 NumPy ufunc 时，现在尽可能保留扩展类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/23743">GH 23743</a>)</p></li>
<li><p>在多个 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 对象上调用二进制输入 NumPy ufunc 时，现在会进行对齐，与二进制操作和 <code class="docutils literal notranslate"><span class="pre">Series</span></code> 上的 ufuncs 的行为保持一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/23743">GH 23743</a>)。此更改已在 pandas 1.2.1 中恢复，并且不对齐 DataFrame 的行为已被弃用，详见 <a class="reference internal" href="v1.2.1.html#whatsnew-121-ufunc-deprecation"><span class="std std-ref">1.2.1 版本说明</span></a>。</p></li>
<li><p>在可能的情况下，<code class="xref py py-meth docutils literal notranslate"><span class="pre">RangeIndex.difference()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">RangeIndex.symmetric_difference()</span></code> 将返回 <a class="reference internal" href="../reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="pandas.RangeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> 而不是 <code class="xref py py-class docutils literal notranslate"><span class="pre">Int64Index</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36564">GH 36564</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet" title="pandas.DataFrame.to_parquet"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_parquet()</span></code></a> 现在支持 Parquet 格式的列中的 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34777">GH 34777</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_parquet.html#pandas.read_parquet" title="pandas.read_parquet"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_parquet()</span></code></a> 获得了一个 <code class="docutils literal notranslate"><span class="pre">use_nullable_dtypes=True</span></code> 选项，用于在可能的情况下使用 <code class="docutils literal notranslate"><span class="pre">pd.NA</span></code> 作为缺失值指示器的可空数据类型作为结果 DataFrame（默认值为 <code class="docutils literal notranslate"><span class="pre">False</span></code>，仅适用于 <code class="docutils literal notranslate"><span class="pre">engine="pyarrow"</span></code>）(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31242">GH 31242</a>)</p></li>
<li><p>添加了 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.sem.html#pandas.core.window.rolling.Rolling.sem" title="pandas.core.window.rolling.Rolling.sem"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.sem()</span></code></a> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Expanding.sem()</span></code> 来计算均值的标准误差 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26476">GH 26476</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var" title="pandas.core.window.rolling.Rolling.var"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.var()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std" title="pandas.core.window.rolling.Rolling.std"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.std()</span></code></a> 使用 Kahan 求和和 Welford 方法来避免数值问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37051">GH 37051</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr" title="pandas.DataFrame.corr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.corr()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.cov.html#pandas.DataFrame.cov" title="pandas.DataFrame.cov"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.cov()</span></code></a> 使用 Welford 方法来避免数值问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37448">GH 37448</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> 现在识别 <code class="docutils literal notranslate"><span class="pre">xlabel</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ylabel</span></code> 参数，用于 <code class="docutils literal notranslate"><span class="pre">scatter</span></code> 和 <code class="docutils literal notranslate"><span class="pre">hexbin</span></code> 类型的图表 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37001">GH 37001</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 现在支持 <code class="docutils literal notranslate"><span class="pre">divmod</span></code> 操作 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37165">GH 37165</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet" title="pandas.DataFrame.to_parquet"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_parquet()</span></code></a> 在未传入 <code class="docutils literal notranslate"><span class="pre">path</span></code> 参数时，现在返回一个 <code class="docutils literal notranslate"><span class="pre">bytes</span></code> 对象 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37105">GH 37105</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Rolling</span></code> 现在支持固定窗口的 <code class="docutils literal notranslate"><span class="pre">closed</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34315">GH 34315</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 具有 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 或 <code class="docutils literal notranslate"><span class="pre">datetime64tz</span></code> 数据类型时，现在支持 <code class="docutils literal notranslate"><span class="pre">std</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37436">GH 37436</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Window</span></code> 现在支持 <code class="docutils literal notranslate"><span class="pre">win_type</span></code> 中的所有 Scipy 窗口类型，并支持灵活的关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34556">GH 34556</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.testing.assert_index_equal.html#pandas.testing.assert_index_equal" title="pandas.testing.assert_index_equal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">testing.assert_index_equal()</span></code></a> 现在有一个 <code class="docutils literal notranslate"><span class="pre">check_order</span></code> 参数，允许以不考虑顺序的方式检查索引 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37478">GH 37478</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 支持压缩文件的内存映射 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37621">GH 37621</a>)</p></li>
<li><p>为 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code></a> 函数 <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>, <code class="docutils literal notranslate"><span class="pre">first</span></code> 和 <code class="docutils literal notranslate"><span class="pre">last</span></code> 增加了 <code class="docutils literal notranslate"><span class="pre">min_count</span></code> 关键字支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37821">GH 37821</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37768">GH 37768</a>)</p></li>
<li><p>当给出无效的合并列定义时，改进了 <a class="reference internal" href="../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge" title="pandas.DataFrame.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code></a> 的错误报告 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16228">GH 16228</a>)</p></li>
<li><p>通过实现 Kahan 求和法，提高了 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.skew.html#pandas.core.window.rolling.Rolling.skew" title="pandas.core.window.rolling.Rolling.skew"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.skew()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.kurt.html#pandas.core.window.rolling.Rolling.kurt" title="pandas.core.window.rolling.Rolling.kurt"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.kurt()</span></code></a>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Expanding.skew()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Expanding.kurt()</span></code> 的数值稳定性 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6929">GH 6929</a>)</p></li>
<li><p>改进了使用 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> 对 <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 的列进行子集操作的错误报告 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37725">GH 37725</a>)</p></li>
<li><p>为 <a class="reference internal" href="../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge" title="pandas.DataFrame.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join" title="pandas.DataFrame.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.join()</span></code></a> 实现了 <code class="docutils literal notranslate"><span class="pre">cross</span></code> 方法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5401">GH 5401</a>)</p></li>
<li><p>当调用 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.read_sas.html#pandas.read_sas" title="pandas.read_sas"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 时指定 <code class="docutils literal notranslate"><span class="pre">chunksize</span></code>/<code class="docutils literal notranslate"><span class="pre">iterator</span></code>，它们可以作为上下文管理器在 <code class="docutils literal notranslate"><span class="pre">with</span></code> 语句中使用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38225">GH 38225</a>)</p></li>
<li><p>增加了可用于 Excel 导出样式的命名颜色列表，现在支持所有 CSS4 颜色 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38247">GH 38247</a>)</p></li>
</ul>
</section>
</section>
<section id="notable-bug-fixes">
<span id="whatsnew-120-notable-bug-fixes"></span><h2>显著的错误修复<a class="headerlink" href="v1.2.0.html#notable-bug-fixes" title="Link to this heading">#</a></h2>
<p>这些错误修复可能会导致显著的行为变化。</p>
<section id="consistency-of-dataframe-reductions">
<h3>DataFrame 归约的一致性<a class="headerlink" href="v1.2.0.html#consistency-of-dataframe-reductions" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any" title="pandas.DataFrame.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.any()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.all.html#pandas.DataFrame.all" title="pandas.DataFrame.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.all()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">bool_only=True</span></code> 的情况下，现在会逐列判断是否排除对象数据类型列，而不是检查所有对象数据类型列是否都可以被视为布尔值。</p>
<p>这避免了在列子集上应用归约可能导致更大的 Series 结果的病态行为。参见 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37799">GH 37799</a>)。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">"A"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"foo"</span><span class="p">,</span> <span class="s2">"bar"</span><span class="p">],</span> <span class="s2">"B"</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]},</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>

<span class="gp">In [25]: </span><span class="n">df</span><span class="p">[</span><span class="s2">"C"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span>
</pre></div>
</div>
<p><em>以前的行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">bool_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gh">Out[5]:</span>
<span class="go">C    True</span>
<span class="go">dtype: bool</span>

<span class="gp">In [6]: </span><span class="n">df</span><span class="p">[[</span><span class="s2">"B"</span><span class="p">,</span> <span class="s2">"C"</span><span class="p">]]</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">bool_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gh">Out[6]:</span>
<span class="go">B    False</span>
<span class="go">C    True</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<p><em>新的行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [26]: </span><span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">df</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">bool_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gh">Out[26]: </span>
<span class="go">C    True</span>
<span class="go">Length: 1, dtype: bool</span>

<span class="gp">In [27]: </span><span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">df</span><span class="p">[[</span><span class="s2">"B"</span><span class="p">,</span> <span class="s2">"C"</span><span class="p">]]</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">bool_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gh">Out[27]: </span>
<span class="go">C    True</span>
<span class="go">Length: 1, dtype: bool</span>
</pre></div>
</div>
<p>其他带有 <code class="docutils literal notranslate"><span class="pre">numeric_only=None</span></code> 的 DataFrame 归约也将避免这种病态行为 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37827">GH 37827</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">"A"</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">"B"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">]},</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
<p><em>以前的行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gh">Out[3]: </span><span class="go">Series([], dtype: float64)</span>

<span class="gp">In [4]: </span><span class="n">df</span><span class="p">[[</span><span class="s2">"A"</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gh">Out[4]:</span>
<span class="go">A    1.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p><em>新的行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gh">Out[3]:</span>
<span class="go">A    1.0</span>
<span class="go">dtype: float64</span>

<span class="gp">In [4]: </span><span class="n">df</span><span class="p">[[</span><span class="s2">"A"</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gh">Out[4]:</span>
<span class="go">A    1.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>此外，带有 <code class="docutils literal notranslate"><span class="pre">numeric_only=None</span></code> 的 DataFrame 归约现在将与其 Series 对应项保持一致。特别是，对于 Series 方法引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的归约，DataFrame 归约现在将把该列视为非数字，而不是强制转换为 NumPy 数组，这可能会有不同的语义 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36076">GH 36076</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28949">GH 28949</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21020">GH 21020</a>)。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [29]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">"category"</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"A"</span><span class="p">)</span>

<span class="gp">In [30]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
</pre></div>
</div>
<p><em>以前的行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">any</span><span class="p">()</span>
<span class="gh">Out[5]:</span>
<span class="go">A    True</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<p><em>新的行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">any</span><span class="p">()</span>
<span class="gh">Out[5]: </span><span class="go">Series([], dtype: bool)</span>
</pre></div>
</div>
</section>
<section id="increased-minimum-version-for-python">
<span id="whatsnew-120-api-breaking-python"></span><h3>Python 最低版本要求提升<a class="headerlink" href="v1.2.0.html#increased-minimum-version-for-python" title="Link to this heading">#</a></h3>
<p>pandas 1.2.0 支持 Python 3.7.1 及更高版本 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35214">GH 35214</a>)。</p>
</section>
<section id="increased-minimum-versions-for-dependencies">
<span id="whatsnew-120-api-breaking-deps"></span><h3>依赖项最低版本要求提升<a class="headerlink" href="v1.2.0.html#increased-minimum-versions-for-dependencies" title="Link to this heading">#</a></h3>
<p>一些依赖项的最低支持版本已更新 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35214">GH 35214</a>)。如果已安装，我们现在要求：</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>软件包</p></th>
<th class="head"><p>最低版本</p></th>
<th class="head"><p>必需</p></th>
<th class="head"><p>已更改</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>numpy</p></td>
<td><p>1.16.5</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>pytz</p></td>
<td><p>2017.3</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>python-dateutil</p></td>
<td><p>2.7.3</p></td>
<td><p>X</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>bottleneck</p></td>
<td><p>1.2.1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>numexpr</p></td>
<td><p>2.6.8</p></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>pytest (开发)</p></td>
<td><p>5.0.1</p></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>mypy (开发)</p></td>
<td><p>0.782</p></td>
<td></td>
<td><p>X</p></td>
</tr>
</tbody>
</table>
<p>对于<a class="reference external" href="../getting_started/install.html">可选库</a>，一般建议使用最新版本。下表列出了 pandas 开发过程中目前测试的每个库的最低版本。低于最低测试版本的可选库可能仍然可用，但不被视为受支持。</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>软件包</p></th>
<th class="head"><p>最低版本</p></th>
<th class="head"><p>已更改</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>beautifulsoup4</p></td>
<td><p>4.6.0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>fastparquet</p></td>
<td><p>0.3.2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>fsspec</p></td>
<td><p>0.7.4</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>gcsfs</p></td>
<td><p>0.6.0</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>lxml</p></td>
<td><p>4.3.0</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>matplotlib</p></td>
<td><p>2.2.3</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>numba</p></td>
<td><p>0.46.0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>openpyxl</p></td>
<td><p>2.6.0</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>pyarrow</p></td>
<td><p>0.15.0</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>pymysql</p></td>
<td><p>0.7.11</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>pytables</p></td>
<td><p>3.5.1</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>s3fs</p></td>
<td><p>0.4.0</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>scipy</p></td>
<td><p>1.2.0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>sqlalchemy</p></td>
<td><p>1.2.8</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>xarray</p></td>
<td><p>0.12.3</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>xlrd</p></td>
<td><p>1.2.0</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>xlsxwriter</p></td>
<td><p>1.0.2</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>xlwt</p></td>
<td><p>1.3.0</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>pandas-gbq</p></td>
<td><p>0.12.0</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>更多信息请参见 <a class="reference internal" href="../getting_started/install.html#install-dependencies"><span class="std std-ref">依赖项</span></a> 和 <a class="reference internal" href="../getting_started/install.html#install-optional-dependencies"><span class="std std-ref">可选依赖项</span></a>。</p>
</section>
<section id="other-api-changes">
<span id="whatsnew-120-api-other"></span><h3>其他 API 变更<a class="headerlink" href="v1.2.0.html#other-api-changes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>对于 Datetime 类的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 子类，<a class="reference internal" href="../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values" title="pandas.Series.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sort_values()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values" title="pandas.Index.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.sort_values()</span></code></a> 的降序排序现在是稳定的。这将影响 DataFrame 在多列上排序、使用产生重复值的键函数排序，或在使用 <a class="reference internal" href="../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values" title="pandas.Index.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.sort_values()</span></code></a> 时请求排序索引时的排序顺序。在使用 <a class="reference internal" href="../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts" title="pandas.Series.value_counts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.value_counts()</span></code></a> 时，缺失值的计数不再一定排在重复计数列表的最后。相反，其位置与原始 Series 中的位置相对应。在使用 <a class="reference internal" href="../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values" title="pandas.Index.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.sort_values()</span></code></a> 对 Datetime 类的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 子类进行排序时，NaT 值会忽略 <code class="docutils literal notranslate"><span class="pre">na_position</span></code> 参数并被排序到开头。现在它们会遵循 <code class="docutils literal notranslate"><span class="pre">na_position</span></code>，默认值为 <code class="docutils literal notranslate"><span class="pre">last</span></code>，与其他的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 子类相同 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35992">GH 35992</a>)</p></li>
<li><p>将无效的 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> 传递给 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.take()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeArray.take()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaArray.take()</span></code>, 或 <code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodArray.take()</span></code> 现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37733">GH 37733</a>)</p></li>
<li><p>将无效的 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> 传递给具有 <code class="docutils literal notranslate"><span class="pre">CategoricalDtype</span></code> 的 <a class="reference internal" href="../reference/api/pandas.Series.shift.html#pandas.Series.shift" title="pandas.Series.shift"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.shift()</span></code></a> 现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37733">GH 37733</a>)</p></li>
<li><p>将无效值传递给 <code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.insert()</span></code> 或 <code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.insert()</span></code> 现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37733">GH 37733</a>)</p></li>
<li><p>尝试使用无效的 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> 对带有 <a class="reference internal" href="../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex" title="pandas.CategoricalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code></a> 的 Series 进行重新索引，现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37733">GH 37733</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.append()</span></code> 当索引包含非类别值时，现在将进行转换而不是引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38098">GH 38098</a>)</p></li>
</ul>
</section>
</section>
<section id="deprecations">
<span id="whatsnew-120-deprecations"></span><h2>弃用<a class="headerlink" href="v1.2.0.html#deprecations" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes" title="pandas.MultiIndex.set_codes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.set_codes()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels" title="pandas.MultiIndex.set_levels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.set_levels()</span></code></a> 中，参数 <code class="docutils literal notranslate"><span class="pre">inplace</span></code> 已弃用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35626">GH 35626</a>)</p></li>
<li><p>所有 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 子类的 <a class="reference internal" href="../reference/api/pandas.Index.copy.html#pandas.Index.copy" title="pandas.Index.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">copy()</span></code></a> 方法的 <code class="docutils literal notranslate"><span class="pre">dtype</span></code> 参数已弃用。请改用 <a class="reference internal" href="../reference/api/pandas.Index.astype.html#pandas.Index.astype" title="pandas.Index.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">astype()</span></code></a> 方法来更改数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35853">GH 35853</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.MultiIndex.copy.html#pandas.MultiIndex.copy" title="pandas.MultiIndex.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.copy()</span></code></a> 中的 <code class="docutils literal notranslate"><span class="pre">levels</span></code> 和 <code class="docutils literal notranslate"><span class="pre">codes</span></code> 参数已弃用。请改用 <a class="reference internal" href="../reference/api/pandas.MultiIndex.set_levels.html#pandas.MultiIndex.set_levels" title="pandas.MultiIndex.set_levels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_levels()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.MultiIndex.set_codes.html#pandas.MultiIndex.set_codes" title="pandas.MultiIndex.set_codes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_codes()</span></code></a> 方法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36685">GH 36685</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas.io.date_converters</span></code> 中的日期解析函数 <code class="xref py py-func docutils literal notranslate"><span class="pre">parse_date_time()</span></code>、<code class="xref py py-func docutils literal notranslate"><span class="pre">parse_date_fields()</span></code>、<code class="xref py py-func docutils literal notranslate"><span class="pre">parse_all_fields()</span></code> 和 <code class="xref py py-func docutils literal notranslate"><span class="pre">generic_parser()</span></code> 已弃用，并将在未来版本中移除；请改用 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35741">GH 35741</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.lookup()</span></code> 已弃用，并将在未来版本中移除；请改用 <a class="reference internal" href="../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt" title="pandas.DataFrame.melt"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.melt()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35224">GH 35224</a>)</p></li>
<li><p>方法 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.to_native_types()</span></code> 已弃用。请改用 <code class="docutils literal notranslate"><span class="pre">.astype(str)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28867">GH 28867</a>)</p></li>
<li><p>弃用使用单个 datetime 字符串作为 <code class="docutils literal notranslate"><span class="pre">df[string]</span></code> 索引 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 行的用法（考虑到它是索引行还是选择列的歧义），请改用 <code class="docutils literal notranslate"><span class="pre">df.loc[string]</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36179">GH 36179</a>)</p></li>
<li><p>弃用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_all_dates()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27744">GH 27744</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace" title="pandas.Series.str.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.replace()</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">regex</span></code> 默认值将在未来版本中从 <code class="docutils literal notranslate"><span class="pre">True</span></code> 更改为 <code class="docutils literal notranslate"><span class="pre">False</span></code>。此外，当设置 <code class="docutils literal notranslate"><span class="pre">regex=True</span></code> 时，单字符正则表达式将<code class="docutils literal notranslate"><span class="pre">不</span></code>被视为字面字符串 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24804">GH 24804</a>)</p></li>
<li><p>弃用 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 之间比较操作的自动对齐，请在执行 <code class="docutils literal notranslate"><span class="pre">frame</span> <span class="pre">==</span> <span class="pre">ser</span></code> 之前先执行 <code class="docutils literal notranslate"><span class="pre">frame,</span> <span class="pre">ser</span> <span class="pre">=</span> <span class="pre">frame.align(ser,</span> <span class="pre">axis=1,</span> <span class="pre">copy=False)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28759">GH 28759</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.count()</span></code> 在未来版本中，当 <code class="docutils literal notranslate"><span class="pre">min_periods=None</span></code> 时将默认为窗口大小 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31302">GH 31302</a>)</p></li>
<li><p>在 DataFrames 上使用“outer” ufuncs 返回 4d ndarray 的功能现已弃用。请先转换为 ndarray (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/23743">GH 23743</a>)</p></li>
<li><p>弃用带有时区信息的 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 与不带时区信息的 <code class="docutils literal notranslate"><span class="pre">datetime</span></code> 对象进行切片索引，以匹配标量索引行为 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36148">GH 36148</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.ravel.html#pandas.Index.ravel" title="pandas.Index.ravel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.ravel()</span></code></a> 返回 <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> 已弃用，未来将返回同一索引的视图 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19956">GH 19956</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_timedelta.html#pandas.to_timedelta" title="pandas.to_timedelta"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_timedelta()</span></code></a> 中，使用带“M”、“Y”或“y”的字符串表示单位已弃用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36666">GH 36666</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 方法 <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>, 和 <code class="docutils literal notranslate"><span class="pre">^</span></code> 作为集合操作 <a class="reference internal" href="../reference/api/pandas.Index.intersection.html#pandas.Index.intersection" title="pandas.Index.intersection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.intersection()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.Index.union.html#pandas.Index.union" title="pandas.Index.union"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.union()</span></code></a>, 和 <a class="reference internal" href="../reference/api/pandas.Index.symmetric_difference.html#pandas.Index.symmetric_difference" title="pandas.Index.symmetric_difference"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.symmetric_difference()</span></code></a> 的行为已弃用，未来将作为逐点布尔操作，与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 行为一致。请改用命名的集合方法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36758">GH 36758</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.is_dtype_equal()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.is_dtype_equal()</span></code> 已弃用，将在未来版本中移除 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37545">GH 37545</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.slice_shift()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.slice_shift()</span></code> 已弃用，请改用 <a class="reference internal" href="../reference/api/pandas.Series.shift.html#pandas.Series.shift" title="pandas.Series.shift"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.shift()</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift" title="pandas.DataFrame.shift"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.shift()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37601">GH 37601</a>)</p></li>
<li><p>对无序的 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 对象进行键不在索引中的部分切片已弃用，并将在未来版本中移除 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18531">GH 18531</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.astype()</span></code> 中的 <code class="docutils literal notranslate"><span class="pre">how</span></code> 关键字已弃用，并将在未来版本中移除，请改用 <code class="docutils literal notranslate"><span class="pre">index.to_timestamp(how=how)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37982">GH 37982</a>)</p></li>
<li><p>对于 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 子类（除了 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>, <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a>, 和 <a class="reference internal" href="../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex" title="pandas.PeriodIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code></a>），<code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.asi8()</span></code> 已弃用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37877">GH 37877</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.remove_unused_categories()</span></code> 的 <code class="docutils literal notranslate"><span class="pre">inplace</span></code> 参数已弃用，并将在未来版本中移除 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37643">GH 37643</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.info.html#pandas.DataFrame.info" title="pandas.DataFrame.info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.info()</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">null_counts</span></code> 参数已弃用，并由 <code class="docutils literal notranslate"><span class="pre">show_counts</span></code> 取代。它将在未来版本中移除 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37999">GH 37999</a>)</p></li>
</ul>
<p><strong>在不对齐的 DataFrames 上调用 NumPy ufuncs</strong></p>
<p>在不对齐的 DataFrames 上调用 NumPy ufuncs 的行为在 pandas 1.2.0 中发生了变化（在调用 ufunc 之前对输入进行对齐），但此更改在 pandas 1.2.1 中已恢复。不对齐的行为现在已被弃用，更多详情请参阅 <a class="reference internal" href="v1.2.1.html#whatsnew-121-ufunc-deprecation"><span class="std std-ref">1.2.1 版本说明</span></a>。</p>
</section>
<section id="performance-improvements">
<span id="whatsnew-120-performance"></span><h2>性能改进<a class="headerlink" href="v1.2.0.html#performance-improvements" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>从具有许多字符串元素的数组创建数据类型为 <code class="docutils literal notranslate"><span class="pre">str</span></code> 或 <a class="reference internal" href="../reference/api/pandas.StringDtype.html#pandas.StringDtype" title="pandas.StringDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringDtype</span></code></a> 的 DataFrame 或 Series 时，性能得到改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36304">GH 36304</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36317">GH 36317</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36325">GH 36325</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36432">GH 36432</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37371">GH 37371</a>)</p></li>
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">numba</span></code> 引擎的 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg" title="pandas.core.groupby.DataFrameGroupBy.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.agg()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg" title="pandas.core.groupby.SeriesGroupBy.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.agg()</span></code></a> 性能提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35759">GH 35759</a>)</p></li>
<li><p>从大型字典创建 <a class="reference internal" href="../reference/api/pandas.Series.map.html#pandas.Series.map" title="pandas.Series.map"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.map()</span></code></a> 时，性能得到改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34717">GH 34717</a>)</p></li>
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">numba</span></code> 引擎的 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform" title="pandas.core.groupby.DataFrameGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.transform()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform" title="pandas.core.groupby.SeriesGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.transform()</span></code></a> 性能提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36240">GH 36240</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler" title="pandas.io.formats.style.Styler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Styler</span></code></a> 的 uuid 方法经过修改，可在网页上传输数据时压缩数据，同时保持较低的表格冲突概率 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36345">GH 36345</a>)</p></li>
<li><p>当 <code class="docutils literal notranslate"><span class="pre">float</span></code> <code class="docutils literal notranslate"><span class="pre">dtype</span></code> 列的时间单位非纳秒时，<a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 的性能有所提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20445">GH 20445</a>)</p></li>
<li><p>设置 <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalArray</span></code> 值时性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36310">GH 36310</a>)</p></li>
<li><p>内部索引方法 <code class="xref py py-meth docutils literal notranslate"><span class="pre">_shallow_copy()</span></code> 现在使新索引和原始索引共享缓存属性，从而避免再次创建它们（如果已在其中一个上创建）。这可以加速依赖于创建现有索引副本的操作 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36840">GH 36840</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">RollingGroupby.count()</span></code> 性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35625">GH 35625</a>)</p></li>
<li><p>固定窗口的 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.min.html#pandas.core.window.rolling.Rolling.min" title="pandas.core.window.rolling.Rolling.min"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.min()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.max.html#pandas.core.window.rolling.Rolling.max" title="pandas.core.window.rolling.Rolling.max"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.max()</span></code></a> 性能略有下降 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36567">GH 36567</a>)</p></li>
<li><p>在 Python 3.8+ 中使用 <code class="docutils literal notranslate"><span class="pre">protocol=5</span></code> 时，<a class="reference internal" href="../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle" title="pandas.DataFrame.to_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_pickle()</span></code></a> 的内存峰值使用量减少 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34244">GH 34244</a>)</p></li>
<li><p>当对象有许多索引标签时，<code class="docutils literal notranslate"><span class="pre">dir</span></code> 调用更快，例如 <code class="docutils literal notranslate"><span class="pre">dir(ser)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37450">GH 37450</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ExpandingGroupby</span></code> 性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37064">GH 37064</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code></a> 对于 <a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a> 的性能有所提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/8628">GH 8628</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 对于 <code class="docutils literal notranslate"><span class="pre">float</span></code> 数据类型的性能有所改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28303">GH 28303</a>)，底层哈希函数的更改可能导致基于浮点数的索引排序顺序在平局时发生变化（例如 <a class="reference internal" href="../reference/api/pandas.Index.value_counts.html#pandas.Index.value_counts" title="pandas.Index.value_counts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.value_counts()</span></code></a>）</p></li>
<li><p>对于元素数量超过 1e6 的输入，<code class="xref py py-meth docutils literal notranslate"><span class="pre">pd.isin()</span></code> 性能提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36611">GH 36611</a>)</p></li>
<li><p>使用类似列表的索引器时，<code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__setitem__()</span></code> 的性能得到改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37954">GH 37954</a>)</p></li>
<li><p>当指定 <code class="docutils literal notranslate"><span class="pre">chunksize</span></code> 时，<a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_json()</span></code></a> 现在避免将整个文件读入内存 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34548">GH 34548</a>)</p></li>
</ul>
</section>
<section id="bug-fixes">
<span id="whatsnew-120-bug-fixes"></span><h2>错误修复<a class="headerlink" href="v1.2.0.html#bug-fixes" title="Link to this heading">#</a></h2>
<section id="categorical">
<h3>类别型<a class="headerlink" href="v1.2.0.html#categorical" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.fillna()</span></code> 将始终返回一个副本，无论是否有 NA 值需要填充，都会验证传入的填充值，并禁止将 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 作为数字类别的填充值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36530">GH 36530</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.__setitem__()</span></code> 中存在的错误，当尝试设置元组值时，会错误地引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20439">GH 20439</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.CategoricalIndex.equals.html#pandas.CategoricalIndex.equals" title="pandas.CategoricalIndex.equals"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.equals()</span></code></a> 中的一个错误，它错误地将非类别条目转换为 <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37667">GH 37667</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.where()</span></code> 中的一个错误，它错误地将非类别条目设置为 <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> 而不是引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37977">GH 37977</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.to_numpy()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">np.array(categorical)</span></code> 在处理带时区信息的 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 类别时存在的错误，错误地丢弃了时区信息，而不是转换为对象数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38136">GH 38136</a>)</p></li>
</ul>
</section>
<section id="datetime-like">
<h3>日期时间类<a class="headerlink" href="v1.2.0.html#datetime-like" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first" title="pandas.DataFrame.combine_first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.combine_first()</span></code></a> 中存在的错误，当列在原始 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 中不存在时，会将其他 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 中的日期时间类列转换为整数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28481">GH 28481</a>)</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">DatetimeArray.date</span></code> 中存在的错误，当后台数组为只读时，会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33530">GH 33530</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NaT</span></code> 比较中的一个错误，在无效的不等式比较时未能引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35046">GH 35046</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.tseries.offsets.DateOffset.html#pandas.tseries.offsets.DateOffset" title="pandas.tseries.offsets.DateOffset"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code></a> 中的一个错误，当输入值超出正常范围（例如 months=12）时，从 pickle 文件重建的属性与原始对象不同 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34511">GH 34511</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.get_slice_bound()</span></code> 中存在一个错误，它不接受 <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> 对象，或者带有 tz-aware <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 的 naive <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35690">GH 35690</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.slice_locs()</span></code> 中存在一个错误，它不接受 <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> 对象 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34077">GH 34077</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.searchsorted()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaIndex.searchsorted()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.searchsorted()</span></code> 和 <a class="reference internal" href="../reference/api/pandas.Series.searchsorted.html#pandas.Series.searchsorted" title="pandas.Series.searchsorted"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.searchsorted()</span></code></a> 在处理 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code>、<code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> 或 <a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a> 数据类型时，<code class="docutils literal notranslate"><span class="pre">NaT</span></code> 值的放置与 NumPy 不一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36176">GH 36176</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36254">GH 36254</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray" title="pandas.arrays.DatetimeArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeArray</span></code></a>、<a class="reference internal" href="../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray" title="pandas.arrays.TimedeltaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaArray</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray" title="pandas.arrays.PeriodArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodArray</span></code></a> 方法 <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code> 中存在不一致性，它会将字符串数组转换为 datetime 标量，但不转换标量字符串 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36261">GH 36261</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeArray.take()</span></code> 中存在的错误，错误地允许 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> 具有不匹配的时区 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37356">GH 37356</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex.shift</span></code> 中的一个错误，当移动空索引时会错误地引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14811">GH 14811</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 在比较带时区和不带时区对象时，现在遵循标准库 <code class="docutils literal notranslate"><span class="pre">datetime</span></code> 的行为，对于 <code class="docutils literal notranslate"><span class="pre">!=</span></code>/<code class="docutils literal notranslate"><span class="pre">==</span></code> 返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>/<code class="docutils literal notranslate"><span class="pre">False</span></code>，对于不等式比较则引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28507">GH 28507</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.equals()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaIndex.equals()</span></code> 中存在的错误，错误地将 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 索引视为相等 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36744">GH 36744</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.to_json.html#pandas.Series.to_json" title="pandas.Series.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_json()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json" title="pandas.DataFrame.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_json()</span></code></a> 现在在 orient 结构为 <code class="docutils literal notranslate"><span class="pre">table</span></code> 时实现时区解析 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35973">GH 35973</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">astype()</span></code> 现在尝试直接将 <code class="docutils literal notranslate"><span class="pre">object</span></code> 转换为 <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code>，并从字符串推断时区 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35973">GH 35973</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaIndex.sum()</span></code> 和 <a class="reference internal" href="../reference/api/pandas.Series.sum.html#pandas.Series.sum" title="pandas.Series.sum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sum()</span></code></a> 在空索引或序列上返回 <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> 数据类型时，返回 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">Timedelta(0)</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31751">GH 31751</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeArray.shift()</span></code> 中存在的错误，错误地允许 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> 具有不匹配的时区 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37299">GH 37299</a>)</p></li>
<li><p>添加具有非零 <code class="docutils literal notranslate"><span class="pre">offset</span></code> 的 <a class="reference internal" href="../reference/api/pandas.tseries.offsets.BusinessDay.html#pandas.tseries.offsets.BusinessDay" title="pandas.tseries.offsets.BusinessDay"><code class="xref py py-class docutils literal notranslate"><span class="pre">BusinessDay</span></code></a> 到非标量其他对象时出现错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37457">GH 37457</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 在处理只读数组时错误地引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34857">GH 34857</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.isin.html#pandas.Series.isin" title="pandas.Series.isin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.isin()</span></code></a> 中存在缺陷，当使用 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtype 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.isin()</span></code> 时，会错误地将整数转换为日期时间 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36621">GH 36621</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.isin.html#pandas.Series.isin" title="pandas.Series.isin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.isin()</span></code></a> 中存在缺陷，当使用 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtype 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.isin()</span></code> 时，未能将时区感知和时区无关的日期时间始终视为不同 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35728">GH 35728</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.isin.html#pandas.Series.isin" title="pandas.Series.isin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.isin()</span></code></a> 中存在缺陷，当使用 <code class="docutils literal notranslate"><span class="pre">PeriodDtype</span></code> dtype 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.isin()</span></code> 时，未能将具有不同 <code class="docutils literal notranslate"><span class="pre">PeriodDtype</span></code> 的参数始终视为不同 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37528">GH 37528</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a> 构造函数中的缺陷，现在能正确处理 <code class="docutils literal notranslate"><span class="pre">value</span></code> 参数中的纳秒 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34621">GH 34621</a> 和 <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17053">GH 17053</a>)</p></li>
</ul>
</section>
<section id="timedelta">
<h3>Timedelta<a class="headerlink" href="v1.2.0.html#timedelta" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 的整除操作中存在缺陷，当使用 <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> dtypes 且分母中包含 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35529">GH 35529</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中解析 ISO 8601 持续时间时存在缺陷 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29773">GH 29773</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36204">GH 36204</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_timedelta.html#pandas.to_timedelta" title="pandas.to_timedelta"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_timedelta()</span></code></a> 中存在缺陷，当使用只读数组时错误地引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34857">GH 34857</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 中存在缺陷，当字符串输入精度高于纳秒时，会错误地截断到字符串输入的亚秒部分 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36738">GH 36738</a>)</p></li>
</ul>
</section>
<section id="timezones">
<h3>时区<a class="headerlink" href="v1.2.0.html#timezones" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.date_range.html#pandas.date_range" title="pandas.date_range"><code class="xref py py-func docutils literal notranslate"><span class="pre">date_range()</span></code></a> 中存在缺陷，对于 <code class="docutils literal notranslate"><span class="pre">ambiguous=False</span></code> 的有效输入会引发 <code class="docutils literal notranslate"><span class="pre">AmbiguousTimeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35297">GH 35297</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace" title="pandas.Timestamp.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.replace()</span></code></a> 中存在缺陷，导致丢失折叠信息 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37610">GH 37610</a>)</p></li>
</ul>
</section>
<section id="numeric">
<h3>数值<a class="headerlink" href="v1.2.0.html#numeric" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_numeric.html#pandas.to_numeric" title="pandas.to_numeric"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_numeric()</span></code></a> 中存在缺陷，导致浮点精度不正确 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31364">GH 31364</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.any.html#pandas.DataFrame.any" title="pandas.DataFrame.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.any()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> 和 <code class="docutils literal notranslate"><span class="pre">bool_only=True</span></code> 时，会忽略 <code class="docutils literal notranslate"><span class="pre">bool_only</span></code> 关键字 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32432">GH 32432</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.equals.html#pandas.Series.equals" title="pandas.Series.equals"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.equals()</span></code></a> 中存在缺陷，当 NumPy 数组与标量进行比较时会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35267">GH 35267</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 中存在缺陷，当两个 Series 各自拥有带有不同时区的 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 时，执行算术运算会导致这些索引被错误更改 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33671">GH 33671</a>)</p></li>
<li><p>在 <code class="xref py py-mod docutils literal notranslate"><span class="pre">pandas.testing</span></code> 模块函数中存在缺陷，当与 <code class="docutils literal notranslate"><span class="pre">check_exact=False</span></code> 用于复数数值类型时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28235">GH 28235</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__rmatmul__()</span></code> 错误处理中存在缺陷，报告了转置的形状 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21581">GH 21581</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 灵活算术方法中存在缺陷，当与 <code class="docutils literal notranslate"><span class="pre">list</span></code>、<code class="docutils literal notranslate"><span class="pre">tuple</span></code> 或 <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> 进行操作时，结果会有一个不正确的名称 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36760">GH 36760</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray" title="pandas.arrays.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a> 与 <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> 和 <code class="docutils literal notranslate"><span class="pre">np.timedelta64</span></code> 对象进行乘法运算时存在缺陷 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36870">GH 36870</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 与元组进行比较时存在缺陷，错误地将元组视为类数组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21517">GH 21517</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff" title="pandas.DataFrame.diff"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.diff()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> dtypes 包含 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 值时，未能正确填充 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 结果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32441">GH 32441</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 算术操作中存在缺陷，错误地接受了关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36843">GH 36843</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.arrays.IntervalArray.html#pandas.arrays.IntervalArray" title="pandas.arrays.IntervalArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalArray</span></code></a> 与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 进行比较时存在缺陷，未返回 Series (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36908">GH 36908</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 中存在缺陷，允许对类数组列表进行算术运算，结果未定义。行为已更改为引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36702">GH 36702</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.std.html#pandas.DataFrame.std" title="pandas.DataFrame.std"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.std()</span></code></a> 中存在缺陷，当使用 <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> dtype 和 <code class="docutils literal notranslate"><span class="pre">skipna=False</span></code> 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37392">GH 37392</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min" title="pandas.DataFrame.min"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.min()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max" title="pandas.DataFrame.max"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.max()</span></code></a> 中存在缺陷，当使用 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> dtype 和 <code class="docutils literal notranslate"><span class="pre">skipna=False</span></code> 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36907">GH 36907</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.idxmax.html#pandas.DataFrame.idxmax" title="pandas.DataFrame.idxmax"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.idxmax()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.idxmin.html#pandas.DataFrame.idxmin" title="pandas.DataFrame.idxmin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.idxmin()</span></code></a> 中存在缺陷，当使用混合 dtypes 时错误地引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38195">GH 38195</a>)</p></li>
</ul>
</section>
<section id="conversion">
<h3>转换<a class="headerlink" href="v1.2.0.html#conversion" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict" title="pandas.DataFrame.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_dict()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">orient='records'</span></code> 时，现在会为日期时间类型列返回 Python 原生日期时间对象 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21256">GH 21256</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> 中存在缺陷，当存在 <code class="docutils literal notranslate"><span class="pre">pd.NA</span></code> 值时，从 <code class="docutils literal notranslate"><span class="pre">string</span></code> 到 <code class="docutils literal notranslate"><span class="pre">float</span></code> 的转换会引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37626">GH 37626</a>)</p></li>
</ul>
</section>
<section id="strings">
<h3>字符串<a class="headerlink" href="v1.2.0.html#strings" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.to_string.html#pandas.Series.to_string" title="pandas.Series.to_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_string()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string" title="pandas.DataFrame.to_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">index=False</span></code> 时会添加一个前导空格 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24980">GH 24980</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.to_numeric.html#pandas.to_numeric" title="pandas.to_numeric"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_numeric()</span></code></a> 中存在缺陷，当尝试转换仅包含数字字符串和 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 的字符串 dtype Series 时会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37262">GH 37262</a>)</p></li>
</ul>
</section>
<section id="interval">
<h3>区间<a class="headerlink" href="v1.2.0.html#interval" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 中存在缺陷，导致 <a class="reference internal" href="../reference/api/pandas.Interval.html#pandas.Interval" title="pandas.Interval"><code class="xref py py-class docutils literal notranslate"><span class="pre">Interval</span></code></a> dtypes 会被转换为 object dtypes (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34871">GH 34871</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.take()</span></code> 中存在缺陷，当使用负索引和 <code class="docutils literal notranslate"><span class="pre">fill_value=None</span></code> 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37330">GH 37330</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.putmask()</span></code> 中存在缺陷，当使用日期时间类型 dtype 时，会错误地转换为 object dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37968">GH 37968</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalArray.astype()</span></code> 中存在缺陷，当使用 <a class="reference internal" href="../reference/api/pandas.CategoricalDtype.html#pandas.CategoricalDtype" title="pandas.CategoricalDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalDtype</span></code></a> 对象时，会错误地丢弃 dtype 信息 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37984">GH 37984</a>)</p></li>
</ul>
</section>
<section id="indexing">
<h3>索引<a class="headerlink" href="v1.2.0.html#indexing" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.get_loc()</span></code> 中存在缺陷，会错误地对非日期时间字符串引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 而非 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>，导致 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__getitem__()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__contains__()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.loc.__getitem__()</span></code> 中出现类似错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34240">GH 34240</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Index.sort_values.html#pandas.Index.sort_values" title="pandas.Index.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.sort_values()</span></code></a> 中存在缺陷，当传入空值时，该方法会尝试比较缺失值而不是将它们推到排序顺序的末尾，从而导致中断 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35584">GH 35584</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Index.get_indexer.html#pandas.Index.get_indexer" title="pandas.Index.get_indexer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.get_indexer()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Index.get_indexer_non_unique.html#pandas.Index.get_indexer_non_unique" title="pandas.Index.get_indexer_non_unique"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.get_indexer_non_unique()</span></code></a> 中存在缺陷，返回了 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 数组而不是 <code class="docutils literal notranslate"><span class="pre">intp</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36359">GH 36359</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index" title="pandas.DataFrame.sort_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sort_index()</span></code></a> 中存在缺陷，当参数 ascending 作为列表传递给单层索引时，会给出错误结果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32334">GH 32334</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index" title="pandas.DataFrame.reset_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.reset_index()</span></code></a> 中存在缺陷，当输入为具有 Categorical dtype 层中存在缺失值的 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 时，会错误地引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24206">GH 24206</a>)</p></li>
<li><p>在对日期时间类型值使用布尔掩码进行索引时存在缺陷，有时会返回视图而非副本 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36210">GH 36210</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__getitem__()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc.__getitem__()</span></code> 中存在缺陷，当列是 <a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> 且索引器为数字时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26490">GH 26490</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.loc.__getitem__()</span></code> 中存在缺陷，当使用非唯一 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 和空列表索引器时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13691">GH 13691</a>)</p></li>
<li><p>在对具有名为 <code class="docutils literal notranslate"><span class="pre">"0"</span></code> 的层的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 进行索引时存在缺陷 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37194">GH 37194</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__getitem__()</span></code> 中存在缺陷，当使用无符号整数数组作为索引器时，会给出不正确的结果或导致段错误，而不是引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37218">GH 37218</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Index.where.html#pandas.Index.where" title="pandas.Index.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.where()</span></code></a> 中存在缺陷，会错误地将数值转换为字符串 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37591">GH 37591</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中存在缺陷，当索引器是带有负步长的切片时，会返回空结果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38071">GH 38071</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.loc.html#pandas.Series.loc" title="pandas.Series.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.loc()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中存在缺陷，当索引为 <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype 且给定数字标签在索引中时会引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26491">GH 26491</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">loc</span></code> 应用于 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 的单个层时，返回了请求的键以及缺失值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27104">GH 27104</a>)</p></li>
<li><p>在对具有 <a class="reference internal" href="../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex" title="pandas.CategoricalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code></a> 的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 使用包含 NA 值的类列表索引器进行索引时存在缺陷 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37722">GH 37722</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc.__setitem__()</span></code> 中存在缺陷，当扩展一个空的具有混合 dtypes 的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37932">GH 37932</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs" title="pandas.DataFrame.xs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.xs()</span></code></a> 中存在缺陷，忽略了列的 <code class="docutils literal notranslate"><span class="pre">droplevel=False</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19056">GH 19056</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex" title="pandas.DataFrame.reindex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.reindex()</span></code></a> 中存在缺陷，当空 DataFrame 的 <code class="docutils literal notranslate"><span class="pre">tolerance</span></code> 不为 <code class="docutils literal notranslate"><span class="pre">None</span></code> 或 <code class="docutils literal notranslate"><span class="pre">method="nearest"</span></code> 时，会错误地引发 <code class="docutils literal notranslate"><span class="pre">IndexingError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27315">GH 27315</a>)</p></li>
<li><p>在对具有 <a class="reference internal" href="../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex" title="pandas.CategoricalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code></a> 的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 使用类列表索引器进行索引时存在缺陷，索引器中包含索引类别中存在但索引本身中不存在的元素时，未能引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37901">GH 37901</a>)</p></li>
<li><p>在将布尔标签插入到具有数字 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 列的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 时存在缺陷，会错误地转换为整数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36319">GH 36319</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc" title="pandas.DataFrame.iloc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.iloc()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.iloc.html#pandas.Series.iloc" title="pandas.Series.iloc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.iloc()</span></code></a> 中存在缺陷，在 <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code> 中对齐对象时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/22046">GH 22046</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop" title="pandas.MultiIndex.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.drop()</span></code></a> 中存在缺陷，如果标签部分存在则不引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37820">GH 37820</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中存在缺陷，当给定缺失组合且剩余层为 <code class="docutils literal notranslate"><span class="pre">slice(None)</span></code> 时，未引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19556">GH 19556</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中存在缺陷，当给定非整数切片以从 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 中选择值时，会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/25165">GH 25165</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24263">GH 24263</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.at.html#pandas.Series.at" title="pandas.Series.at"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.at()</span></code></a> 中存在缺陷，当索引是单层 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 时，会返回包含一个元素的 Series 而非标量 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38053">GH 38053</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中存在缺陷，当索引器与要筛选的 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 顺序不同时，会以错误顺序返回和分配元素 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31330">GH 31330</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34603">GH 34603</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__getitem__()</span></code> 中存在缺陷，当列是仅有一层的 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 时会引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29749">GH 29749</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__getitem__()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__getitem__()</span></code> 中存在缺陷，当对 <a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> 使用缺失键时，会引发没有缺失键的空白 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27365">GH 27365</a>)</p></li>
<li><p>在对具有 <a class="reference internal" href="../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex" title="pandas.CategoricalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code></a> 的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 设置新标签时存在缺陷，当新标签不在索引的类别中时会错误地引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38098">GH 38098</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.loc.html#pandas.Series.loc" title="pandas.Series.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.loc()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.iloc.html#pandas.Series.iloc" title="pandas.Series.iloc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.iloc()</span></code></a> 中存在缺陷，当将等长的类列表 <code class="docutils literal notranslate"><span class="pre">np.array</span></code>、<code class="docutils literal notranslate"><span class="pre">list</span></code> 或 <code class="docutils literal notranslate"><span class="pre">tuple</span></code> 插入到 <code class="docutils literal notranslate"><span class="pre">object</span></code> Series 中时会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37748">GH 37748</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37486">GH 37486</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.loc.html#pandas.Series.loc" title="pandas.Series.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.loc()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.iloc.html#pandas.Series.iloc" title="pandas.Series.iloc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.iloc()</span></code></a> 中存在缺陷，会用类列表 <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> 的值设置 <code class="docutils literal notranslate"><span class="pre">object</span></code> Series 的所有值，而不是插入它 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38271">GH 38271</a>)</p></li>
</ul>
</section>
<section id="missing">
<h3>缺失值<a class="headerlink" href="v1.2.0.html#missing" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform" title="pandas.core.groupby.SeriesGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.transform()</span></code></a> 中的缺陷，现在能正确处理 <code class="docutils literal notranslate"><span class="pre">dropna=False</span></code> 的缺失值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35014">GH 35014</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.nunique.html#pandas.Series.nunique" title="pandas.Series.nunique"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.nunique()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">dropna=True</span></code> 且同时存在 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 和 <code class="docutils literal notranslate"><span class="pre">None</span></code> 缺失值时，会返回不正确的结果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37566">GH 37566</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate" title="pandas.Series.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.interpolate()</span></code></a> 中存在缺陷，当使用 <code class="docutils literal notranslate"><span class="pre">pad</span></code> 和 <code class="docutils literal notranslate"><span class="pre">backfill</span></code> 方法时，kwarg <code class="docutils literal notranslate"><span class="pre">limit_area</span></code> 和 <code class="docutils literal notranslate"><span class="pre">limit_direction</span></code> 没有效果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31048">GH 31048</a>)</p></li>
</ul>
</section>
<section id="multiindex">
<h3>MultiIndex<a class="headerlink" href="v1.2.0.html#multiindex" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs" title="pandas.DataFrame.xs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.xs()</span></code></a> 中存在缺陷，当与 <a class="reference internal" href="../reference/api/pandas.IndexSlice.html#pandas.IndexSlice" title="pandas.IndexSlice"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexSlice</span></code></a> 一起使用时，会引发带消息 <code class="docutils literal notranslate"><span class="pre">"Expected</span> <span class="pre">label</span> <span class="pre">or</span> <span class="pre">tuple</span> <span class="pre">of</span> <span class="pre">labels"</span></code> 的 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35301">GH 35301</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index" title="pandas.DataFrame.reset_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.reset_index()</span></code></a> 中存在缺陷，当索引中存在 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 值时，会引发带消息 <code class="docutils literal notranslate"><span class="pre">"cannot</span> <span class="pre">convert</span> <span class="pre">float</span> <span class="pre">NaN</span> <span class="pre">to</span> <span class="pre">integer"</span></code> 的 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36541">GH 36541</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first" title="pandas.DataFrame.combine_first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.combine_first()</span></code></a> 中存在缺陷，当与包含字符串和 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> 值的 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 一起使用时会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36562">GH 36562</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop" title="pandas.MultiIndex.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.drop()</span></code></a> 中存在缺陷，当给定不存在的键作为输入时，会丢弃 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> 值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18853">GH 18853</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.MultiIndex.drop.html#pandas.MultiIndex.drop" title="pandas.MultiIndex.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.drop()</span></code></a> 中存在缺陷，当索引有重复项且未排序时，会丢弃比预期更多的值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33494">GH 33494</a>)</p></li>
</ul>
</section>
<section id="i-o">
<h3>I/O<a class="headerlink" href="v1.2.0.html#i-o" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.read_sas.html#pandas.read_sas" title="pandas.read_sas"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code></a> 在失败时不再泄露资源 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35566">GH 35566</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="pandas.DataFrame.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv" title="pandas.Series.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_csv()</span></code></a> 中存在缺陷，当与包含 <code class="docutils literal notranslate"><span class="pre">b</span></code> 的 <code class="docutils literal notranslate"><span class="pre">mode</span></code> 结合文件名调用时，会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35058">GH 35058</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">float_precision='round_trip'</span></code> 时，未处理 <code class="docutils literal notranslate"><span class="pre">decimal</span></code> 和 <code class="docutils literal notranslate"><span class="pre">thousands</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35365">GH 35365</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_pickle()</span></code> 和 <a class="reference internal" href="../reference/api/pandas.read_pickle.html#pandas.read_pickle" title="pandas.read_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_pickle()</span></code></a> 会关闭用户提供的文件对象 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35679">GH 35679</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_csv()</span></code> 总是将 <code class="docutils literal notranslate"><span class="pre">'gzip'</span></code> 的压缩参数传递给 <code class="docutils literal notranslate"><span class="pre">gzip.GzipFile</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28103">GH 28103</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_csv()</span></code> 不支持对没有文件名的二进制文件对象进行 zip 压缩 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35058">GH 35058</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_csv()</span></code> 和 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 未遵循内部转换为文件类对象的 path-like 对象的 <code class="docutils literal notranslate"><span class="pre">compression</span></code> 和 <code class="docutils literal notranslate"><span class="pre">encoding</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35677">GH 35677</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26124">GH 26124</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32392">GH 32392</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle" title="pandas.DataFrame.to_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_pickle()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle" title="pandas.Series.to_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_pickle()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_pickle.html#pandas.read_pickle" title="pandas.read_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_pickle()</span></code></a> 不支持对文件对象进行压缩 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26237">GH 26237</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29054">GH 29054</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29570">GH 29570</a>)</p></li>
<li><p>在 <code class="xref py py-func docutils literal notranslate"><span class="pre">LongTableBuilder.middle_separator()</span></code> 中存在缺陷，导致 LaTeX 文档的表格列表中复制 LaTeX longtable 条目 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34360">GH 34360</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">engine='python'</span></code> 时，如果第一行中存在多个项目且第一个元素以 BOM 开头，则会截断数据 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36343">GH 36343</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.read_gbq.html#pandas.read_gbq" title="pandas.read_gbq"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_gbq()</span></code></a> 中移除了 <code class="docutils literal notranslate"><span class="pre">private_key</span></code> 和 <code class="docutils literal notranslate"><span class="pre">verbose</span></code>，因为它们在 <code class="docutils literal notranslate"><span class="pre">pandas-gbq</span></code> 中不再受支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34654">GH 34654</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30200">GH 30200</a>)</p></li>
<li><p>将 pytables 的最低版本提升到 3.5.1，以避免 <a class="reference internal" href="../reference/api/pandas.read_hdf.html#pandas.read_hdf" title="pandas.read_hdf"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_hdf()</span></code></a> 中出现 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24839">GH 24839</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_table()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">delim_whitespace=True</span></code> 且 <code class="docutils literal notranslate"><span class="pre">sep=default</span></code> 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36583">GH 36583</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json" title="pandas.DataFrame.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.to_json.html#pandas.Series.to_json" title="pandas.Series.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_json()</span></code></a> 中存在缺陷，当与 <code class="docutils literal notranslate"><span class="pre">lines=True</span></code> 和 <code class="docutils literal notranslate"><span class="pre">orient='records'</span></code> 一起使用时，记录的最后一行未附加“换行符” (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36888">GH 36888</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_parquet.html#pandas.read_parquet" title="pandas.read_parquet"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_parquet()</span></code></a> 中存在缺陷，当使用固定偏移时区时，时区的字符串表示未被识别 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35997">GH 35997</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36004">GH 36004</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html" title="pandas.DataFrame.to_html"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string" title="pandas.DataFrame.to_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">float_format</span></code> 也被指定时，会忽略 <code class="docutils literal notranslate"><span class="pre">na_rep</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9046">GH 9046</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13828">GH 13828</a>)</p></li>
<li><p>在复数输出渲染中存在缺陷，显示了过多尾随零 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36799">GH 36799</a>)</p></li>
<li><p>在 <code class="xref py py-class docutils literal notranslate"><span class="pre">HDFStore</span></code> 中存在缺陷，当使用固定 HDF5 存储导出具有 <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtypes 的空 DataFrame 时，会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20594">GH 20594</a>)</p></li>
<li><p>在 <code class="xref py py-class docutils literal notranslate"><span class="pre">HDFStore</span></code> 中存在缺陷，当使用固定 HDF5 存储导出具有 <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtypes 的 Series 时，会丢弃时区信息 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20594">GH 20594</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 会关闭用户提供的二进制文件句柄，当 <code class="docutils literal notranslate"><span class="pre">engine="c"</span></code> 且请求了 <code class="docutils literal notranslate"><span class="pre">encoding</span></code> 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36980">GH 36980</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_hdf.html#pandas.DataFrame.to_hdf" title="pandas.DataFrame.to_hdf"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_hdf()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">dropna=True</span></code> 时，未丢弃缺失行 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35719">GH 35719</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_html.html#pandas.read_html" title="pandas.read_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code></a> 中存在缺陷，当为 <code class="docutils literal notranslate"><span class="pre">io</span></code> 参数提供 <code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code> 参数时会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37705">GH 37705</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel" title="pandas.DataFrame.to_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_excel()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.to_excel.html#pandas.Series.to_excel" title="pandas.Series.to_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_excel()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.to_markdown.html#pandas.DataFrame.to_markdown" title="pandas.DataFrame.to_markdown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_markdown()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.to_markdown.html#pandas.Series.to_markdown" title="pandas.Series.to_markdown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_markdown()</span></code></a> 现在支持写入 fsspec URL，例如 S3 和 Google Cloud Storage (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33987">GH 33987</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_fwf.html#pandas.read_fwf" title="pandas.read_fwf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_fwf()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">skip_blank_lines=True</span></code> 时，未能跳过空行 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37758">GH 37758</a>)</p></li>
<li><p>使用 <a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 且 <code class="docutils literal notranslate"><span class="pre">dtype=False</span></code> 解析缺失值时，解析为 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> 而非 <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28501">GH 28501</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_fwf.html#pandas.read_fwf" title="pandas.read_fwf"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_fwf()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">compression=None</span></code> 时推断压缩，这与其他 <code class="docutils literal notranslate"><span class="pre">read_*</span></code> 函数不一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37909">GH 37909</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html" title="pandas.DataFrame.to_html"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">ExtensionDtype</span></code> 列中忽略了 <code class="docutils literal notranslate"><span class="pre">formatters</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36525">GH 36525</a>)</p></li>
<li><p>将 xarray 的最低版本提升到 0.12.3，以避免引用已移除的 <code class="docutils literal notranslate"><span class="pre">Panel</span></code> 类 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27101">GH 27101</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37983">GH 37983</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="pandas.DataFrame.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code></a> 会重新打开同时也实现了 <code class="docutils literal notranslate"><span class="pre">os.PathLike</span></code> 的文件类句柄 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38125">GH 38125</a>)</p></li>
<li><p>在切片 <code class="docutils literal notranslate"><span class="pre">pyarrow.Table</span></code> 与缺失值转换为 DataFrame 时存在缺陷 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38525">GH 38525</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_sql_table.html#pandas.read_sql_table" title="pandas.read_sql_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql_table()</span></code></a> 中存在缺陷，当列名包含百分号时会引发 <code class="docutils literal notranslate"><span class="pre">sqlalchemy.exc.OperationalError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37517">GH 37517</a>)</p></li>
</ul>
</section>
<section id="period">
<h3>Period<a class="headerlink" href="v1.2.0.html#period" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 中存在缺陷，导致 <a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a> dtypes 会被转换为 object dtypes (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34871">GH 34871</a>)</p></li>
</ul>
</section>
<section id="plotting">
<h3>绘图<a class="headerlink" href="v1.2.0.html#plotting" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">subplots=True</span></code> 时，即使 x 轴不是不规则时间序列，也会旋转 xticklabels (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29460">GH 29460</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> 中存在缺陷，<code class="docutils literal notranslate"><span class="pre">style</span></code> 关键字中的标记字母有时会导致 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21003">GH 21003</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.bar.html#pandas.DataFrame.plot.bar" title="pandas.DataFrame.plot.bar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot.bar()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.plot.bar.html#pandas.Series.plot.bar" title="pandas.Series.plot.bar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.plot.bar()</span></code></a> 中存在缺陷，刻度位置是按值顺序分配的，而不是使用实际值进行数字排序或对字符串进行智能排序 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26186">GH 26186</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11465">GH 11465</a>)。此修复已在 pandas 1.2.1 中还原，请参见 <a class="reference internal" href="v1.2.1.html"><span class="doc">1.2.1 新特性 (2021年1月20日)</span></a></p></li>
<li><p>双轴会丢失其刻度标签，而这只应发生在“外部”共享轴的除最后一行或列外的所有轴上 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33819">GH 33819</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.plot.html#pandas.Series.plot" title="pandas.Series.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.plot()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> 中存在缺陷，当 Series 或 DataFrame 由具有固定频率的 <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> 索引且 x 轴下限大于上限时，会引发 <a class="reference external" href="https://docs.pythonlang.cn/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37454">GH 37454</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.boxplot.html#pandas.core.groupby.DataFrameGroupBy.boxplot" title="pandas.core.groupby.DataFrameGroupBy.boxplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.boxplot()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">subplots=False</span></code> 时会引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16748">GH 16748</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.plot.html#pandas.Series.plot" title="pandas.Series.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.plot()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> 中存在缺陷，当未传递 <code class="docutils literal notranslate"><span class="pre">sharey</span></code> 参数时，会覆盖 matplotlib 的共享 y 轴行为 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37942">GH 37942</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> 中存在缺陷，当使用 <code class="docutils literal notranslate"><span class="pre">ExtensionDtype</span></code> 列时会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32073">GH 32073</a>)</p></li>
</ul>
</section>
<section id="styler">
<h3>Styler<a class="headerlink" href="v1.2.0.html#styler" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Styler.render()</span></code> 中存在缺陷，由于 <code class="docutils literal notranslate"><span class="pre">rowspan</span></code> 属性的格式错误导致 HTML 生成不正确，现在它与 w3 语法匹配 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38234">GH 38234</a>)</p></li>
</ul>
</section>
<section id="groupby-resample-rolling">
<h3>分组/重采样/滚动<a class="headerlink" href="v1.2.0.html#groupby-resample-rolling" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.count.html#pandas.core.groupby.DataFrameGroupBy.count" title="pandas.core.groupby.DataFrameGroupBy.count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.count()</span></code></a> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.sum()</span></code> 中存在缺陷，当对多个 <code class="docutils literal notranslate"><span class="pre">Categoricals</span></code> 进行分组时，会为缺失类别返回 <code class="docutils literal notranslate"><span class="pre">NaN</span></code>。现在返回 <code class="docutils literal notranslate"><span class="pre">0</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35028">GH 35028</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply" title="pandas.core.groupby.DataFrameGroupBy.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.apply()</span></code></a> 中存在缺陷，如果分组轴有重复条目，有时会引发错误的 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16646">GH 16646</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code></a> 中存在缺陷，当从 <code class="docutils literal notranslate"><span class="pre">"D"</span></code> 重采样到 <code class="docutils literal notranslate"><span class="pre">"24H"</span></code> 且跨越夏令时 (DST) 过渡时，会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35219">GH 35219</a>)</p></li>
<li><p>在结合方法 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 与 <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate" title="pandas.DataFrame.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.interpolate()</span></code></a> 时存在缺陷，引发了 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35325">GH 35325</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply" title="pandas.core.groupby.DataFrameGroupBy.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.apply()</span></code></a> 中存在缺陷，如果另一个 groupby 方法在 <code class="docutils literal notranslate"><span class="pre">.apply</span></code> 之前被调用，非干扰分组列会从输出列中被丢弃 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34656">GH 34656</a>)</p></li>
<li><p>在 <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 上子集列 (例如 <code class="docutils literal notranslate"><span class="pre">df.groupby('a')[['b']])</span></code>) 时存在缺陷，会将其属性 <code class="docutils literal notranslate"><span class="pre">axis</span></code>、<code class="docutils literal notranslate"><span class="pre">dropna</span></code>、<code class="docutils literal notranslate"><span class="pre">group_keys</span></code>、<code class="docutils literal notranslate"><span class="pre">level</span></code>、<code class="docutils literal notranslate"><span class="pre">mutated</span></code>、<code class="docutils literal notranslate"><span class="pre">sort</span></code> 和 <code class="docutils literal notranslate"><span class="pre">squeeze</span></code> 重置为默认值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9959">GH 9959</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.tshift()</span></code> 中存在缺陷，当无法为组索引推断频率时，未能引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35937">GH 35937</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 中存在缺陷，对于 <code class="docutils literal notranslate"><span class="pre">any</span></code>、<code class="docutils literal notranslate"><span class="pre">all</span></code>、<code class="docutils literal notranslate"><span class="pre">bfill</span></code>、<code class="docutils literal notranslate"><span class="pre">ffill</span></code>、<code class="docutils literal notranslate"><span class="pre">shift</span></code> 操作，并非总是能维护列索引名称 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29764">GH 29764</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply" title="pandas.core.groupby.DataFrameGroupBy.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.apply()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">dropna=False</span></code> 时，会引发 <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> 组的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35889">GH 35889</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.sum.html#pandas.core.window.rolling.Rolling.sum" title="pandas.core.window.rolling.Rolling.sum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.sum()</span></code></a> 中存在缺陷，当 dtypes 混合了浮点数和整数且 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> 时，会返回错误的值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20649">GH 20649</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35596">GH 35596</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.count.html#pandas.core.window.rolling.Rolling.count" title="pandas.core.window.rolling.Rolling.count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.count()</span></code></a> 中存在缺陷，当使用 <a class="reference internal" href="../reference/api/pandas.api.indexers.FixedForwardWindowIndexer.html#pandas.api.indexers.FixedForwardWindowIndexer" title="pandas.api.indexers.FixedForwardWindowIndexer"><code class="xref py py-class docutils literal notranslate"><span class="pre">FixedForwardWindowIndexer</span></code></a> 作为窗口、<code class="docutils literal notranslate"><span class="pre">min_periods=0</span></code> 且窗口中只有缺失值时，会返回 <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35579">GH 35579</a>)</p></li>
<li><p>在 <code class="xref py py-class docutils literal notranslate"><span class="pre">Rolling</span></code> 中存在缺陷，当使用 <code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> 时会产生不正确的窗口大小 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34225">GH 34225</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.ffill.html#pandas.core.groupby.DataFrameGroupBy.ffill" title="pandas.core.groupby.DataFrameGroupBy.ffill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.ffill()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.bfill.html#pandas.core.groupby.DataFrameGroupBy.bfill" title="pandas.core.groupby.DataFrameGroupBy.bfill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.bfill()</span></code></a> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">dropna=True</span></code> 时，<code class="docutils literal notranslate"><span class="pre">NaN</span></code> 组会返回填充值而不是 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34725">GH 34725</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">RollingGroupby.count()</span></code> 中存在缺陷，当指定 <code class="docutils literal notranslate"><span class="pre">closed</span></code> 参数时会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35869">GH 35869</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling" title="pandas.core.groupby.DataFrameGroupBy.rolling"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.rolling()</span></code></a> 中存在缺陷，当使用部分居中窗口时会返回错误的值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36040">GH 36040</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.rolling.html#pandas.core.groupby.DataFrameGroupBy.rolling" title="pandas.core.groupby.DataFrameGroupBy.rolling"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.rolling()</span></code></a> 中存在缺陷，当使用包含 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> 的时区感知窗口时会返回错误的值。现在会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>，因为窗口不再是单调的 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34617">GH 34617</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.__iter__()</span></code> 中存在缺陷，当 <code class="docutils literal notranslate"><span class="pre">min_periods</span></code> 大于 <code class="docutils literal notranslate"><span class="pre">window</span></code> 时，未能引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37156">GH 37156</a>)</p></li>
<li><p>使用 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var" title="pandas.core.window.rolling.Rolling.var"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.var()</span></code></a> 而非 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std" title="pandas.core.window.rolling.Rolling.std"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.std()</span></code></a> 可避免 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.corr.html#pandas.core.window.rolling.Rolling.corr" title="pandas.core.window.rolling.Rolling.corr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.corr()</span></code></a> 在 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.var.html#pandas.core.window.rolling.Rolling.var" title="pandas.core.window.rolling.Rolling.var"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.var()</span></code></a> 仍在浮点精度范围内而 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.std.html#pandas.core.window.rolling.Rolling.std" title="pandas.core.window.rolling.Rolling.std"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.std()</span></code></a> 不在时出现的数值问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31286">GH 31286</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile" title="pandas.core.groupby.DataFrameGroupBy.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.quantile()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.resample.Resampler.quantile.html#pandas.core.resample.Resampler.quantile" title="pandas.core.resample.Resampler.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Resampler.quantile()</span></code></a> 中存在缺陷，当值为 <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> 类型时会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29485">GH 29485</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.median.html#pandas.core.window.rolling.Rolling.median" title="pandas.core.window.rolling.Rolling.median"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.median()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile" title="pandas.core.window.rolling.Rolling.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.quantile()</span></code></a> 中存在缺陷，当 <a class="reference internal" href="../reference/api/pandas.api.indexers.BaseIndexer.html#pandas.api.indexers.BaseIndexer" title="pandas.api.indexers.BaseIndexer"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseIndexer</span></code></a> 子类的窗口的起始点或结束点是非单调的时，会返回错误的值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37153">GH 37153</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 中存在缺陷，当对单列进行分组时，会从结果中丢弃 <code class="docutils literal notranslate"><span class="pre">nan</span></code> 组，即使 <code class="docutils literal notranslate"><span class="pre">dropna=False</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35646">GH 35646</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35542">GH 35542</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.head.html#pandas.core.groupby.DataFrameGroupBy.head" title="pandas.core.groupby.DataFrameGroupBy.head"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.head()</span></code></a>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.tail()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.head()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.tail()</span></code> 中存在缺陷，当与 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> 一起使用时会引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9772">GH 9772</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform" title="pandas.core.groupby.DataFrameGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.transform()</span></code></a> 中存在缺陷，当与 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> 和转换核（例如“shift”）一起使用时会引发异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36308">GH 36308</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.resample.html#pandas.core.groupby.DataFrameGroupBy.resample" title="pandas.core.groupby.DataFrameGroupBy.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.resample()</span></code></a> 中存在缺陷，使用 <code class="docutils literal notranslate"><span class="pre">.agg</span></code> 与 sum 产生的结果与直接调用 <code class="docutils literal notranslate"><span class="pre">.sum</span></code> 不同 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33548">GH 33548</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply" title="pandas.core.groupby.DataFrameGroupBy.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.apply()</span></code></a> 中存在缺陷，当返回与原始帧相同的轴时，会在 <code class="docutils literal notranslate"><span class="pre">nan</span></code> 组上丢弃值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38227">GH 38227</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile" title="pandas.core.groupby.DataFrameGroupBy.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.quantile()</span></code></a> 中存在一个错误，即在按列分组时无法处理类似数组的 <code class="docutils literal notranslate"><span class="pre">q</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33795">GH 33795</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.rank()</span></code> 中存在一个错误，即当使用 <code class="docutils literal notranslate"><span class="pre">datetime64tz</span></code> 或 period dtype 时，结果错误地转换为这些 dtype，而不是返回 <code class="docutils literal notranslate"><span class="pre">float64</span></code> dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38187">GH 38187</a>)</p></li>
</ul>
</section>
<section id="reshaping">
<h3>重塑<a class="headerlink" href="v1.2.0.html#reshaping" title="链接到此标题">#</a></h3>
<ul class="simple">
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.crosstab()</span></code> 中存在一个错误，即在输入具有重复行名、重复列名或行标签和列标签之间存在重复名称时返回不正确的结果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/22529">GH 22529</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="pandas.DataFrame.pivot_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot_table()</span></code></a> 中存在一个错误，即当以 <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> 进行透视时，<code class="docutils literal notranslate"><span class="pre">aggfunc='count'</span></code> 或 <code class="docutils literal notranslate"><span class="pre">aggfunc='sum'</span></code> 对于缺失类别返回 <code class="docutils literal notranslate"><span class="pre">NaN</span></code>。现在返回 <code class="docutils literal notranslate"><span class="pre">0</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31422">GH 31422</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数中存在一个错误，即在某些情况下未保留输入索引名称 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13475">GH 13475</a>)</p></li>
<li><p>在函数 <a class="reference internal" href="../reference/api/pandas.crosstab.html#pandas.crosstab" title="pandas.crosstab"><code class="xref py py-meth docutils literal notranslate"><span class="pre">crosstab()</span></code></a> 中存在一个错误，即在使用多列并设置 <code class="docutils literal notranslate"><span class="pre">margins=True</span></code> 和 <code class="docutils literal notranslate"><span class="pre">normalize=True</span></code> 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35144">GH 35144</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack" title="pandas.DataFrame.stack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.stack()</span></code></a> 中存在一个错误，即空的 DataFrame.stack 会引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36113">GH 36113</a>)。现在返回一个带空 MultiIndex 的空 Series。</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.unstack.html#pandas.Series.unstack" title="pandas.Series.unstack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.unstack()</span></code></a> 中存在一个错误。现在，具有单级索引的 Series 在尝试 unstack 时会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36113">GH 36113</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg" title="pandas.DataFrame.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.agg()</span></code></a> 中存在一个错误，即当 <code class="docutils literal notranslate"><span class="pre">DataFrame.columns==['Name']</span></code> 时，使用 <code class="docutils literal notranslate"><span class="pre">func={'name':&lt;FUNC&gt;}</span></code> 会错误地引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36212">GH 36212</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Series.transform.html#pandas.Series.transform" title="pandas.Series.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.transform()</span></code></a> 中存在一个错误，即当参数 <code class="docutils literal notranslate"><span class="pre">func</span></code> 为字典时，会给出不正确的结果或引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35811">GH 35811</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot" title="pandas.DataFrame.pivot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot()</span></code></a> 中存在一个错误，即当行和列都具有多级索引时，未保留列的 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 级别名称 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36360">GH 36360</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot" title="pandas.DataFrame.pivot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot()</span></code></a> 中存在一个错误，即当传递 <code class="docutils literal notranslate"><span class="pre">columns</span></code> 但未传递 <code class="docutils literal notranslate"><span class="pre">values</span></code> 时，会修改 <code class="docutils literal notranslate"><span class="pre">index</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37635">GH 37635</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join" title="pandas.DataFrame.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.join()</span></code></a> 中存在一个错误，即返回的 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 的级别顺序不确定 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36910">GH 36910</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first" title="pandas.DataFrame.combine_first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.combine_first()</span></code></a> 中存在一个错误，即当 dtype 为 <code class="docutils literal notranslate"><span class="pre">string</span></code> 且 <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> 的一个级别仅包含 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 时，会导致错误的对齐 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37591">GH 37591</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code></a> 在合并 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 与空 DataFrame 时的回归问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36895">GH 36895</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply" title="pandas.DataFrame.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.apply()</span></code></a> 中存在一个错误，即当 <code class="docutils literal notranslate"><span class="pre">func</span></code> 返回类型为 <code class="docutils literal notranslate"><span class="pre">dict</span></code> 时，未设置返回值的索引 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37544">GH 37544</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge" title="pandas.DataFrame.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.merge()</span></code></a> 中存在一个错误，即当 <code class="docutils literal notranslate"><span class="pre">how=right</span></code> 和 <code class="docutils literal notranslate"><span class="pre">how=left</span></code> 时，返回结果的顺序不一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35382">GH 35382</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.merge_ordered.html#pandas.merge_ordered" title="pandas.merge_ordered"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge_ordered()</span></code></a> 中存在一个错误，即无法处理列表式的 <code class="docutils literal notranslate"><span class="pre">left_by</span></code> 或 <code class="docutils literal notranslate"><span class="pre">right_by</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35269">GH 35269</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.merge_ordered.html#pandas.merge_ordered" title="pandas.merge_ordered"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge_ordered()</span></code></a> 中存在一个错误，即当 <code class="docutils literal notranslate"><span class="pre">left_by</span></code> 或 <code class="docutils literal notranslate"><span class="pre">right_by</span></code> 的长度等于 <code class="docutils literal notranslate"><span class="pre">left</span></code> 或 <code class="docutils literal notranslate"><span class="pre">right</span></code> 的行数时，返回错误的连接结果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38166">GH 38166</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.merge_ordered.html#pandas.merge_ordered" title="pandas.merge_ordered"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge_ordered()</span></code></a> 中存在一个错误，即当 <code class="docutils literal notranslate"><span class="pre">left_by</span></code> 或 <code class="docutils literal notranslate"><span class="pre">right_by</span></code> 中的元素不存在于 <code class="docutils literal notranslate"><span class="pre">left</span></code> 列或 <code class="docutils literal notranslate"><span class="pre">right</span></code> 列中时，未引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38167">GH 38167</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates" title="pandas.DataFrame.drop_duplicates"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.drop_duplicates()</span></code></a> 中存在一个错误，即未验证 <code class="docutils literal notranslate"><span class="pre">ignore_index</span></code> 关键字的布尔 dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38274">GH 38274</a>)</p></li>
</ul>
</section>
<section id="extensionarray">
<h3>扩展数组<a class="headerlink" href="v1.2.0.html#extensionarray" title="链接到此标题">#</a></h3>
<ul class="simple">
<li><p>修复了一个错误，即通过字典实例化将 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 列设置为标量扩展类型时，被认为是对象类型而不是扩展类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35965">GH 35965</a>)</p></li>
<li><p>修复了一个错误，即 <code class="docutils literal notranslate"><span class="pre">astype()</span></code> 在 dtype 相同且 <code class="docutils literal notranslate"><span class="pre">copy=False</span></code> 时会返回新对象 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28488">GH 28488</a>)</p></li>
<li><p>修复了将具有多个输出的 NumPy ufunc 应用于 <a class="reference internal" href="../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray" title="pandas.arrays.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a> 时返回 <code class="docutils literal notranslate"><span class="pre">None</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36913">GH 36913</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray" title="pandas.arrays.PeriodArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodArray</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">__init__</span></code> 签名与 <a class="reference internal" href="../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray" title="pandas.arrays.DatetimeArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeArray</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray" title="pandas.arrays.TimedeltaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaArray</span></code></a> 的不一致性 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37289">GH 37289</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.arrays.BooleanArray.html#pandas.arrays.BooleanArray" title="pandas.arrays.BooleanArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanArray</span></code></a>, <a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a>, <a class="reference internal" href="../reference/api/pandas.arrays.DatetimeArray.html#pandas.arrays.DatetimeArray" title="pandas.arrays.DatetimeArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeArray</span></code></a>, <a class="reference internal" href="../reference/api/pandas.arrays.FloatingArray.html#pandas.arrays.FloatingArray" title="pandas.arrays.FloatingArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">FloatingArray</span></code></a>, <a class="reference internal" href="../reference/api/pandas.arrays.IntegerArray.html#pandas.arrays.IntegerArray" title="pandas.arrays.IntegerArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code></a>, <a class="reference internal" href="../reference/api/pandas.arrays.PeriodArray.html#pandas.arrays.PeriodArray" title="pandas.arrays.PeriodArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodArray</span></code></a>, <a class="reference internal" href="../reference/api/pandas.arrays.TimedeltaArray.html#pandas.arrays.TimedeltaArray" title="pandas.arrays.TimedeltaArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaArray</span></code></a> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">PandasArray</span></code> 的归约方法现在仅支持关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37541">GH 37541</a>)</p></li>
<li><p>修复了一个错误，即如果对包含 NaN 值的 <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> 进行成员资格检查，会错误地引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37867">GH 37867</a>)</p></li>
</ul>
</section>
<section id="other">
<h3>其他<a class="headerlink" href="v1.2.0.html#other" title="链接到此标题">#</a></h3>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 中存在一个错误，即在传递无效参数组合时，会错误地引发 <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36045">GH 36045</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 中存在一个错误，即对数值和字符串 <code class="docutils literal notranslate"><span class="pre">to_replace</span></code> 的处理 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34789">GH 34789</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.abs.html#pandas.Series.abs" title="pandas.Series.abs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.abs()</span></code></a> 以及对 Series 和 DataFrames 调用 ufuncs 时的元数据传播问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28283">GH 28283</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 中存在一个错误，即错误地将 <code class="docutils literal notranslate"><span class="pre">PeriodDtype</span></code> 转换为对象 dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34871">GH 34871</a>)</p></li>
<li><p>修复了元数据传播中的一个错误，即当列名与元数据名称重叠时，错误地将 DataFrame 列复制为元数据 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37037">GH 37037</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.dt.html#pandas.Series.dt" title="pandas.Series.dt"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series.dt</span></code></a>, <a class="reference internal" href="../reference/api/pandas.Series.str.html#pandas.Series.str" title="pandas.Series.str"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series.str</span></code></a> 访问器, <a class="reference internal" href="../reference/api/pandas.DataFrame.duplicated.html#pandas.DataFrame.duplicated" title="pandas.DataFrame.duplicated"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.duplicated</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack" title="pandas.DataFrame.stack"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.stack</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack" title="pandas.DataFrame.unstack"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.unstack</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot" title="pandas.DataFrame.pivot"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.pivot</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.append</span></code>, <a class="reference internal" href="../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff" title="pandas.DataFrame.diff"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.diff</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DataFrame.applymap.html#pandas.DataFrame.applymap" title="pandas.DataFrame.applymap"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.applymap</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update" title="pandas.DataFrame.update"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame.update</span></code></a> 方法中的元数据传播问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28283">GH 28283</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37381">GH 37381</a>)</p></li>
<li><p>修复了使用 <code class="docutils literal notranslate"><span class="pre">DataFrame.__getitem__</span></code> 选择列时的元数据传播问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28283">GH 28283</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Index.intersection.html#pandas.Index.intersection" title="pandas.Index.intersection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.intersection()</span></code></a> 中存在一个错误，即非 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 无法正确设置返回的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 的名称 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38111">GH 38111</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">RangeIndex.intersection()</span></code> 中存在一个错误，即在某些极端情况下无法正确设置返回的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 的名称 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38197">GH 38197</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Index.difference.html#pandas.Index.difference" title="pandas.Index.difference"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.difference()</span></code></a> 中存在一个错误，即在某些极端情况下无法正确设置返回的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 的名称 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38268">GH 38268</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Index.union.html#pandas.Index.union" title="pandas.Index.union"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.union()</span></code></a> 中存在一个错误，即行为因操作数是 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 还是其他列表式对象而异 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/36384">GH 36384</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Index.intersection.html#pandas.Index.intersection" title="pandas.Index.intersection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.intersection()</span></code></a> 中存在一个错误，即非匹配数值 dtype 转换为 <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype 而非最小公共 dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38122">GH 38122</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.union()</span></code> 中存在一个错误，即当为空时返回错误类型的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38282">GH 38282</a>)</p></li>
<li><p>现在，将具有 2 个或更多维度的数组传递给 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 构造函数会引发更具体的 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>，而不是普通的 <code class="docutils literal notranslate"><span class="pre">Exception</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35744">GH 35744</a>)</p></li>
<li><p>在 <code class="docutils literal notranslate"><span class="pre">dir</span></code> 中存在一个错误，即 <code class="docutils literal notranslate"><span class="pre">dir(obj)</span></code> 不会显示 pandas 对象实例上定义的属性 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37173">GH 37173</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.Index.drop.html#pandas.Index.drop" title="pandas.Index.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.drop()</span></code></a> 中存在一个错误，即当索引包含重复项时引发 <code class="docutils literal notranslate"><span class="pre">InvalidIndexError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38051">GH 38051</a>)</p></li>
<li><p>在 <code class="xref py py-meth docutils literal notranslate"><span class="pre">RangeIndex.difference()</span></code> 中存在一个错误，即在某些情况下返回 <code class="xref py py-class docutils literal notranslate"><span class="pre">Int64Index</span></code> 而不是应返回 <a class="reference internal" href="../reference/api/pandas.RangeIndex.html#pandas.RangeIndex" title="pandas.RangeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">RangeIndex</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38028">GH 38028</a>)</p></li>
<li><p>修复了 <code class="xref py py-func docutils literal notranslate"><span class="pre">assert_series_equal()</span></code> 在比较日期时间类数组与等效的非扩展 dtype 数组时存在的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/37609">GH 37609</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.api.types.is_bool_dtype.html#pandas.api.types.is_bool_dtype" title="pandas.api.types.is_bool_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">is_bool_dtype()</span></code></a> 中存在一个错误，即在传递有效字符串（如 <code class="docutils literal notranslate"><span class="pre">"boolean"</span></code>）时会引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38386">GH 38386</a>)</p></li>
<li><p>修复了逻辑运算符的回归问题，即当 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 的列是具有未使用类别的 <a class="reference internal" href="../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex" title="pandas.CategoricalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code></a> 时引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/38367">GH 38367</a>)</p></li>
</ul>
</section>
</section>
<section id="contributors">
<span id="whatsnew-120-contributors"></span><h2>贡献者<a class="headerlink" href="v1.2.0.html#contributors" title="链接到此标题">#</a></h2>
<p>共有 257 人为本次发布贡献了补丁。名字旁有“+”号的人是首次贡献补丁。</p>
<ul class="simple">
<li><p>21CSM +</p></li>
<li><p>AbdulMAbdi +</p></li>
<li><p>Abhiraj Hinge +</p></li>
<li><p>Abhishek Mangla +</p></li>
<li><p>Abo7atm +</p></li>
<li><p>Adam Spannbauer +</p></li>
<li><p>Albert Villanova del Moral</p></li>
<li><p>Alex Kirko</p></li>
<li><p>Alex Lim +</p></li>
<li><p>Alex Thorne +</p></li>
<li><p>Aleš Erjavec +</p></li>
<li><p>Ali McMaster</p></li>
<li><p>Amanda Dsouza +</p></li>
<li><p>Amim Knabben +</p></li>
<li><p>Andrew Wieteska</p></li>
<li><p>Anshoo Rajput +</p></li>
<li><p>Anthony Milbourne</p></li>
<li><p>Arun12121 +</p></li>
<li><p>Asish Mahapatra</p></li>
<li><p>Avinash Pancham +</p></li>
<li><p>BeanNan +</p></li>
<li><p>Ben Forbes +</p></li>
<li><p>Brendan Wilby +</p></li>
<li><p>Bruno Almeida +</p></li>
<li><p>Byron Boulton +</p></li>
<li><p>Chankey Pathak</p></li>
<li><p>Chris Barnes +</p></li>
<li><p>Chris Lynch +</p></li>
<li><p>Chris Withers</p></li>
<li><p>Christoph Deil +</p></li>
<li><p>Christopher Hadley +</p></li>
<li><p>Chuanzhu Xu</p></li>
<li><p>Coelhudo +</p></li>
<li><p>Dan Moore</p></li>
<li><p>Daniel Saxton</p></li>
<li><p>David Kwong +</p></li>
<li><p>David Li +</p></li>
<li><p>David Mrva +</p></li>
<li><p>Deepak Pandey +</p></li>
<li><p>Deepyaman Datta</p></li>
<li><p>Devin Petersohn</p></li>
<li><p>Dmitriy Perepelkin +</p></li>
<li><p>Douglas Hanley +</p></li>
<li><p>Dāgs Grīnbergs +</p></li>
<li><p>Eli Treuherz +</p></li>
<li><p>Elliot Rampono +</p></li>
<li><p>Erfan Nariman</p></li>
<li><p>Eric Goddard</p></li>
<li><p>Eric Leung +</p></li>
<li><p>Eric Wieser</p></li>
<li><p>Ethan Chen +</p></li>
<li><p>Eve +</p></li>
<li><p>Eyal Trabelsi +</p></li>
<li><p>Fabian Gebhart +</p></li>
<li><p>Fangchen Li</p></li>
<li><p>Felix Claessen +</p></li>
<li><p>Finlay Maguire +</p></li>
<li><p>Florian Roscheck +</p></li>
<li><p>Gabriel Monteiro</p></li>
<li><p>Gautham +</p></li>
<li><p>Gerard Jorgensen +</p></li>
<li><p>Gregory Livschitz</p></li>
<li><p>Hans</p></li>
<li><p>Harsh Sharma</p></li>
<li><p>Honfung Wong +</p></li>
<li><p>Igor Gotlibovych +</p></li>
<li><p>Iqrar Agalosi Nureyza</p></li>
<li><p>Irv Lustig</p></li>
<li><p>Isaac Virshup</p></li>
<li><p>Jacob Peacock</p></li>
<li><p>Jacob Stevens-Haas +</p></li>
<li><p>Jan Müller +</p></li>
<li><p>Janus</p></li>
<li><p>Jeet Parekh</p></li>
<li><p>Jeff Hernandez +</p></li>
<li><p>Jeff Reback</p></li>
<li><p>Jiaxiang</p></li>
<li><p>Joao Pedro Berno Zanutto +</p></li>
<li><p>Joel Nothman</p></li>
<li><p>Joel Whittier +</p></li>
<li><p>John Karasinski +</p></li>
<li><p>John McGuigan +</p></li>
<li><p>Johnny Pribyl +</p></li>
<li><p>Jonas Laursen +</p></li>
<li><p>Jonathan Shreckengost +</p></li>
<li><p>Joris Van den Bossche</p></li>
<li><p>Jose +</p></li>
<li><p>JoseNavy +</p></li>
<li><p>Josh Temple +</p></li>
<li><p>Jun Kudo +</p></li>
<li><p>Justin Essert</p></li>
<li><p>Justin Sexton +</p></li>
<li><p>Kaiqi Dong</p></li>
<li><p>Kamil Trocewicz +</p></li>
<li><p>Karthik Mathur</p></li>
<li><p>Kashif +</p></li>
<li><p>Kenny Huynh</p></li>
<li><p>Kevin Sheppard</p></li>
<li><p>Kumar Shivam +</p></li>
<li><p>Leonardus Chen +</p></li>
<li><p>Levi Matus +</p></li>
<li><p>Lucas Rodés-Guirao +</p></li>
<li><p>Luis Pinto +</p></li>
<li><p>Lynch +</p></li>
<li><p>Marc Garcia</p></li>
<li><p>Marco Gorelli</p></li>
<li><p>Maria-Alexandra Ilie +</p></li>
<li><p>Marian Denes</p></li>
<li><p>Mark Graham +</p></li>
<li><p>Martin Durant</p></li>
<li><p>Matt Roeschke</p></li>
<li><p>Matthew Roeschke</p></li>
<li><p>Matthias Bussonnier</p></li>
<li><p>Maxim Ivanov +</p></li>
<li><p>Mayank Chaudhary +</p></li>
<li><p>MeeseeksMachine</p></li>
<li><p>Meghana Varanasi +</p></li>
<li><p>Metehan Kutlu +</p></li>
<li><p>Micael Jarniac +</p></li>
<li><p>Micah Smith +</p></li>
<li><p>Michael Marino</p></li>
<li><p>Miroslav Šedivý</p></li>
<li><p>Mohammad Jafar Mashhadi</p></li>
<li><p>Mohammed Kashif +</p></li>
<li><p>Nagesh Kumar C +</p></li>
<li><p>Nidhi Zare +</p></li>
<li><p>Nikhil Choudhary +</p></li>
<li><p>Number42</p></li>
<li><p>Oleh Kozynets +</p></li>
<li><p>OlivierLuG</p></li>
<li><p>Pandas Development Team</p></li>
<li><p>Paolo Lammens +</p></li>
<li><p>Paul Ganssle</p></li>
<li><p>Pax +</p></li>
<li><p>Peter Liu +</p></li>
<li><p>Philip Cerles +</p></li>
<li><p>Pranjal Bhardwaj +</p></li>
<li><p>Prayag Savsani +</p></li>
<li><p>Purushothaman Srikanth +</p></li>
<li><p>Qbiwan +</p></li>
<li><p>Rahul Chauhan +</p></li>
<li><p>Rahul Sathanapalli +</p></li>
<li><p>Rajat Bishnoi +</p></li>
<li><p>Ray Bell</p></li>
<li><p>Reshama Shaikh +</p></li>
<li><p>Richard Shadrach</p></li>
<li><p>Robert Bradshaw</p></li>
<li><p>Robert de Vries</p></li>
<li><p>Rohith295</p></li>
<li><p>S Mono +</p></li>
<li><p>S.TAKENO +</p></li>
<li><p>Sahid Velji +</p></li>
<li><p>Sam Cohen +</p></li>
<li><p>Sam Ezebunandu +</p></li>
<li><p>Sander +</p></li>
<li><p>Sarthak +</p></li>
<li><p>Sarthak Vineet Kumar +</p></li>
<li><p>Satrio H Wicaksono +</p></li>
<li><p>Scott Lasley</p></li>
<li><p>Shao Yang Hong +</p></li>
<li><p>Sharon Woo +</p></li>
<li><p>Shubham Mehra +</p></li>
<li><p>Simon Hawkins</p></li>
<li><p>Sixuan (Cherie) Wu +</p></li>
<li><p>Souris Ash +</p></li>
<li><p>Steffen Rehberg</p></li>
<li><p>Suvayu Ali</p></li>
<li><p>Sven</p></li>
<li><p>SylvainLan +</p></li>
<li><p>T. JEGHAM +</p></li>
<li><p>Terji Petersen</p></li>
<li><p>Thomas Dickson +</p></li>
<li><p>Thomas Heavey +</p></li>
<li><p>Thomas Smith</p></li>
<li><p>Tobias Pitters</p></li>
<li><p>Tom Augspurger</p></li>
<li><p>Tomasz Sakrejda +</p></li>
<li><p>Torsten Wörtwein +</p></li>
<li><p>Ty Mick +</p></li>
<li><p>UrielMaD +</p></li>
<li><p>Uwe L. Korn</p></li>
<li><p>Vikramaditya Gaonkar +</p></li>
<li><p>VirosaLi +</p></li>
<li><p>W.R +</p></li>
<li><p>Warren White +</p></li>
<li><p>Wesley Boelrijk +</p></li>
<li><p>William Ayd</p></li>
<li><p>Yanxian Lin +</p></li>
<li><p>Yassir Karroum +</p></li>
<li><p>Yong Kai Yi +</p></li>
<li><p>Yuanhao Geng +</p></li>
<li><p>Yury Mikhaylov +</p></li>
<li><p>Yutaro Ikeda</p></li>
<li><p>Yuya Takashina +</p></li>
<li><p>Zach Brookler +</p></li>
<li><p>Zak Kohler +</p></li>
<li><p>ZhihuiChen0903 +</p></li>
<li><p>abmyii</p></li>
<li><p>alexhtn +</p></li>
<li><p>asharma13524 +</p></li>
<li><p>attack68</p></li>
<li><p>beanan +</p></li>
<li><p>chinhwee</p></li>
<li><p>cleconte987</p></li>
<li><p>danchev +</p></li>
<li><p>ebardie +</p></li>
<li><p>edwardkong</p></li>
<li><p>elliot rampono +</p></li>
<li><p>estasney +</p></li>
<li><p>gabicca</p></li>
<li><p>geetha-rangaswamaiah +</p></li>
<li><p>gfyoung</p></li>
<li><p>guru kiran</p></li>
<li><p>hardikpnsp +</p></li>
<li><p>icanhazcodeplz +</p></li>
<li><p>ivanovmg +</p></li>
<li><p>jbrockmendel</p></li>
<li><p>jeschwar</p></li>
<li><p>jnecus</p></li>
<li><p>joooeey +</p></li>
<li><p>junk +</p></li>
<li><p>krajatcl +</p></li>
<li><p>lacrosse91 +</p></li>
<li><p>leo +</p></li>
<li><p>lpkirwin +</p></li>
<li><p>lrjball</p></li>
<li><p>lucasrodes +</p></li>
<li><p>ma3da +</p></li>
<li><p>mavismonica +</p></li>
<li><p>mlondschien +</p></li>
<li><p>mzeitlin11 +</p></li>
<li><p>nguevara +</p></li>
<li><p>nrebena</p></li>
<li><p>parkdj1 +</p></li>
<li><p>partev</p></li>
<li><p>patrick</p></li>
<li><p>realead</p></li>
<li><p>rxxg +</p></li>
<li><p>samilAyoub +</p></li>
<li><p>sanderland</p></li>
<li><p>shawnbrown</p></li>
<li><p>sm1899 +</p></li>
<li><p>smartvinnetou</p></li>
<li><p>ssortman +</p></li>
<li><p>steveya +</p></li>
<li><p>taytzehao +</p></li>
<li><p>tiagohonorato +</p></li>
<li><p>timhunderwood</p></li>
<li><p>tkmz-n +</p></li>
<li><p>tnwei +</p></li>
<li><p>tpanza +</p></li>
<li><p>vineethraj510 +</p></li>
<li><p>vmdhhh +</p></li>
<li><p>xinrong-databricks +</p></li>
<li><p>yonas kassa +</p></li>
<li><p>yonashub +</p></li>
<li><p>Ádám Lippai +</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev" href="v1.2.1.html" title="上一页"> <i class="fa-solid fa-angle-left"></i> <div class="prev-next-info"> <p class="prev-next-subtitle">上一页</p> <p class="prev-next-title">1.2.1 版新特性（2021 年 1 月 20 日）</p> </div> </a> <a class="right-next" href="v1.1.5.html" title="下一页"> <div class="prev-next-info"> <p class="prev-next-subtitle">下一页</p> <p class="prev-next-title">1.1.5 版新特性（2020 年 12 月 7 日）</p> </div> <i class="fa-solid fa-angle-right"></i> </a></div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> 在此页</div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#enhancements">改进</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#optionally-disallow-duplicate-labels">可选地禁止重复标签</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#passing-arguments-to-fsspec-backends">将参数传递给 fsspec 后端</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#support-for-binary-file-handles-in-to-csv"><code class="docutils literal notranslate"><span class="pre">to_csv</span></code> 中对二进制文件句柄的支持</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#support-for-short-caption-and-table-position-in-to-latex"><code class="docutils literal notranslate"><span class="pre">to_latex</span></code> 中对短标题和表格位置的支持</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#change-in-default-floating-precision-for-read-csv-and-read-table"><code class="docutils literal notranslate"><span class="pre">read_csv</span></code> 和 <code class="docutils literal notranslate"><span class="pre">read_table</span></code> 默认浮点精度更改</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#experimental-nullable-data-types-for-float-data">浮点数据的实验性可空数据类型</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#index-column-name-preservation-when-aggregating">聚合时索引/列名保留</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#groupby-supports-ewm-operations-directly">GroupBy 直接支持 EWM 操作</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#other-enhancements">其他改进</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#notable-bug-fixes">值得注意的错误修复</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#consistency-of-dataframe-reductions">DataFrame 归约的一致性</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#increased-minimum-version-for-python">Python 最低版本提升</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#increased-minimum-versions-for-dependencies">依赖项最低版本提升</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#other-api-changes">其他 API 更改</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#deprecations">弃用</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#performance-improvements">性能改进</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#bug-fixes">错误修复</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#categorical">分类</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#datetime-like">日期时间类</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#timedelta">时间差</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#timezones">时区</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#numeric">数值</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#conversion">转换</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#strings">字符串</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#interval">区间</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#indexing">索引</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#missing">缺失值</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#multiindex">多级索引</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#i-o">输入/输出</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#period">周期</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#plotting">绘图</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#styler">样式器</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#groupby-resample-rolling">分组/重采样/滚动</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#reshaping">重塑</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#extensionarray">扩展数组</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#other">其他</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.2.0.html#contributors">贡献者</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/whatsnew/v1.2.0.rst.txt">
      <i class="fa-solid fa-file-lines"></i> 显示源代码</a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js%3Fdigest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js%3Fdigest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><p class="copyright">© 2025, pandas 经由 <a href="https://numfocus.org">NumFOCUS, Inc.</a> 提供。由 <a href="https://www.ovhcloud.com">OVHcloud</a> 托管。</p></div>
      
        <div class="footer-item">

  <p class="sphinx-version">使用 <a href="https://sphinx-doc.cn/">Sphinx</a> 8.1.3 创建。<br />
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">使用 <a href="https://pydata.sphinx-doc.cn/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4 构建。</p></div>
      
    </div>
  
</div>

  </footer>
  
</body></html>