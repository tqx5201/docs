<!DOCTYPE html><html lang="zh-hans" data-content_root="../"><head><script>(l=location)[p='protocol'][5]||(l[p]='https')</script><meta name="referrer" content="no-referrer"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8543159550507237" crossorigin="anonymous"></script>

<script>window.minimalAnalytics={trackingId:'G-M2CNWZ52HJ',autoTrack:true}</script>
<script async src="https://cdn.jsdelivr.net.cn/npm/@minimal-analytics/ga4/dist/index.js"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>版本 0.14.0 (2014年5月31日) — pandas 2.3.0 文档 - pandas 数据分析库</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css%3Fv=03e43079.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css%3Fv=76b2166b.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css%3Fv=95c83b7e.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/getting_started.css%3Fv=150e0881.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pandas.css%3Fv=b7db95b1.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js%3Fdigest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js%3Fdigest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js%3Fdigest=5b4479735964841361fd"></script>

    <script src="../_static/documentation_options.js%3Fv=c3c8ae58"></script>
    <script src="../_static/doctools.js%3Fv=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js%3Fv=dc90522c"></script>
    <script src="../_static/clipboard.min.js%3Fv=a7894cd8"></script>
    <script src="../_static/copybutton.js%3Fv=f281be69"></script>
    <script src="../_static/design-tabs.js%3Fv=f930bc37"></script>
    <script data-domain="pandas.pydata.org" defer="defer" src="https://#/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net.cn/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'whatsnew/v0.14.0';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.14.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://pandas.ac.cn/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '2.3';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="../_static/favicon.ico" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Version 0.13.1 (February 3, 2014)" href="v0.13.1.html" />
    <link rel="prev" title="Version 0.14.1 (July 11, 2014)" href="v0.14.1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="v0.14.0.html#main-content">跳到主要内容</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i> 返回顶部</button>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary" />
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary" />
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pandas.svg" class="logo__image only-light" alt="pandas 2.3.0 documentation - Home">
    <script>document.write(`<img src="../../static/img/pandas_white.svg" class="logo__image only-dark" alt="pandas 2.3.0 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">网站导航</p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">入门</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">用户指南</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">API 参考</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">开发</a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">发布说明</a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pandas-dev/pandas" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span> <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pandas_dev" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@pandas_dev" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">网站导航</p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">入门</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">用户指南</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">API 参考</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">开发</a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">发布说明</a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pandas-dev/pandas" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span> <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pandas_dev" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@pandas_dev" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item navbar-nav">
    
    <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.3.0.html">2.3.0 版本新特性 (2025年6月4日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.2.3.html">2.2.3 版本新特性 (2024年9月20日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.2.html">2.2.2 版本新特性 (2024年4月10日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.1.html">2.2.1 版本新特性 (2024年2月22日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.0.html">2.2.0 版本新特性 (2024年1月19日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.1.4.html">2.1.4 版本新特性 (2023年12月8日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.3.html">2.1.3 版本新特性 (2023年11月10日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.2.html">2.1.2 版本新特性 (2023年10月26日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.1.html">2.1.1 版本新特性 (2023年9月20日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.0.html">2.1.0 版本新特性 (2023年8月30日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.0.3.html">2.0.3 版本新特性 (2023年6月28日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.2.html">2.0.2 版本新特性 (2023年5月29日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.1.html">2.0.1 版本新特性 (2023年4月24日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.0.html">2.0.0 版本新特性 (2023年4月3日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.5.3.html">1.5.3 版本新特性 (2023年1月18日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.2.html">1.5.2 版本新特性 (2022年11月21日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.1.html">1.5.1 版本新特性 (2022年10月19日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.0.html">1.5.0 版本新特性 (2022年9月19日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.4.4.html">1.4.4 版本新特性 (2022年8月31日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.3.html">1.4.3 版本新特性 (2022年6月23日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.2.html">1.4.2 版本新特性 (2022年4月2日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.1.html">1.4.1 版本新特性 (2022年2月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.0.html">1.4.0 版本新特性 (2022年1月22日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.3.5.html">1.3.5 版本新特性 (2021年12月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.4.html">1.3.4 版本新特性 (2021年10月17日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.3.html">1.3.3 版本新特性 (2021年9月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.2.html">1.3.2 版本新特性 (2021年8月15日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.1.html">1.3.1 版本新特性 (2021年7月25日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.0.html">1.3.0 版本新特性 (2021年7月2日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.2.5.html">1.2.5 版本新特性 (2021年6月22日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.4.html">1.2.4 版本新特性 (2021年4月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.3.html">1.2.3 版本新特性 (2021年3月2日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.2.html">1.2.2 版本新特性 (2021年2月9日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.1.html">1.2.1 版本新特性 (2021年1月20日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.0.html">1.2.0 版本新特性 (2020年12月26日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.1.5.html">1.1.5 版本新特性 (2020年12月7日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.4.html">1.1.4 版本新特性 (2020年10月30日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.3.html">1.1.3 版本新特性 (2020年10月5日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.2.html">1.1.2 版本新特性 (2020年9月8日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.1.html">1.1.1 版本新特性 (2020年8月20日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.0.html">1.1.0 版本新特性 (2020年7月28日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.0.5.html">1.0.5 版本新特性 (2020年6月17日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.4.html">1.0.4 版本新特性 (2020年5月28日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.3.html">1.0.3 版本新特性 (2020年3月17日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.2.html">1.0.2 版本新特性 (2020年3月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.1.html">1.0.1 版本新特性 (2020年2月5日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.0.html">1.0.0 版本新特性 (2020年1月29日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.25.3.html">0.25.3 版本新特性 (2019年10月31日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.2.html">0.25.2 版本新特性 (2019年10月15日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.1.html">0.25.1 版本新特性 (2019年8月21日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.0.html">0.25.0 版本新特性 (2019年7月18日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.24.2.html">0.24.2 版本新特性 (2019年3月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.24.1.html">0.24.1 版本新特性 (2019年2月3日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.24.0.html">0.24.0 版本新特性 (2019年1月25日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.23.4.html">0.23.4 版本新特性 (2018年8月3日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.3.html">0.23.3 版本新特性 (2018年7月7日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.2.html">0.23.2 版本新特性 (2018年7月5日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.1.html">0.23.1 版本新特性 (2018年6月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.0.html">0.23.0 版本新特性 (2018年5月15日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.22.0.html">版本 0.22.0 (2017年12月29日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.21.1.html">版本 0.21.1 (2017年12月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.21.0.html">版本 0.21.0 (2017年10月27日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.20.3.html">版本 0.20.3 (2017年7月7日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.20.2.html">版本 0.20.2 (2017年6月4日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.20.0.html">版本 0.20.1 (2017年5月5日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.19.2.html">版本 0.19.2 (2016年12月24日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.19.1.html">版本 0.19.1 (2016年11月3日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.19.0.html">版本 0.19.0 (2016年10月2日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.18.1.html">版本 0.18.1 (2016年5月3日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.18.0.html">版本 0.18.0 (2016年3月13日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.17.1.html">版本 0.17.1 (2015年11月21日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.17.0.html">版本 0.17.0 (2015年10月9日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.16.2.html">版本 0.16.2 (2015年6月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.16.1.html">版本 0.16.1 (2015年5月11日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.16.0.html">版本 0.16.0 (2015年3月22日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.15.2.html">版本 0.15.2 (2014年12月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.15.1.html">版本 0.15.1 (2014年11月9日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.15.0.html">版本 0.15.0 (2014年10月18日)</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.14.1.html">版本 0.14.1 (2014年7月11日)</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="v0.14.0.html#">版本 0.14.0 (2014年5月31日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.13.1.html">版本 0.13.1 (2014年2月3日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.13.0.html">版本 0.13.0 (2014年1月3日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.12.0.html">版本 0.12.0 (2013年7月24日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.11.0.html">版本 0.11.0 (2013年4月22日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.10.1.html">版本 0.10.1 (2013年1月22日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.10.0.html">版本 0.10.0 (2012年12月17日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.9.1.html">版本 0.9.1 (2012年11月14日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.9.0.html">版本 0.9.0 (2012年10月7日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.8.1.html">版本 0.8.1 (2012年7月22日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.8.0.html">版本 0.8.0 (2012年6月29日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.7.3.html">版本 0.7.3 (2012年4月12日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.2.html">版本 0.7.2 (2012年3月16日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.1.html">版本 0.7.1 (2012年2月29日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.0.html">版本 0.7.0 (2012年2月9日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.6.1.html">版本 0.6.1 (2011年12月13日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.6.0.html">版本 0.6.0 (2011年11月25日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.5.0.html">版本 0.5.0 (2011年10月24日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.4.x.html">版本 0.4.1 至 0.4.3 (2011年9月25日 - 10月9日)</a></li>
</ul>

    
  </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">发布说明</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">版本...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="version-0-14-0-may-31-2014">
<span id="whatsnew-0140"></span><h1>版本 0.14.0 (2014年5月31日)<a class="headerlink" href="v0.14.0.html#version-0-14-0-may-31-2014" title="Link to this heading">#</a></h1>
<p>这是 0.13.1 的一个主要版本，包含少量 API 更改、一些新功能、增强和性能改进，以及大量的错误修复。我们建议所有用户升级到此版本。</p>
<ul class="simple">
<li><p>亮点包括</p>
<ul>
<li><p>官方支持 Python 3.4</p></li>
<li><p>SQL 接口更新为使用 <code class="docutils literal notranslate"><span class="pre">sqlalchemy</span></code>，请参阅<a class="reference internal" href="v0.14.0.html#whatsnew-0140-sql"><span class="std std-ref">此处</span></a>。</p></li>
<li><p>显示接口更改，请参阅<a class="reference internal" href="v0.14.0.html#whatsnew-0140-display"><span class="std std-ref">此处</span></a></p></li>
<li><p>使用切片器进行多重索引，请参阅<a class="reference internal" href="v0.14.0.html#whatsnew-0140-slicers"><span class="std std-ref">此处</span></a>。</p></li>
<li><p>能够将单索引 DataFrame 与多索引 DataFrame 连接起来，请参阅<a class="reference internal" href="../user_guide/merging.html#merging-join-on-mi"><span class="std std-ref">此处</span></a></p></li>
<li><p>groupby 结果更加一致，groupby 规范更加灵活，请参阅<a class="reference internal" href="v0.14.0.html#whatsnew-0140-groupby"><span class="std std-ref">此处</span></a></p></li>
<li><p>假日日历现在在 <code class="docutils literal notranslate"><span class="pre">CustomBusinessDay</span></code> 中受支持，请参阅<a class="reference internal" href="../user_guide/timeseries.html#timeseries-holiday"><span class="std std-ref">此处</span></a></p></li>
<li><p>绘图功能有多项改进，包括：hexbin、面积图和饼图，请参阅<a class="reference internal" href="v0.14.0.html#whatsnew-0140-plotting"><span class="std std-ref">此处</span></a>。</p></li>
<li><p>I/O 操作的性能文档部分，请参阅<a class="reference internal" href="../user_guide/io.html#io-perf"><span class="std std-ref">此处</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="v0.14.0.html#whatsnew-0140-enhancements"><span class="std std-ref">其他增强功能</span></a></p></li>
<li><p><a class="reference internal" href="v0.14.0.html#whatsnew-0140-api"><span class="std std-ref">API 更改</span></a></p></li>
<li><p><a class="reference internal" href="v0.14.0.html#whatsnew-0140-parsing"><span class="std std-ref">文本解析 API 更改</span></a></p></li>
<li><p><a class="reference internal" href="v0.14.0.html#whatsnew-0140-groupby"><span class="std std-ref">Groupby API 更改</span></a></p></li>
<li><p><a class="reference internal" href="v0.14.0.html#whatsnew-0140-performance"><span class="std std-ref">性能改进</span></a></p></li>
<li><p><a class="reference internal" href="v0.14.0.html#whatsnew-0140-prior-deprecations"><span class="std std-ref">先前的弃用</span></a></p></li>
<li><p><a class="reference internal" href="v0.14.0.html#whatsnew-0140-deprecations"><span class="std std-ref">弃用</span></a></p></li>
<li><p><a class="reference internal" href="v0.14.0.html#whatsnew-0140-knownissues"><span class="std std-ref">已知问题</span></a></p></li>
<li><p><a class="reference internal" href="v0.14.0.html#whatsnew-0140-bug-fixes"><span class="std std-ref">错误修复</span></a></p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>在 0.14.0 版本中，所有基于 <code class="docutils literal notranslate"><span class="pre">NDFrame</span></code> 的容器都经历了重大的内部重构。在此之前，每个同质数据块都有自己的标签，需要额外小心以使其与父容器的标签保持同步。这不应该带来任何可见的用户/API 行为更改 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6745">GH 6745</a>)</p>
</div>
<section id="api-changes">
<span id="whatsnew-0140-api"></span><h2>API 更改<a class="headerlink" href="v0.14.0.html#api-changes" title="Link to this heading">#</a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">read_excel</span></code> 使用 0 作为默认工作表 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6573">GH 6573</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iloc</span></code> 现在将接受超出边界的切片索引器，例如，超出被索引对象长度的值。这些值将被排除。这将使 pandas 更符合 python/numpy 对超出边界值的索引行为。单个超出边界且导致对象维度丢失的索引器仍将引发 <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6296">GH 6296</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6299">GH 6299</a>)。这可能导致返回一个空轴 (例如，一个空的 DataFrame)。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">dfl</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">'AB'</span><span class="p">))</span>

<span class="gp">In [2]: </span><span class="n">dfl</span>
<span class="gh">Out[2]: </span>
<span class="go">          A         B</span>
<span class="go">0  0.469112 -0.282863</span>
<span class="go">1 -1.509059 -1.135632</span>
<span class="go">2  1.212112 -0.173215</span>
<span class="go">3  0.119209 -1.044236</span>
<span class="go">4 -0.861849 -2.104569</span>

<span class="go">[5 rows x 2 columns]</span>

<span class="gp">In [3]: </span><span class="n">dfl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="gh">Out[3]: </span>
<span class="go">Empty DataFrame</span>
<span class="go">Columns: []</span>
<span class="go">Index: [0, 1, 2, 3, 4]</span>

<span class="go">[5 rows x 0 columns]</span>

<span class="gp">In [4]: </span><span class="n">dfl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="gh">Out[4]: </span>
<span class="go">          B</span>
<span class="go">0 -0.282863</span>
<span class="go">1 -1.135632</span>
<span class="go">2 -0.173215</span>
<span class="go">3 -1.044236</span>
<span class="go">4 -2.104569</span>

<span class="go">[5 rows x 1 columns]</span>

<span class="gp">In [5]: </span><span class="n">dfl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
<span class="gh">Out[5]: </span>
<span class="go">          A         B</span>
<span class="go">4 -0.861849 -2.104569</span>

<span class="go">[1 rows x 2 columns]</span>
</pre></div>
</div>
<p>这些是超出边界的选择</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dfl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="go">IndexError: positional indexers are out-of-bounds</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">dfl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">]</span>
<span class="go">IndexError: single positional indexer is out-of-bounds</span>
</pre></div>
</div>
</li>
<li><p>使用负数起始、停止和步长值进行切片，可以更好地处理边界情况 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6531">GH 6531</a>)</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">df.iloc[:-len(df)]</span></code> 现在为空</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df.iloc[len(df)::-1]</span></code> 现在按逆序枚举所有元素</p></li>
</ul>
</li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate" title="pandas.DataFrame.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.interpolate()</span></code></a> 的关键字参数 <code class="docutils literal notranslate"><span class="pre">downcast</span></code> 的默认值已从 <code class="docutils literal notranslate"><span class="pre">infer</span></code> 更改为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。这是为了保留原始数据类型，除非明确要求更改 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6290">GH 6290</a>)。</p></li>
<li><p>将 DataFrame 转换为 HTML 时，以前会返回 <code class="docutils literal notranslate"><span class="pre">Empty</span> <span class="pre">DataFrame</span></code>。此特殊情况已被移除，现在返回一个包含列名的标题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6062">GH 6062</a>)。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Index</span></code> 现在内部共享更多常见操作，例如 <code class="docutils literal notranslate"><span class="pre">factorize(),nunique(),value_counts()</span></code> 现在也支持 <code class="docutils literal notranslate"><span class="pre">Index</span></code> 类型。为了 API 一致性，<code class="docutils literal notranslate"><span class="pre">Series.weekday</span></code> 属性已从 Series 中移除。现在在 Series 上使用 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex/PeriodIndex</span></code> 方法将引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4551">GH 4551</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4056">GH 4056</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5519">GH 5519</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6380">GH 6380</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7206">GH 7206</a>)。</p></li>
<li><p>为 <code class="docutils literal notranslate"><span class="pre">DateTimeIndex</span></code> / <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> 添加 <code class="docutils literal notranslate"><span class="pre">is_month_start</span></code>, <code class="docutils literal notranslate"><span class="pre">is_month_end</span></code>, <code class="docutils literal notranslate"><span class="pre">is_quarter_start</span></code>, <code class="docutils literal notranslate"><span class="pre">is_quarter_end</span></code>, <code class="docutils literal notranslate"><span class="pre">is_year_start</span></code>, <code class="docutils literal notranslate"><span class="pre">is_year_end</span></code> 访问器，它们返回一个布尔数组，指示时间戳是否位于由 <code class="docutils literal notranslate"><span class="pre">DateTimeIndex</span></code> / <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> 频率定义的月/季度/年的开始/结束 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4565">GH 4565</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6998">GH 6998</a>)</p></li>
<li><p>局部变量在 <a class="reference internal" href="../reference/api/pandas.eval.html#pandas.eval" title="pandas.eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.eval()</span></code></a>/<a class="reference internal" href="../reference/api/pandas.DataFrame.eval.html#pandas.DataFrame.eval" title="pandas.DataFrame.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.eval()</span></code></a>/<a class="reference internal" href="../reference/api/pandas.DataFrame.query.html#pandas.DataFrame.query" title="pandas.DataFrame.query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.query()</span></code></a> 中的用法已更改 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5987">GH 5987</a>)。对于 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 方法，有两处更改：</p>
<ul class="simple">
<li><p>列名现在优先于局部变量</p></li>
<li><p>局部变量必须显式引用。这意味着即使你有一个不是列的局部变量，你仍然必须使用 <code class="docutils literal notranslate"><span class="pre">'@'</span></code> 前缀来引用它。</p></li>
<li><p>你可以使用诸如 <code class="docutils literal notranslate"><span class="pre">df.query('@a</span> <span class="pre">&lt;</span> <span class="pre">a')</span></code> 这样的表达式，<code class="docutils literal notranslate"><span class="pre">pandas</span></code> 不会抱怨名称 <code class="docutils literal notranslate"><span class="pre">a</span></code> 的歧义。</p></li>
<li><p>顶层的 <a class="reference internal" href="../reference/api/pandas.eval.html#pandas.eval" title="pandas.eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.eval()</span></code></a> 函数不允许使用 <code class="docutils literal notranslate"><span class="pre">'@'</span></code> 前缀，并会提供错误消息告知你这一点。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NameResolutionError</span></code> 已被移除，因为它不再需要。</p></li>
</ul>
</li>
<li><p>定义并文档化 query/eval 中列名与索引名的顺序 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6676">GH 6676</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat</span></code> 现在将使用 Series 名称或根据需要对列进行编号来连接混合的 Series 和 DataFrame (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/2385">GH 2385</a>)。请参阅<a class="reference internal" href="../user_guide/merging.html#merging-mixed-ndims"><span class="std std-ref">文档</span></a>。</p></li>
<li><p>对 <code class="docutils literal notranslate"><span class="pre">Index</span></code> 类进行的切片和高级/布尔索引操作，以及 <a class="reference internal" href="../reference/api/pandas.Index.delete.html#pandas.Index.delete" title="pandas.Index.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.delete()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Index.drop.html#pandas.Index.drop" title="pandas.Index.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.drop()</span></code></a> 方法，将不再改变结果索引的类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6440">GH 6440</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7040">GH 7040</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">i</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">])</span>

<span class="gp">In [7]: </span><span class="n">i</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
<span class="gh">Out[7]: </span><span class="go">Index([1, 2, 3], dtype='object')</span>

<span class="gp">In [8]: </span><span class="n">i</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">])</span>
<span class="gh">Out[8]: </span><span class="go">Index([1, 2, 3], dtype='object')</span>
</pre></div>
</div>
<p>以前，上述操作会返回 <code class="docutils literal notranslate"><span class="pre">Int64Index</span></code>。如果你想手动执行此操作，请使用 <a class="reference internal" href="../reference/api/pandas.Index.astype.html#pandas.Index.astype" title="pandas.Index.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.astype()</span></code></a></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">i</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int_</span><span class="p">)</span>
<span class="gh">Out[9]: </span><span class="go">Index([1, 2, 3], dtype='int64')</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">set_index</span></code> 不再将 MultiIndex 转换为元组的 Index。例如，旧的行为在这种情况下会返回一个 Index (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6459">GH 6459</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># Old behavior, casted MultiIndex to an Index</span>
<span class="gp">In [10]: </span><span class="n">tuple_ind</span>
<span class="gh">Out[10]: </span><span class="go">Index([('a', 'c'), ('a', 'd'), ('b', 'c'), ('b', 'd')], dtype='object')</span>

<span class="gp">In [11]: </span><span class="n">df_multi</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">tuple_ind</span><span class="p">)</span>
<span class="gh">Out[11]: </span>
<span class="go">               0         1</span>
<span class="go">(a, c)  0.471435 -1.190976</span>
<span class="go">(a, d)  1.432707 -0.312652</span>
<span class="go">(b, c) -0.720589  0.887163</span>
<span class="go">(b, d)  0.859588 -0.636524</span>

<span class="go">[4 rows x 2 columns]</span>

<span class="go"># New behavior</span>
<span class="gp">In [12]: </span><span class="n">mi</span>
<span class="gh">Out[12]: </span>
<span class="go">MultiIndex([('a', 'c'),</span>
<span class="go">            ('a', 'd'),</span>
<span class="go">            ('b', 'c'),</span>
<span class="go">            ('b', 'd')],</span>
<span class="go">           )</span>

<span class="gp">In [13]: </span><span class="n">df_multi</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span>
<span class="gh">Out[13]: </span>
<span class="go">            0         1</span>
<span class="go">a c  0.471435 -1.190976</span>
<span class="go">  d  1.432707 -0.312652</span>
<span class="go">b c -0.720589  0.887163</span>
<span class="go">  d  0.859588 -0.636524</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p>当向 <code class="docutils literal notranslate"><span class="pre">set_index</span></code> 传递多个索引时，此规则也适用</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># Old output, 2-level MultiIndex of tuples</span>
<span class="gp">In [14]: </span><span class="n">df_multi</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="n">df_multi</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_multi</span><span class="o">.</span><span class="n">index</span><span class="p">])</span>
<span class="gh">Out[14]: </span>
<span class="go">                      0         1</span>
<span class="go">(a, c) (a, c)  0.471435 -1.190976</span>
<span class="go">(a, d) (a, d)  1.432707 -0.312652</span>
<span class="go">(b, c) (b, c) -0.720589  0.887163</span>
<span class="go">(b, d) (b, d)  0.859588 -0.636524</span>

<span class="go">[4 rows x 2 columns]</span>

<span class="go"># New output, 4-level MultiIndex</span>
<span class="gp">In [15]: </span><span class="n">df_multi</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="n">df_multi</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_multi</span><span class="o">.</span><span class="n">index</span><span class="p">])</span>
<span class="gh">Out[15]: </span>
<span class="go">                0         1</span>
<span class="go">a c a c  0.471435 -1.190976</span>
<span class="go">  d a d  1.432707 -0.312652</span>
<span class="go">b c b c -0.720589  0.887163</span>
<span class="go">  d b d  0.859588 -0.636524</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p>统计矩函数 <code class="docutils literal notranslate"><span class="pre">rolling_cov</span></code>, <code class="docutils literal notranslate"><span class="pre">rolling_corr</span></code>, <code class="docutils literal notranslate"><span class="pre">ewmcov</span></code>, <code class="docutils literal notranslate"><span class="pre">ewmcorr</span></code>, <code class="docutils literal notranslate"><span class="pre">expanding_cov</span></code>, <code class="docutils literal notranslate"><span class="pre">expanding_corr</span></code> 中添加了 <code class="docutils literal notranslate"><span class="pre">pairwise</span></code> 关键字，以允许计算移动窗口协方差和相关矩阵 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4950">GH 4950</a>)。请参阅文档中的<a class="reference internal" href="../user_guide/window.html#window-corr-pairwise"><span class="std std-ref">计算滚动成对协方差和相关性</span></a>。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">'ABCD'</span><span class="p">))</span>

<span class="gp">In [4]: </span><span class="n">covs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">rolling_cov</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">]],</span>
<span class="go">  ....:                       df[['B', 'C', 'D']],</span>
<span class="go">  ....:                       5,</span>
<span class="go">  ....:                       pairwise=True)</span>


<span class="gp">In [5]: </span><span class="n">covs</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="gh">Out[5]:</span>
<span class="go">          B         C         D</span>
<span class="go">A  0.035310  0.326593 -0.505430</span>
<span class="go">B  0.137748 -0.006888 -0.005383</span>
<span class="go">C -0.006888  0.861040  0.020762</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.iteritems()</span></code> 现在是惰性的（返回一个迭代器而不是列表）。这在 0.14 版本之前是文档中记载的行为。( <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6760">GH 6760</a>)</p></li>
<li><p>为 <code class="docutils literal notranslate"><span class="pre">Index</span></code> 添加了 <code class="docutils literal notranslate"><span class="pre">nunique</span></code> 和 <code class="docutils literal notranslate"><span class="pre">value_counts</span></code> 函数，用于计数唯一元素。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6734">GH 6734</a>)</p></li>
<li><p>当 <code class="docutils literal notranslate"><span class="pre">level</span></code> 关键字引用 <code class="docutils literal notranslate"><span class="pre">Index</span></code> 中非唯一项时，<code class="docutils literal notranslate"><span class="pre">stack</span></code> 和 <code class="docutils literal notranslate"><span class="pre">unstack</span></code> 现在会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>（以前引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>）。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6738">GH 6738</a>)</p></li>
<li><p>从 <code class="docutils literal notranslate"><span class="pre">Series.sort</span></code> 中移除未使用的 order 参数；现在参数顺序与 <code class="docutils literal notranslate"><span class="pre">Series.order</span></code> 相同；添加 <code class="docutils literal notranslate"><span class="pre">na_position</span></code> 参数以符合 <code class="docutils literal notranslate"><span class="pre">Series.order</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6847">GH 6847</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.order</span></code> 的默认排序算法现在是 <code class="docutils literal notranslate"><span class="pre">quicksort</span></code>，以与 <code class="docutils literal notranslate"><span class="pre">Series.sort</span></code> (和 numpy 默认值) 保持一致</p></li>
<li><p>为 <code class="docutils literal notranslate"><span class="pre">Series.order/sort</span></code> 添加 <code class="docutils literal notranslate"><span class="pre">inplace</span></code> 关键字，使其成为互逆操作 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6859">GH 6859</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.sort</span></code> 现在根据 <code class="docutils literal notranslate"><span class="pre">na_position</span></code> 参数将 NaNs 放置在排序的开头或结尾。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3917">GH 3917</a>)</p></li>
<li><p>在 <code class="docutils literal notranslate"><span class="pre">concat</span></code> 中接受 <code class="docutils literal notranslate"><span class="pre">TextFileReader</span></code>，这影响了一个常见的用户习惯用法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6583">GH 6583</a>)，这是 0.13.1 版本的一个回归。</p></li>
<li><p>为 <code class="docutils literal notranslate"><span class="pre">Index</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Series</span></code> 添加了 <code class="docutils literal notranslate"><span class="pre">factorize</span></code> 函数，以获取索引器和唯一值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7090">GH 7090</a>)</p></li>
<li><p>对包含 Timestamp 和字符串类对象的 DataFrame 执行 <code class="docutils literal notranslate"><span class="pre">describe</span></code> 会返回不同的 Index (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7088">GH 7088</a>)。以前索引会被无意中排序。</p></li>
<li><p>现在，仅包含 <code class="docutils literal notranslate"><span class="pre">bool</span></code> 数据类型的算术运算会发出警告，表明它们在 Python 空间中进行 <code class="docutils literal notranslate"><span class="pre">+</span></code>、<code class="docutils literal notranslate"><span class="pre">-</span></code> 和 <code class="docutils literal notranslate"><span class="pre">*</span></code> 运算，而对所有其他运算则会引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7011">GH 7011</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6762">GH 6762</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7015">GH 7015</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7210">GH 7210</a>)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span>  <span class="c1"># warning generated: should do x | y instead</span>
<span class="go">UserWarning: evaluating in Python space because the '+' operator is not</span>
<span class="go">supported by numexpr for the bool dtype, use '|' instead</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">/</span> <span class="n">y</span>  <span class="c1"># this raises because it doesn't make sense</span>
<span class="go">NotImplementedError: operator '/' not implemented for bool dtypes</span>
</pre></div>
</div>
</li>
<li><p>在 <code class="docutils literal notranslate"><span class="pre">HDFStore</span></code> 中，当找不到键或选择器时，<code class="docutils literal notranslate"><span class="pre">select_as_multiple</span></code> 将始终引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6177">GH 6177</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df['col']</span> <span class="pre">=</span> <span class="pre">value</span></code> 和 <code class="docutils literal notranslate"><span class="pre">df.loc[:,'col']</span> <span class="pre">=</span> <span class="pre">value</span></code> 现在完全等效；以前 <code class="docutils literal notranslate"><span class="pre">.loc</span></code> 不一定会强制转换结果 Series 的数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6149">GH 6149</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dtypes</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ftypes</span></code> 现在在空容器上返回 <code class="docutils literal notranslate"><span class="pre">dtype=object</span></code> 的 Series (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5740">GH 5740</a>)</p></li>
<li><p>如果既未提供目标路径也未提供缓冲区，<code class="docutils literal notranslate"><span class="pre">df.to_csv</span></code> 现在将返回 CSV 数据的字符串表示 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6061">GH 6061</a>)</p></li>
<li><p>如果给定无效的 <code class="docutils literal notranslate"><span class="pre">Series/Index</span></code> 类型，<code class="docutils literal notranslate"><span class="pre">pd.infer_freq()</span></code> 现在将引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6407">GH 6407</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6463">GH 6463</a>)</p></li>
<li><p>传递给 <code class="docutils literal notranslate"><span class="pre">DataFame.sort_index</span></code> 的元组将被解释为索引的层级，而不是要求一个元组列表 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4370">GH 4370</a>)</p></li>
<li><p>所有偏移操作现在都返回 <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> 类型（而不是 datetime），Business/Week 频率以前不正确 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4069">GH 4069</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_excel</span></code> 现在将 <code class="docutils literal notranslate"><span class="pre">np.inf</span></code> 转换为字符串表示形式，可通过 <code class="docutils literal notranslate"><span class="pre">inf_rep</span></code> 关键字参数自定义（Excel 没有原生的 inf 表示形式）(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6782">GH 6782</a>)</p></li>
<li><p>将 <code class="docutils literal notranslate"><span class="pre">pandas.compat.scipy.scoreatpercentile</span></code> 替换为 <code class="docutils literal notranslate"><span class="pre">numpy.percentile</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6810">GH 6810</a>)</p></li>
<li><p>对 <code class="docutils literal notranslate"><span class="pre">datetime[ns]</span></code> Series 执行 <code class="docutils literal notranslate"><span class="pre">.quantile</span></code> 现在返回 <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> 对象而不是 <code class="docutils literal notranslate"><span class="pre">np.datetime64</span></code> 对象 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6810">GH 6810</a>)</p></li>
<li><p>对于传递给 <code class="docutils literal notranslate"><span class="pre">concat</span></code> 的无效类型，将 <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> 更改为 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6583">GH 6583</a>)</p></li>
<li><p>当 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 的 <code class="docutils literal notranslate"><span class="pre">data</span></code> 参数传递迭代器时，引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5357">GH 5357</a>)</p></li>
</ul>
</section>
<section id="display-changes">
<span id="whatsnew-0140-display"></span><h2>显示更改<a class="headerlink" href="v0.14.0.html#display-changes" title="Link to this heading">#</a></h2>
<ul>
<li><p>打印大型 DataFrame 的默认方式已更改。超出 <code class="docutils literal notranslate"><span class="pre">max_rows</span></code> 和/或 <code class="docutils literal notranslate"><span class="pre">max_columns</span></code> 的 DataFrame 现在以居中截断视图显示，这与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> 的打印方式一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5603">GH 5603</a>)。</p>
<p>在以前的版本中，一旦达到维度限制，DataFrame 就会被截断，并且省略号 (…​) 表示数据的一部分被截断。</p>
<img alt="The previous look of truncate." src="../_images/trunc_before.png">
<p>在当前版本中，大型 DataFrame 会居中截断，显示两个维度上的头部和尾部预览。</p>
<img alt="The new look." src="../_images/trunc_after.png">
</li>
<li><p>允许 <code class="docutils literal notranslate"><span class="pre">display.show_dimensions</span></code> 使用选项 <code class="docutils literal notranslate"><span class="pre">'truncate'</span></code>，仅在 frame 被截断时显示维度 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6547">GH 6547</a>)。</p>
<p><code class="docutils literal notranslate"><span class="pre">display.show_dimensions</span></code> 的默认值现在将是 <code class="docutils literal notranslate"><span class="pre">truncate</span></code>。这与 Series 显示长度的方式一致。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">dfd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....: </span>                   <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">   ....: </span>                   <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="go"># show dimensions since this is truncated</span>
<span class="gp">In [17]: </span><span class="k">with</span> <span class="n">pd</span><span class="o">.</span><span class="n">option_context</span><span class="p">(</span><span class="s1">'display.max_rows'</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'display.max_columns'</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">   ....: </span>                       <span class="s1">'display.show_dimensions'</span><span class="p">,</span> <span class="s1">'truncate'</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="nb">print</span><span class="p">(</span><span class="n">dfd</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="go">     0  ...   4</span>
<span class="go">0    0  ...   4</span>
<span class="go">..  ..  ...  ..</span>
<span class="go">4   20  ...  24</span>

<span class="go">[5 rows x 5 columns]</span>

<span class="go"># will not show dimensions since it is not truncated</span>
<span class="gp">In [18]: </span><span class="k">with</span> <span class="n">pd</span><span class="o">.</span><span class="n">option_context</span><span class="p">(</span><span class="s1">'display.max_rows'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">'display.max_columns'</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span>
<span class="gp">   ....: </span>                       <span class="s1">'display.show_dimensions'</span><span class="p">,</span> <span class="s1">'truncate'</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="nb">print</span><span class="p">(</span><span class="n">dfd</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="go">    0   1   2   3   4</span>
<span class="go">0   0   1   2   3   4</span>
<span class="go">1   5   6   7   8   9</span>
<span class="go">2  10  11  12  13  14</span>
<span class="go">3  15  16  17  18  19</span>
<span class="go">4  20  21  22  23  24</span>
</pre></div>
</div>
</li>
<li><p>当 MultiIndexed Series 的 <code class="docutils literal notranslate"><span class="pre">display.max_rows</span></code> 小于 Series 长度时，显示出现回归 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7101">GH 7101</a>)</p></li>
<li><p>修复了一个 bug，即当 <code class="docutils literal notranslate"><span class="pre">large_repr</span></code> 设置为 'info' 时，截断的 Series 或 DataFrame 的 HTML repr 未显示类名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7105">GH 7105</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.info()</span></code> 中的 <code class="docutils literal notranslate"><span class="pre">verbose</span></code> 关键字（控制是否缩短 <code class="docutils literal notranslate"><span class="pre">info</span></code> 表示形式）现在默认为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。这将遵循 <code class="docutils literal notranslate"><span class="pre">display.max_info_columns</span></code> 中的全局设置。全局设置可以通过 <code class="docutils literal notranslate"><span class="pre">verbose=True</span></code> 或 <code class="docutils literal notranslate"><span class="pre">verbose=False</span></code> 覆盖。</p></li>
<li><p>修复了一个 bug，即 <code class="docutils literal notranslate"><span class="pre">info</span></code> repr 未遵循 <code class="docutils literal notranslate"><span class="pre">display.max_info_columns</span></code> 设置 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6939">GH 6939</a>)</p></li>
<li><p>Offset/freq 信息现在在 Timestamp __repr__ 中 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4553">GH 4553</a>)</p></li>
</ul>
</section>
<section id="text-parsing-api-changes">
<span id="whatsnew-0140-parsing"></span><h2>文本解析 API 更改<a class="headerlink" href="v0.14.0.html#text-parsing-api-changes" title="Link to this heading">#</a></h2>
<p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>/<a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_table()</span></code></a> 现在对无效选项会发出更多警告，而不是回退到 <code class="docutils literal notranslate"><span class="pre">PythonParser</span></code>。</p>
<ul class="simple">
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>/<a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_table()</span></code></a> 中，当 <code class="docutils literal notranslate"><span class="pre">sep</span></code> 与 <code class="docutils literal notranslate"><span class="pre">delim_whitespace=True</span></code> 一起指定时，引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6607">GH 6607</a>)</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>/<a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_table()</span></code></a> 中，当 <code class="docutils literal notranslate"><span class="pre">engine='c'</span></code> 与不支持的选项一起指定时，引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6607">GH 6607</a>)</p></li>
<li><p>当回退到 python 解析器导致选项被忽略时，引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6607">GH 6607</a>)</p></li>
<li><p>当回退到 python 解析器且没有选项被忽略时，产生 <code class="xref py py-class docutils literal notranslate"><span class="pre">ParserWarning</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6607">GH 6607</a>)</p></li>
<li><p>如果未指定其他 C 不支持的选项，则在 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>/<a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_table()</span></code></a> 中将 <code class="docutils literal notranslate"><span class="pre">sep='\s+'</span></code> 转换为 <code class="docutils literal notranslate"><span class="pre">delim_whitespace=True</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6607">GH 6607</a>)</p></li>
</ul>
</section>
<section id="groupby-api-changes">
<span id="whatsnew-0140-groupby"></span><h2>GroupBy API 更改<a class="headerlink" href="v0.14.0.html#groupby-api-changes" title="Link to this heading">#</a></h2>
<p>某些 groupby 方法的行为更加一致</p>
<ul>
<li><p>groupby 的 <code class="docutils literal notranslate"><span class="pre">head</span></code> 和 <code class="docutils literal notranslate"><span class="pre">tail</span></code> 现在更像是 <code class="docutils literal notranslate"><span class="pre">filter</span></code> 而不是聚合</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">])</span>

<span class="gp">In [2]: </span><span class="n">g</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'A'</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">g</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># filters DataFrame</span>
<span class="gh">Out[3]:</span>
<span class="go">   A  B</span>
<span class="go">0  1  2</span>
<span class="go">2  5  6</span>

<span class="gp">In [4]: </span><span class="n">g</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>  <span class="c1"># used to simply fall-through</span>
<span class="gh">Out[4]:</span>
<span class="go">     A  B</span>
<span class="go">A</span>
<span class="go">1 0  1  2</span>
<span class="go">5 2  5  6</span>
</pre></div>
</div>
</li>
<li><p>groupby head 和 tail 遵守列选择</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">g</span><span class="p">[[</span><span class="s1">'B'</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[19]:</span>
<span class="go">   B</span>
<span class="go">0  2</span>
<span class="go">2  6</span>

<span class="go">[2 rows x 1 columns]</span>
</pre></div>
</div>
</li>
<li><p>groupby <code class="docutils literal notranslate"><span class="pre">nth</span></code> 现在默认进行缩减；通过传递 <code class="docutils literal notranslate"><span class="pre">as_index=False</span></code> 可以实现过滤。带有可选的 <code class="docutils literal notranslate"><span class="pre">dropna</span></code> 参数以忽略 NaN。请参阅<a class="reference internal" href="../user_guide/groupby.html#groupby-nth"><span class="std std-ref">文档</span></a>。</p>
<p>缩减</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">])</span>

<span class="gp">In [20]: </span><span class="n">g</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'A'</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="n">g</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gh">Out[21]: </span>
<span class="go">   A    B</span>
<span class="go">0  1  NaN</span>
<span class="go">2  5  6.0</span>

<span class="go">[2 rows x 2 columns]</span>

<span class="go"># this is equivalent to g.first()</span>
<span class="gp">In [22]: </span><span class="n">g</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="s1">'any'</span><span class="p">)</span>
<span class="gh">Out[22]: </span>
<span class="go">   A    B</span>
<span class="go">1  1  4.0</span>
<span class="go">2  5  6.0</span>

<span class="go">[2 rows x 2 columns]</span>

<span class="go"># this is equivalent to g.last()</span>
<span class="gp">In [23]: </span><span class="n">g</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="s1">'any'</span><span class="p">)</span>
<span class="gh">Out[23]: </span>
<span class="go">   A    B</span>
<span class="go">1  1  4.0</span>
<span class="go">2  5  6.0</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
<p>过滤</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="n">gf</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="gp">In [25]: </span><span class="n">gf</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gh">Out[25]: </span>
<span class="go">   A    B</span>
<span class="go">0  1  NaN</span>
<span class="go">2  5  6.0</span>

<span class="go">[2 rows x 2 columns]</span>

<span class="gp">In [26]: </span><span class="n">gf</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="s1">'any'</span><span class="p">)</span>
<span class="gh">Out[26]: </span>
<span class="go">   A    B</span>
<span class="go">1  1  4.0</span>
<span class="go">2  5  6.0</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p>对于非 Cython 函数，groupby 现在将不再返回分组列 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5610">GH 5610</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5614">GH 5614</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6732">GH 6732</a>)，因为它已经是索引。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">])</span>

<span class="gp">In [28]: </span><span class="n">g</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'A'</span><span class="p">)</span>

<span class="gp">In [29]: </span><span class="n">g</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="gh">Out[29]: </span>
<span class="go">   B</span>
<span class="go">A   </span>
<span class="go">1  1</span>
<span class="go">5  2</span>

<span class="go">[2 rows x 1 columns]</span>

<span class="gp">In [30]: </span><span class="n">g</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="gh">Out[30]: </span>
<span class="go">      B                                        </span>
<span class="go">  count mean       std  min  25%  50%  75%  max</span>
<span class="go">A                                              </span>
<span class="go">1   1.0  4.0       NaN  4.0  4.0  4.0  4.0  4.0</span>
<span class="go">5   2.0  7.0  1.414214  6.0  6.5  7.0  7.5  8.0</span>

<span class="go">[2 rows x 8 columns]</span>
</pre></div>
</div>
</li>
<li><p>传递 <code class="docutils literal notranslate"><span class="pre">as_index</span></code> 将使分组列保持原位（这在 0.14.0 中没有改变）</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [31]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">])</span>

<span class="gp">In [32]: </span><span class="n">g</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="gp">In [33]: </span><span class="n">g</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="gh">Out[33]: </span>
<span class="go">   A  B</span>
<span class="go">0  1  1</span>
<span class="go">1  5  2</span>

<span class="go">[2 rows x 2 columns]</span>

<span class="gp">In [34]: </span><span class="n">g</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="gh">Out[34]: </span>
<span class="go">   A     B                                        </span>
<span class="go">     count mean       std  min  25%  50%  75%  max</span>
<span class="go">0  1   1.0  4.0       NaN  4.0  4.0  4.0  4.0  4.0</span>
<span class="go">1  5   2.0  7.0  1.414214  6.0  6.5  7.0  7.5  8.0</span>

<span class="go">[2 rows x 9 columns]</span>
</pre></div>
</div>
</li>
<li><p>允许通过 <code class="docutils literal notranslate"><span class="pre">pd.Grouper</span></code> 指定更复杂的 groupby，例如同时按时间字段和字符串字段进行分组。请参阅<a class="reference internal" href="../user_guide/groupby.html#groupby-specify"><span class="std std-ref">文档</span></a>。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3794">GH 3794</a>)</p></li>
<li><p>执行 groupby 操作时更好地传播/保留 Series 名称</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SeriesGroupBy.agg</span></code> 将确保原始 Series 的 name 属性传播到结果中 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6265">GH 6265</a>)。</p></li>
<li><p>如果提供给 <code class="docutils literal notranslate"><span class="pre">GroupBy.apply</span></code> 的函数返回一个命名 Series，则该 Series 的名称将保留为 <code class="docutils literal notranslate"><span class="pre">GroupBy.apply</span></code> 返回的 DataFrame 的列索引名称 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6124">GH 6124</a>)。这有助于 <code class="docutils literal notranslate"><span class="pre">DataFrame.stack</span></code> 操作，其中列索引的名称用作包含透视数据的插入列的名称。</p></li>
</ul>
</li>
</ul>
</section>
<section id="sql">
<span id="whatsnew-0140-sql"></span><h2>SQL<a class="headerlink" href="v0.14.0.html#sql" title="Link to this heading">#</a></h2>
<p>SQL 读取和写入函数现在通过 SQLAlchemy 支持更多数据库类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/2717">GH 2717</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4163">GH 4163</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5950">GH 5950</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6292">GH 6292</a>)。所有 SQLAlchemy 支持的数据库都可以使用，例如 PostgreSQL、MySQL、Oracle、Microsoft SQL Server（请参阅 SQLAlchemy 文档中关于<a class="reference external" href="https://sqlalchemy.readthedocs.io/en/latest/dialects/index.html">包含的方言</a>）。</p>
<p>未来，提供 DBAPI 连接对象的功能将仅支持 sqlite3。 <code class="docutils literal notranslate"><span class="pre">'mysql'</span></code> 类型已被弃用。</p>
<p>引入了新函数 <a class="reference internal" href="../reference/api/pandas.read_sql_query.html#pandas.read_sql_query" title="pandas.read_sql_query"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql_query()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_sql_table.html#pandas.read_sql_table" title="pandas.read_sql_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql_table()</span></code></a>。函数 <a class="reference internal" href="../reference/api/pandas.read_sql.html#pandas.read_sql" title="pandas.read_sql"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql()</span></code></a> 作为前两个函数的便捷包装器保留，并将根据提供的输入（数据库表名或 SQL 查询）委托给特定函数。</p>
<p>实际上，您必须为 SQL 函数提供一个 SQLAlchemy <code class="docutils literal notranslate"><span class="pre">engine</span></code>。要与 SQLAlchemy 连接，您可以使用 <code class="xref py py-func docutils literal notranslate"><span class="pre">create_engine()</span></code> 函数从数据库 URI 创建一个 engine 对象。每个要连接的数据库只需创建一次 engine。对于内存中的 sqlite 数据库</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [35]: </span><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_engine</span>

<span class="go"># Create your connection.</span>
<span class="gp">In [36]: </span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">'sqlite:///:memory:'</span><span class="p">)</span>
</pre></div>
</div>
<p>然后，此 <code class="docutils literal notranslate"><span class="pre">engine</span></code> 可用于向该数据库写入或从中读取数据</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'A'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">'B'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]})</span>

<span class="gp">In [38]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'db_table'</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gh">Out[38]: </span><span class="go">3</span>
</pre></div>
</div>
<p>您可以通过指定表名从数据库读取数据</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [39]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_sql_table</span><span class="p">(</span><span class="s1">'db_table'</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
<span class="gh">Out[39]: </span>
<span class="go">   A  B</span>
<span class="go">0  1  a</span>
<span class="go">1  2  b</span>
<span class="go">2  3  c</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p>或通过指定 SQL 查询</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [40]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_sql_query</span><span class="p">(</span><span class="s1">'SELECT * FROM db_table'</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
<span class="gh">Out[40]: </span>
<span class="go">   A  B</span>
<span class="go">0  1  a</span>
<span class="go">1  2  b</span>
<span class="go">2  3  c</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p>SQL 函数的其他增强功能包括</p>
<ul class="simple">
<li><p>支持写入索引。这可以通过 <code class="docutils literal notranslate"><span class="pre">index</span></code> 关键字控制（默认值为 True）。</p></li>
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">index_label</span></code> 指定写入索引时使用的列标签。</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_sql_query.html#pandas.read_sql_query" title="pandas.read_sql_query"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql_query()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_sql_table.html#pandas.read_sql_table" title="pandas.read_sql_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sql_table()</span></code></a> 中，使用 <code class="docutils literal notranslate"><span class="pre">parse_dates</span></code> 关键字指定将字符串列解析为 datetime。</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>一些现有函数或函数别名已被弃用，并将在未来版本中移除。这包括：<code class="docutils literal notranslate"><span class="pre">tquery</span></code>, <code class="docutils literal notranslate"><span class="pre">uquery</span></code>, <code class="docutils literal notranslate"><span class="pre">read_frame</span></code>, <code class="docutils literal notranslate"><span class="pre">frame_query</span></code>, <code class="docutils literal notranslate"><span class="pre">write_frame</span></code>。</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>在使用 DBAPI 连接对象时，对“mysql”类型的支持已被弃用。MySQL 将通过 SQLAlchemy 引擎继续得到支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6900">GH 6900</a>)。</p>
</div>
</section>
<section id="multi-indexing-using-slicers">
<span id="whatsnew-0140-slicers"></span><h2>使用切片器进行多重索引<a class="headerlink" href="v0.14.0.html#multi-indexing-using-slicers" title="Link to this heading">#</a></h2>
<p>在 0.14.0 版本中，我们添加了一种切片 MultiIndexed 对象的新方法。您可以通过提供多个索引器来切片 MultiIndex。</p>
<p>您可以提供任何选择器，就像按标签索引一样，请参阅<a class="reference internal" href="../user_guide/indexing.html#indexing-label"><span class="std std-ref">按标签选择</span></a>，包括切片、标签列表、标签和布尔索引器。</p>
<p>您可以使用 <code class="docutils literal notranslate"><span class="pre">slice(None)</span></code> 来选择该层级的所有内容。您不需要指定所有更深层级，它们将被隐式地视为 <code class="docutils literal notranslate"><span class="pre">slice(None)</span></code>。</p>
<p>像往常一样，由于这是标签索引，切片器的<strong>两端</strong>都包含在内。</p>
<p>请参阅<a class="reference internal" href="../user_guide/advanced.html#advanced-mi-slicers"><span class="std std-ref">文档</span></a> 另请参阅相关问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6134">GH 6134</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4036">GH 4036</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3057">GH 3057</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/2598">GH 2598</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5641">GH 5641</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7106">GH 7106</a>)</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<blockquote>
<div><p>您应该在 <code class="docutils literal notranslate"><span class="pre">.loc</span></code> 指定符中指定所有轴，即<strong>索引</strong>和<strong>列</strong>的索引器。在某些模糊情况下，传递的索引器可能会被错误地解释为同时索引<em>两个</em>轴，而不是仅索引行上的 MultiIndex。</p>
<p>您应该这样做</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>  <span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="nb">slice</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="s1">'A3'</span><span class="p">),</span> <span class="o">...</span><span class="p">),</span> <span class="p">:]</span>  <span class="c1"># noqa: E901</span>

<span class="n">rather</span> <span class="n">than</span> <span class="n">this</span><span class="p">:</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="nb">slice</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="s1">'A3'</span><span class="p">),</span> <span class="o">...</span><span class="p">)]</span>  <span class="c1"># noqa: E901</span>
</pre></div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>您需要确保选择轴已完全按字典序排序！</p>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [41]: </span><span class="k">def</span><span class="w"> </span><span class="nf">mklbl</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="p">[</span><span class="s2">"</span><span class="si">%s%s</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
<span class="gp">   ....: </span>

<span class="gp">In [42]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([</span><span class="n">mklbl</span><span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....: </span>                                    <span class="n">mklbl</span><span class="p">(</span><span class="s1">'B'</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
<span class="gp">   ....: </span>                                    <span class="n">mklbl</span><span class="p">(</span><span class="s1">'C'</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....: </span>                                    <span class="n">mklbl</span><span class="p">(</span><span class="s1">'D'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="gp">   ....: </span>

<span class="gp">In [43]: </span><span class="n">columns</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">([(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">),</span> <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">),</span>
<span class="gp">   ....: </span>                                     <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">),</span> <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'bah'</span><span class="p">)],</span>
<span class="gp">   ....: </span>                                    <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">'lvl0'</span><span class="p">,</span> <span class="s1">'lvl1'</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="gp">In [44]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">columns</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">),</span>
<span class="gp">   ....: </span>                  <span class="nb">len</span><span class="p">(</span><span class="n">columns</span><span class="p">))),</span>
<span class="gp">   ....: </span>                  <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span>
<span class="gp">   ....: </span>                  <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [45]: </span><span class="n">df</span>
<span class="gh">Out[45]: </span>
<span class="go">lvl0           a         b     </span>
<span class="go">lvl1         bar  foo  bah  foo</span>
<span class="go">A0 B0 C0 D0    1    0    3    2</span>
<span class="go">         D1    5    4    7    6</span>
<span class="go">      C1 D0    9    8   11   10</span>
<span class="go">         D1   13   12   15   14</span>
<span class="go">      C2 D0   17   16   19   18</span>
<span class="go">...          ...  ...  ...  ...</span>
<span class="go">A3 B1 C1 D1  237  236  239  238</span>
<span class="go">      C2 D0  241  240  243  242</span>
<span class="go">         D1  245  244  247  246</span>
<span class="go">      C3 D0  249  248  251  250</span>
<span class="go">         D1  253  252  255  254</span>

<span class="go">[64 rows x 4 columns]</span>
</pre></div>
</div>
<p>使用切片、列表和标签进行基本的 MultiIndex 切片。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [46]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="nb">slice</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="s1">'A3'</span><span class="p">),</span> <span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="p">[</span><span class="s1">'C1'</span><span class="p">,</span> <span class="s1">'C3'</span><span class="p">]),</span> <span class="p">:]</span>
<span class="gh">Out[46]: </span>
<span class="go">lvl0           a         b     </span>
<span class="go">lvl1         bar  foo  bah  foo</span>
<span class="go">A1 B0 C1 D0   73   72   75   74</span>
<span class="go">         D1   77   76   79   78</span>
<span class="go">      C3 D0   89   88   91   90</span>
<span class="go">         D1   93   92   95   94</span>
<span class="go">   B1 C1 D0  105  104  107  106</span>
<span class="go">...          ...  ...  ...  ...</span>
<span class="go">A3 B0 C3 D1  221  220  223  222</span>
<span class="go">   B1 C1 D0  233  232  235  234</span>
<span class="go">         D1  237  236  239  238</span>
<span class="go">      C3 D0  249  248  251  250</span>
<span class="go">         D1  253  252  255  254</span>

<span class="go">[24 rows x 4 columns]</span>
</pre></div>
</div>
<p>您可以使用 <code class="docutils literal notranslate"><span class="pre">pd.IndexSlice</span></code> 来快捷创建这些切片</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [47]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span>

<span class="gp">In [48]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">[</span><span class="s1">'C1'</span><span class="p">,</span> <span class="s1">'C3'</span><span class="p">]],</span> <span class="n">idx</span><span class="p">[:,</span> <span class="s1">'foo'</span><span class="p">]]</span>
<span class="gh">Out[48]: </span>
<span class="go">lvl0           a    b</span>
<span class="go">lvl1         foo  foo</span>
<span class="go">A0 B0 C1 D0    8   10</span>
<span class="go">         D1   12   14</span>
<span class="go">      C3 D0   24   26</span>
<span class="go">         D1   28   30</span>
<span class="go">   B1 C1 D0   40   42</span>
<span class="go">...          ...  ...</span>
<span class="go">A3 B0 C3 D1  220  222</span>
<span class="go">   B1 C1 D0  232  234</span>
<span class="go">         D1  236  238</span>
<span class="go">      C3 D0  248  250</span>
<span class="go">         D1  252  254</span>

<span class="go">[32 rows x 2 columns]</span>
</pre></div>
</div>
<p>使用此方法可以同时对多个轴执行相当复杂的选择。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [49]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">'A1'</span><span class="p">,</span> <span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="s1">'foo'</span><span class="p">)]</span>
<span class="gh">Out[49]: </span>
<span class="go">lvl0        a    b</span>
<span class="go">lvl1      foo  foo</span>
<span class="go">B0 C0 D0   64   66</span>
<span class="go">      D1   68   70</span>
<span class="go">   C1 D0   72   74</span>
<span class="go">      D1   76   78</span>
<span class="go">   C2 D0   80   82</span>
<span class="go">...       ...  ...</span>
<span class="go">B1 C1 D1  108  110</span>
<span class="go">   C2 D0  112  114</span>
<span class="go">      D1  116  118</span>
<span class="go">   C3 D0  120  122</span>
<span class="go">      D1  124  126</span>

<span class="go">[16 rows x 2 columns]</span>

<span class="gp">In [50]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">[</span><span class="s1">'C1'</span><span class="p">,</span> <span class="s1">'C3'</span><span class="p">]],</span> <span class="n">idx</span><span class="p">[:,</span> <span class="s1">'foo'</span><span class="p">]]</span>
<span class="gh">Out[50]: </span>
<span class="go">lvl0           a    b</span>
<span class="go">lvl1         foo  foo</span>
<span class="go">A0 B0 C1 D0    8   10</span>
<span class="go">         D1   12   14</span>
<span class="go">      C3 D0   24   26</span>
<span class="go">         D1   28   30</span>
<span class="go">   B1 C1 D0   40   42</span>
<span class="go">...          ...  ...</span>
<span class="go">A3 B0 C3 D1  220  222</span>
<span class="go">   B1 C1 D0  232  234</span>
<span class="go">         D1  236  238</span>
<span class="go">      C3 D0  248  250</span>
<span class="go">         D1  252  254</span>

<span class="go">[32 rows x 2 columns]</span>
</pre></div>
</div>
<p>使用布尔索引器，您可以提供与<em>值</em>相关的选择。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [51]: </span><span class="n">mask</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">)]</span> <span class="o">&gt;</span> <span class="mi">200</span>

<span class="gp">In [52]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="p">:,</span> <span class="p">[</span><span class="s1">'C1'</span><span class="p">,</span> <span class="s1">'C3'</span><span class="p">]],</span> <span class="n">idx</span><span class="p">[:,</span> <span class="s1">'foo'</span><span class="p">]]</span>
<span class="gh">Out[52]: </span>
<span class="go">lvl0           a    b</span>
<span class="go">lvl1         foo  foo</span>
<span class="go">A3 B0 C1 D1  204  206</span>
<span class="go">      C3 D0  216  218</span>
<span class="go">         D1  220  222</span>
<span class="go">   B1 C1 D0  232  234</span>
<span class="go">         D1  236  238</span>
<span class="go">      C3 D0  248  250</span>
<span class="go">         D1  252  254</span>

<span class="go">[7 rows x 2 columns]</span>
</pre></div>
</div>
<p>您还可以指定 <code class="docutils literal notranslate"><span class="pre">axis</span></code> 参数给 <code class="docutils literal notranslate"><span class="pre">.loc</span></code>，以在单个轴上解释传递的切片器。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [53]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[:,</span> <span class="p">:,</span> <span class="p">[</span><span class="s1">'C1'</span><span class="p">,</span> <span class="s1">'C3'</span><span class="p">]]</span>
<span class="gh">Out[53]: </span>
<span class="go">lvl0           a         b     </span>
<span class="go">lvl1         bar  foo  bah  foo</span>
<span class="go">A0 B0 C1 D0    9    8   11   10</span>
<span class="go">         D1   13   12   15   14</span>
<span class="go">      C3 D0   25   24   27   26</span>
<span class="go">         D1   29   28   31   30</span>
<span class="go">   B1 C1 D0   41   40   43   42</span>
<span class="go">...          ...  ...  ...  ...</span>
<span class="go">A3 B0 C3 D1  221  220  223  222</span>
<span class="go">   B1 C1 D0  233  232  235  234</span>
<span class="go">         D1  237  236  239  238</span>
<span class="go">      C3 D0  249  248  251  250</span>
<span class="go">         D1  253  252  255  254</span>

<span class="go">[32 rows x 4 columns]</span>
</pre></div>
</div>
<p>此外，您还可以使用这些方法来<em>设置</em>值</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [54]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [55]: </span><span class="n">df2</span><span class="o">.</span><span class="n">loc</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[:,</span> <span class="p">:,</span> <span class="p">[</span><span class="s1">'C1'</span><span class="p">,</span> <span class="s1">'C3'</span><span class="p">]]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>

<span class="gp">In [56]: </span><span class="n">df2</span>
<span class="gh">Out[56]: </span>
<span class="go">lvl0           a         b     </span>
<span class="go">lvl1         bar  foo  bah  foo</span>
<span class="go">A0 B0 C0 D0    1    0    3    2</span>
<span class="go">         D1    5    4    7    6</span>
<span class="go">      C1 D0  -10  -10  -10  -10</span>
<span class="go">         D1  -10  -10  -10  -10</span>
<span class="go">      C2 D0   17   16   19   18</span>
<span class="go">...          ...  ...  ...  ...</span>
<span class="go">A3 B1 C1 D1  -10  -10  -10  -10</span>
<span class="go">      C2 D0  241  240  243  242</span>
<span class="go">         D1  245  244  247  246</span>
<span class="go">      C3 D0  -10  -10  -10  -10</span>
<span class="go">         D1  -10  -10  -10  -10</span>

<span class="go">[64 rows x 4 columns]</span>
</pre></div>
</div>
<p>您也可以使用可对齐对象的右侧。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [57]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [58]: </span><span class="n">df2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">[</span><span class="s1">'C1'</span><span class="p">,</span> <span class="s1">'C3'</span><span class="p">]],</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">df2</span> <span class="o">*</span> <span class="mi">1000</span>

<span class="gp">In [59]: </span><span class="n">df2</span>
<span class="gh">Out[59]: </span>
<span class="go">lvl0              a               b        </span>
<span class="go">lvl1            bar     foo     bah     foo</span>
<span class="go">A0 B0 C0 D0       1       0       3       2</span>
<span class="go">         D1       5       4       7       6</span>
<span class="go">      C1 D0    9000    8000   11000   10000</span>
<span class="go">         D1   13000   12000   15000   14000</span>
<span class="go">      C2 D0      17      16      19      18</span>
<span class="go">...             ...     ...     ...     ...</span>
<span class="go">A3 B1 C1 D1  237000  236000  239000  238000</span>
<span class="go">      C2 D0     241     240     243     242</span>
<span class="go">         D1     245     244     247     246</span>
<span class="go">      C3 D0  249000  248000  251000  250000</span>
<span class="go">         D1  253000  252000  255000  254000</span>

<span class="go">[64 rows x 4 columns]</span>
</pre></div>
</div>
</section>
<section id="plotting">
<span id="whatsnew-0140-plotting"></span><h2>绘图<a class="headerlink" href="v0.14.0.html#plotting" title="Link to this heading">#</a></h2>
<ul>
<li><p>来自 <code class="docutils literal notranslate"><span class="pre">DataFrame.plot</span></code> 的六边形箱体图，其中 <code class="docutils literal notranslate"><span class="pre">kind='hexbin'</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5478">GH 5478</a>)，请参阅<a class="reference internal" href="../user_guide/visualization.html#visualization-hexbin"><span class="std std-ref">文档</span></a>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.plot</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Series.plot</span></code> 现在支持通过指定 <code class="docutils literal notranslate"><span class="pre">kind='area'</span></code> 来绘制面积图 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6656">GH 6656</a>)，请参阅<a class="reference internal" href="../user_guide/visualization.html#visualization-area-plot"><span class="std std-ref">文档</span></a></p></li>
<li><p>来自 <code class="docutils literal notranslate"><span class="pre">Series.plot</span></code> 和 <code class="docutils literal notranslate"><span class="pre">DataFrame.plot</span></code> 的饼图，其中 <code class="docutils literal notranslate"><span class="pre">kind='pie'</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6976">GH 6976</a>)，请参阅<a class="reference internal" href="../user_guide/visualization.html#visualization-pie"><span class="std std-ref">文档</span></a>。</p></li>
<li><p>在 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Series</span></code> 对象的 <code class="docutils literal notranslate"><span class="pre">.plot</span></code> 方法中，现在支持绘制带有误差线的图表 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3796">GH 3796</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6834">GH 6834</a>)，请参阅<a class="reference internal" href="../user_guide/visualization.html#visualization-errorbars"><span class="std std-ref">文档</span></a>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.plot</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Series.plot</span></code> 现在支持 <code class="docutils literal notranslate"><span class="pre">table</span></code> 关键字，用于绘制 <code class="docutils literal notranslate"><span class="pre">matplotlib.Table</span></code>，请参阅<a class="reference internal" href="../user_guide/visualization.html#visualization-table"><span class="std std-ref">文档</span></a>。<code class="docutils literal notranslate"><span class="pre">table</span></code> 关键字可以接受以下值。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span>`: 不执行任何操作（默认）。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span>`: 使用调用 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 方法的 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 或 <code class="docutils literal notranslate"><span class="pre">Series</span></code> 绘制表格。数据将被转置以符合 matplotlib 的默认布局。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 或 <code class="docutils literal notranslate"><span class="pre">Series</span>`: 使用传入的数据绘制 matplotlib.table。数据将按照打印方法中显示的方式绘制（不会自动转置）。此外，还添加了辅助函数 <code class="docutils literal notranslate"><span class="pre">pandas.tools.plotting.table</span></code>，用于从 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Series</span></code> 创建表格，并将其添加到 <code class="docutils literal notranslate"><span class="pre">matplotlib.Axes</span></code> 中。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">plot(legend='reverse')</span></code> 现在将反转大多数图表类型的图例标签顺序。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6014">GH 6014</a>)</p></li>
<li><p>折线图和面积图可以通过 <code class="docutils literal notranslate"><span class="pre">stacked=True</span></code> 进行堆叠 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6656">GH 6656</a>)</p></li>
<li><p>以下关键字现在可用于 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a>，其中 <code class="docutils literal notranslate"><span class="pre">kind='bar'</span></code> 和 <code class="docutils literal notranslate"><span class="pre">kind='barh'</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">width</span>`: 指定条形宽度。在以前的版本中，固定值 0.5 会传递给 matplotlib 并且无法被覆盖。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6604">GH 6604</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">align</span>`: 指定条形对齐方式。默认值为 <code class="docutils literal notranslate"><span class="pre">center</span></code>（与 matplotlib 不同）。在以前的版本中，pandas 会将 <code class="docutils literal notranslate"><span class="pre">align='edge'</span></code> 传递给 matplotlib 并自行调整位置到 <code class="docutils literal notranslate"><span class="pre">center</span></code>，导致 <code class="docutils literal notranslate"><span class="pre">align</span></code> 关键字未能按预期应用。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4525">GH 4525</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">position</span>`: 指定条形图布局的相对对齐方式。从 0（左/底端）到 1（右/顶端）。默认值为 0.5（居中）。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6604">GH 6604</a>)</p></li>
</ul>
<p>由于默认 <code class="docutils literal notranslate"><span class="pre">align</span></code> 值更改，条形图的坐标现在位于整数值 (0.0, 1.0, 2.0 …) 上。这旨在使条形图与折线图位于相同的坐标上。但是，当您手动调整条形位置或绘图区域时，例如使用 <code class="docutils literal notranslate"><span class="pre">set_xlim</span></code>, <code class="docutils literal notranslate"><span class="pre">set_ylim</span></code> 等，条形图可能会出现意外差异。在这种情况下，请修改您的脚本以适应新坐标。</p>
</li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">parallel_coordinates()</span></code> 函数现在接受参数 <code class="docutils literal notranslate"><span class="pre">color</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">colors</span></code>。将引发 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> 以提示旧的 <code class="docutils literal notranslate"><span class="pre">colors</span></code> 参数在未来版本中将不再受支持。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH 6956</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">parallel_coordinates()</span></code> 和 <code class="xref py py-func docutils literal notranslate"><span class="pre">andrews_curves()</span></code> 函数现在接受位置参数 <code class="docutils literal notranslate"><span class="pre">frame</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">data</span></code>。如果按名称使用旧的 <code class="docutils literal notranslate"><span class="pre">data</span></code> 参数，将引发 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code>。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH 6956</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.boxplot.html#pandas.DataFrame.boxplot" title="pandas.DataFrame.boxplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.boxplot()</span></code></a> 现在支持 <code class="docutils literal notranslate"><span class="pre">layout</span></code> 关键字 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6769">GH 6769</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.boxplot.html#pandas.DataFrame.boxplot" title="pandas.DataFrame.boxplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.boxplot()</span></code></a> 有一个新的关键字参数 <code class="docutils literal notranslate"><span class="pre">return_type</span></code>。它接受 <code class="docutils literal notranslate"><span class="pre">'dict'</span></code>, <code class="docutils literal notranslate"><span class="pre">'axes'</span></code> 或 <code class="docutils literal notranslate"><span class="pre">'both'</span></code>，在这种情况下，会返回一个包含 matplotlib axes 和 matplotlib Lines 字典的命名元组。</p></li>
</ul>
</section>
<section id="prior-version-deprecations-changes">
<span id="whatsnew-0140-prior-deprecations"></span><h2>以前版本弃用/更改<a class="headerlink" href="v0.14.0.html#prior-version-deprecations-changes" title="Link to this heading">#</a></h2>
<p>截至 0.14.0 版本，之前的一些弃用功能已生效。</p>
<ul class="simple">
<li><p>移除 <code class="xref py py-class docutils literal notranslate"><span class="pre">DateRange</span></code>，转而使用 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6816">GH 6816</a>)</p></li>
<li><p>从 <code class="docutils literal notranslate"><span class="pre">DataFrame.sort</span></code> 中移除 <code class="docutils literal notranslate"><span class="pre">column</span></code> 关键字 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4370">GH 4370</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.set_eng_float_format.html#pandas.set_eng_float_format" title="pandas.set_eng_float_format"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_eng_float_format()</span></code></a> 中移除 <code class="docutils literal notranslate"><span class="pre">precision</span></code> 关键字 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/395">GH 395</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string" title="pandas.DataFrame.to_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html" title="pandas.DataFrame.to_html"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code></a> 中移除 <code class="docutils literal notranslate"><span class="pre">force_unicode</span></code> 关键字；这些函数默认以 unicode 编码 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/2224">GH 2224</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/2225">GH 2225</a>)</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="pandas.DataFrame.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string" title="pandas.DataFrame.to_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code></a> 中移除 <code class="docutils literal notranslate"><span class="pre">nanRep</span></code> 关键字 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/275">GH 275</a>)</p></li>
<li><p>从 <code class="xref py py-meth docutils literal notranslate"><span class="pre">HDFStore.select_column()</span></code> 中移除 <code class="docutils literal notranslate"><span class="pre">unique</span></code> 关键字 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3256">GH 3256</a>)</p></li>
<li><p>从 <code class="xref py py-func docutils literal notranslate"><span class="pre">Timestamp.offset()</span></code> 中移除 <code class="docutils literal notranslate"><span class="pre">inferTimeRule</span></code> 关键字 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/391">GH 391</a>)</p></li>
<li><p>从 <code class="xref py py-func docutils literal notranslate"><span class="pre">get_data_yahoo()</span></code> 和 <code class="xref py py-func docutils literal notranslate"><span class="pre">get_data_google()</span></code> 中移除 <code class="docutils literal notranslate"><span class="pre">name</span></code> 关键字 ( <a class="reference external" href="https://github.com/pandas-dev/pandas/commit/b921d1a2">commit b921d1a</a> )</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 构造函数中移除 <code class="docutils literal notranslate"><span class="pre">offset</span></code> 关键字 ( <a class="reference external" href="https://github.com/pandas-dev/pandas/commit/3136390">commit 3136390</a> )</p></li>
<li><p>从多个滚动矩统计函数中移除 <code class="docutils literal notranslate"><span class="pre">time_rule</span></code>，例如 <code class="xref py py-func docutils literal notranslate"><span class="pre">rolling_sum()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/1042">GH 1042</a>)</p></li>
<li><p>移除了 numpy 数组上的 neg <code class="docutils literal notranslate"><span class="pre">-</span></code> 布尔操作，转而使用 inv <code class="docutils literal notranslate"><span class="pre">~</span></code>，因为这将在 numpy 1.9 中弃用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6960">GH 6960</a>)</p></li>
</ul>
</section>
<section id="deprecations">
<span id="whatsnew-0140-deprecations"></span><h2>弃用<a class="headerlink" href="v0.14.0.html#deprecations" title="Link to this heading">#</a></h2>
<ul>
<li><p><a class="reference internal" href="../reference/api/pandas.pivot_table.html#pandas.pivot_table" title="pandas.pivot_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">pivot_table()</span></code></a>/<a class="reference internal" href="../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="pandas.DataFrame.pivot_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot_table()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.crosstab.html#pandas.crosstab" title="pandas.crosstab"><code class="xref py py-func docutils literal notranslate"><span class="pre">crosstab()</span></code></a> 函数现在接受参数 <code class="docutils literal notranslate"><span class="pre">index</span></code> 和 <code class="docutils literal notranslate"><span class="pre">columns</span></code>，而不是 <code class="docutils literal notranslate"><span class="pre">rows</span></code> 和 <code class="docutils literal notranslate"><span class="pre">cols</span></code>。将引发 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> 以提示旧的 <code class="docutils literal notranslate"><span class="pre">rows</span></code> 和 <code class="docutils literal notranslate"><span class="pre">cols</span></code> 参数在未来版本中将不再受支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5505">GH 5505</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates" title="pandas.DataFrame.drop_duplicates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.drop_duplicates()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.duplicated.html#pandas.DataFrame.duplicated" title="pandas.DataFrame.duplicated"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.duplicated()</span></code></a> 方法现在接受参数 <code class="docutils literal notranslate"><span class="pre">subset</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">cols</span></code>，以便更好地与 <a class="reference internal" href="../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna" title="pandas.DataFrame.dropna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.dropna()</span></code></a> 对齐。将引发 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> 以提示旧的 <code class="docutils literal notranslate"><span class="pre">cols</span></code> 参数在未来版本中将不再受支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6680">GH 6680</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="pandas.DataFrame.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel" title="pandas.DataFrame.to_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_excel()</span></code></a> 函数现在接受参数 <code class="docutils literal notranslate"><span class="pre">columns</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">cols</span></code>。将引发 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> 以提示旧的 <code class="docutils literal notranslate"><span class="pre">cols</span></code> 参数在未来版本中将不再受支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6645">GH 6645</a>)</p></li>
<li><p>当索引器与标量索引器和非浮点 Index 一起使用时，将发出 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> 警告 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4892">GH 4892</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6960">GH 6960</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># non-floating point indexes can only be indexed by integers / labels</span>
<span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">))[</span><span class="mf">3.0</span><span class="p">]</span>
<span class="go">        pandas/core/index.py:469: FutureWarning: scalar indexers for index type Int64Index should be integers and not floating point</span>
<span class="gh">Out[1]: </span><span class="go">1</span>

<span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mf">3.0</span><span class="p">]</span>
<span class="go">        pandas/core/index.py:469: FutureWarning: scalar indexers for index type Int64Index should be integers and not floating point</span>
<span class="gh">Out[2]: </span><span class="go">1</span>

<span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mf">3.0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">        pandas/core/index.py:527: FutureWarning: slice indexers when using iloc should be integers and not floating point</span>
<span class="gh">Out[3]:</span>
<span class="go">        3    1</span>
<span class="go">        dtype: int64</span>

<span class="go"># these are Float64Indexes, so integer or floating point is acceptable</span>
<span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">5.</span><span class="p">))[</span><span class="mi">3</span><span class="p">]</span>
<span class="gh">Out[4]: </span><span class="go">1</span>

<span class="gp">In [5]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">5.</span><span class="p">))[</span><span class="mf">3.0</span><span class="p">]</span>
<span class="gh">Out[6]: </span><span class="go">1</span>
</pre></div>
</div>
</li>
<li><p>Numpy 1.9 对弃用警告的兼容性 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6960">GH 6960</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Panel.shift()</span></code> 现在具有与 <a class="reference internal" href="../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift" title="pandas.DataFrame.shift"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.shift()</span></code></a> 匹配的函数签名。旧的位置参数 <code class="docutils literal notranslate"><span class="pre">lags</span></code> 已更改为关键字参数 <code class="docutils literal notranslate"><span class="pre">periods</span></code>，默认值为 1。如果按名称使用旧参数 <code class="docutils literal notranslate"><span class="pre">lags</span></code>，将引发 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code>。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6910">GH 6910</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.factorize.html#pandas.factorize" title="pandas.factorize"><code class="xref py py-func docutils literal notranslate"><span class="pre">factorize()</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">order</span></code> 关键字参数将被移除。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6926">GH 6926</a>)。</p></li>
<li><p>从 <a class="reference internal" href="../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs" title="pandas.DataFrame.xs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.xs()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Panel.major_xs()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Panel.minor_xs()</span></code> 中移除 <code class="docutils literal notranslate"><span class="pre">copy</span></code> 关键字。如果可能，将返回一个视图，否则将创建一个副本。以前用户可能会认为 <code class="docutils literal notranslate"><span class="pre">copy=False</span></code> 将<em>始终</em>返回一个视图。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6894">GH 6894</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">parallel_coordinates()</span></code> 函数现在接受参数 <code class="docutils literal notranslate"><span class="pre">color</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">colors</span></code>。将引发 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> 以提示旧的 <code class="docutils literal notranslate"><span class="pre">colors</span></code> 参数在未来版本中将不再受支持。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH 6956</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">parallel_coordinates()</span></code> 和 <code class="xref py py-func docutils literal notranslate"><span class="pre">andrews_curves()</span></code> 函数现在接受位置参数 <code class="docutils literal notranslate"><span class="pre">frame</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">data</span></code>。如果按名称使用旧的 <code class="docutils literal notranslate"><span class="pre">data</span></code> 参数，将引发 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code>。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH 6956</a>)</p></li>
<li><p>在使用 DBAPI 连接对象时，对“mysql”类型的支持已被弃用。MySQL 将通过 SQLAlchemy 引擎继续得到支持 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6900">GH 6900</a>)。</p></li>
<li><p>以下 <code class="docutils literal notranslate"><span class="pre">io.sql</span></code> 函数已被弃用：<code class="docutils literal notranslate"><span class="pre">tquery</span></code>, <code class="docutils literal notranslate"><span class="pre">uquery</span></code>, <code class="docutils literal notranslate"><span class="pre">read_frame</span></code>, <code class="docutils literal notranslate"><span class="pre">frame_query</span></code>, <code class="docutils literal notranslate"><span class="pre">write_frame</span></code>。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe" title="pandas.DataFrame.describe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">describe()</span></code></a> 中的 <code class="docutils literal notranslate"><span class="pre">percentile_width</span></code> 关键字参数已被弃用。请改用 <code class="docutils literal notranslate"><span class="pre">percentiles</span></code> 关键字，它接受一个要显示的百分位数列表。默认输出保持不变。</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">boxplot()</span></code> 的默认返回类型将在未来版本中从 dict 更改为 matplotlib Axes。您现在可以通过向 boxplot 传递 <code class="docutils literal notranslate"><span class="pre">return_type='axes'</span></code> 来使用未来的行为。</p></li>
</ul>
</section>
<section id="known-issues">
<span id="whatsnew-0140-knownissues"></span><h2>已知问题<a class="headerlink" href="v0.14.0.html#known-issues" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>OpenPyXL 2.0.0 破坏了向后兼容性 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7169">GH 7169</a>)</p></li>
</ul>
</section>
<section id="enhancements">
<span id="whatsnew-0140-enhancements"></span><h2>增强功能<a class="headerlink" href="v0.14.0.html#enhancements" title="Link to this heading">#</a></h2>
<ul>
<li><p>如果传入一个元组字典，DataFrame 和 Series 将创建 MultiIndex 对象，请参阅<a class="reference internal" href="../user_guide/dsintro.html#basics-dataframe-from-dict-of-tuples"><span class="std std-ref">文档</span></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3323">GH 3323</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [60]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">):</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">):</span> <span class="mi">0</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">):</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">):</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">):</span> <span class="mi">4</span><span class="p">})</span>
<span class="gp">   ....: </span>
<span class="gh">Out[60]: </span>
<span class="go">a  b    1</span>
<span class="go">   a    0</span>
<span class="go">   c    2</span>
<span class="go">b  a    3</span>
<span class="go">   b    4</span>
<span class="go">Length: 5, dtype: int64</span>

<span class="gp">In [61]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">):</span> <span class="p">{(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">):</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">):</span> <span class="mi">2</span><span class="p">},</span>
<span class="gp">   ....: </span>             <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">):</span> <span class="p">{(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">):</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">):</span> <span class="mi">4</span><span class="p">},</span>
<span class="gp">   ....: </span>             <span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">):</span> <span class="p">{(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">):</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">):</span> <span class="mi">6</span><span class="p">},</span>
<span class="gp">   ....: </span>             <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">):</span> <span class="p">{(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">):</span> <span class="mi">7</span><span class="p">,</span> <span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">):</span> <span class="mi">8</span><span class="p">},</span>
<span class="gp">   ....: </span>             <span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">):</span> <span class="p">{(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'D'</span><span class="p">):</span> <span class="mi">9</span><span class="p">,</span> <span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">):</span> <span class="mi">10</span><span class="p">}})</span>
<span class="gp">   ....: </span>
<span class="gh">Out[61]: </span>
<span class="go">       a              b      </span>
<span class="go">       b    a    c    a     b</span>
<span class="go">A B  1.0  4.0  5.0  8.0  10.0</span>
<span class="go">  C  2.0  3.0  6.0  7.0   NaN</span>
<span class="go">  D  NaN  NaN  NaN  NaN   9.0</span>

<span class="go">[3 rows x 5 columns]</span>
</pre></div>
</div>
</li>
<li><p>为 <code class="docutils literal notranslate"><span class="pre">Index</span></code> 添加了 <code class="docutils literal notranslate"><span class="pre">sym_diff</span></code> 方法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5543">GH 5543</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.to_latex</span></code> 现在接受 <code class="docutils literal notranslate"><span class="pre">longtable</span></code> 关键字，如果设置为 True，将返回一个 <code class="docutils literal notranslate"><span class="pre">longtable</span></code> 环境中的表格。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6617">GH 6617</a>)</p></li>
<li><p>添加选项以关闭 <code class="docutils literal notranslate"><span class="pre">DataFrame.to_latex</span></code> 中的转义 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6472">GH 6472</a>)</p></li>
<li><p>如果未指定关键字 <code class="docutils literal notranslate"><span class="pre">sep</span></code>，<code class="docutils literal notranslate"><span class="pre">pd.read_clipboard</span></code> 将尝试检测从电子表格复制的数据并相应地进行解析。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6223">GH 6223</a>)</p></li>
<li><p>将单索引 DataFrame 与 MultiIndexed DataFrame 连接 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3662">GH 3662</a>)</p>
<p>请参阅<a class="reference internal" href="../user_guide/merging.html#merging-join-on-mi"><span class="std std-ref">文档</span></a>。目前尚不支持在左侧和右侧同时连接 MultiIndex DataFrames。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [62]: </span><span class="n">household</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'household_id'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">   ....: </span>                          <span class="s1">'male'</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">   ....: </span>                          <span class="s1">'wealth'</span><span class="p">:</span> <span class="p">[</span><span class="mf">196087.3</span><span class="p">,</span> <span class="mf">316478.7</span><span class="p">,</span> <span class="mi">294750</span><span class="p">]</span>
<span class="gp">   ....: </span>                          <span class="p">},</span>
<span class="gp">   ....: </span>                         <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'household_id'</span><span class="p">,</span> <span class="s1">'male'</span><span class="p">,</span> <span class="s1">'wealth'</span><span class="p">]</span>
<span class="gp">   ....: </span>                         <span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'household_id'</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [63]: </span><span class="n">household</span>
<span class="gh">Out[63]: </span>
<span class="go">              male    wealth</span>
<span class="go">household_id                </span>
<span class="go">1                0  196087.3</span>
<span class="go">2                1  316478.7</span>
<span class="go">3                0  294750.0</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [64]: </span><span class="n">portfolio</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'household_id'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">   ....: </span>                          <span class="s1">'asset_id'</span><span class="p">:</span> <span class="p">[</span><span class="s2">"nl0000301109"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                       <span class="s2">"nl0000289783"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                       <span class="s2">"gb00b03mlx29"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                       <span class="s2">"gb00b03mlx29"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                       <span class="s2">"lu0197800237"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                       <span class="s2">"nl0000289965"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                       <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">   ....: </span>                          <span class="s1">'name'</span><span class="p">:</span> <span class="p">[</span><span class="s2">"ABN Amro"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                   <span class="s2">"Robeco"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                   <span class="s2">"Royal Dutch Shell"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                   <span class="s2">"Royal Dutch Shell"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                   <span class="s2">"AAB Eastern Europe Equity Fund"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                   <span class="s2">"Postbank BioTech Fonds"</span><span class="p">,</span>
<span class="gp">   ....: </span>                                   <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">   ....: </span>                          <span class="s1">'share'</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
<span class="gp">   ....: </span>                          <span class="p">},</span>
<span class="gp">   ....: </span>                         <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'household_id'</span><span class="p">,</span> <span class="s1">'asset_id'</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">,</span> <span class="s1">'share'</span><span class="p">]</span>
<span class="gp">   ....: </span>                         <span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">'household_id'</span><span class="p">,</span> <span class="s1">'asset_id'</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="gp">In [65]: </span><span class="n">portfolio</span>
<span class="gh">Out[65]: </span>
<span class="go">                                                     name  share</span>
<span class="go">household_id asset_id                                           </span>
<span class="go">1            nl0000301109                        ABN Amro   1.00</span>
<span class="go">2            nl0000289783                          Robeco   0.40</span>
<span class="go">             gb00b03mlx29               Royal Dutch Shell   0.60</span>
<span class="go">3            gb00b03mlx29               Royal Dutch Shell   0.15</span>
<span class="go">             lu0197800237  AAB Eastern Europe Equity Fund   0.60</span>
<span class="go">             nl0000289965          Postbank BioTech Fonds   0.25</span>
<span class="go">4            NaN                                      NaN   1.00</span>

<span class="go">[7 rows x 2 columns]</span>

<span class="gp">In [66]: </span><span class="n">household</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">portfolio</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">'inner'</span><span class="p">)</span>
<span class="gh">Out[66]: </span>
<span class="go">                           male  ...  share</span>
<span class="go">household_id asset_id            ...       </span>
<span class="go">1            nl0000301109     0  ...   1.00</span>
<span class="go">2            nl0000289783     1  ...   0.40</span>
<span class="go">             gb00b03mlx29     1  ...   0.60</span>
<span class="go">3            gb00b03mlx29     0  ...   0.15</span>
<span class="go">             lu0197800237     0  ...   0.60</span>
<span class="go">             nl0000289965     0  ...   0.25</span>

<span class="go">[6 rows x 4 columns]</span>
</pre></div>
</div>
</li>
<li><p>现在在使用 <code class="docutils literal notranslate"><span class="pre">DataFrame.to_csv</span></code> 时可以指定 <code class="docutils literal notranslate"><span class="pre">quotechar</span></code>、<code class="docutils literal notranslate"><span class="pre">doublequote</span></code> 和 <code class="docutils literal notranslate"><span class="pre">escapechar</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5414">GH 5414</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4528">GH 4528</a>)</p></li>
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">sort_remaining</span></code> 布尔关键字参数，仅按 MultiIndex 的指定级别进行部分排序。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3984">GH 3984</a>)</p></li>
<li><p>为 <code class="docutils literal notranslate"><span class="pre">TimeStamp</span></code> 和 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> 添加了 <code class="docutils literal notranslate"><span class="pre">to_julian_date</span></code>。儒略日期主要用于天文学，表示从公元前 4713 年 1 月 1 日中午开始的天数。由于 pandas 中使用纳秒来定义时间，因此可使用的实际日期范围是公元 1678 年到公元 2262 年。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4041">GH 4041</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.to_stata</span></code> 现在将检查数据与 Stata 数据类型的兼容性，并在需要时进行向上转换。如果无法无损向上转换，则会发出警告 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6327">GH 6327</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.to_stata</span></code> 和 <code class="docutils literal notranslate"><span class="pre">StataWriter</span></code> 现在将接受关键字参数 <code class="docutils literal notranslate"><span class="pre">time_stamp</span></code> 和 <code class="docutils literal notranslate"><span class="pre">data_label</span></code>，允许在创建文件时设置时间戳和数据集标签。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6545">GH 6545</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas.io.gbq</span></code> 现在能正确处理 unicode 字符串的读取。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5940">GH 5940</a>)</p></li>
<li><p>现在可以使用<a class="reference internal" href="../user_guide/timeseries.html#timeseries-holiday"><span class="std std-ref">假日日历</span></a>，并可与 <code class="docutils literal notranslate"><span class="pre">CustomBusinessDay</span></code> 偏移量一起使用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6719">GH 6719</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Float64Index</span></code> 现在由 <code class="docutils literal notranslate"><span class="pre">float64</span></code> dtype ndarray 支持，而不是 <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype 数组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6471">GH 6471</a>)。</p></li>
<li><p>实现了 <code class="docutils literal notranslate"><span class="pre">Panel.pct_change</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6904">GH 6904</a>)</p></li>
<li><p>为滚动矩函数添加了 <code class="docutils literal notranslate"><span class="pre">how</span></code> 选项，用于指定如何处理重采样；<code class="xref py py-func docutils literal notranslate"><span class="pre">rolling_max()</span></code> 默认为 max，<code class="xref py py-func docutils literal notranslate"><span class="pre">rolling_min()</span></code> 默认为 min，所有其他函数默认为 mean (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6297">GH 6297</a>)</p></li>
<li><p>现在可以使用 <code class="docutils literal notranslate"><span class="pre">CustomBusinessMonthBegin</span></code> 和 <code class="docutils literal notranslate"><span class="pre">CustomBusinessMonthEnd</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6866">GH 6866</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.quantile.html#pandas.Series.quantile" title="pandas.Series.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.quantile()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.quantile.html#pandas.DataFrame.quantile" title="pandas.DataFrame.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.quantile()</span></code></a> 现在接受一个分位数数组。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe" title="pandas.DataFrame.describe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">describe()</span></code></a> 现在接受一个百分位数数组，用于包含在汇总统计中 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4196">GH 4196</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pivot_table</span></code> 现在可以接受按 <code class="docutils literal notranslate"><span class="pre">index</span></code> 和 <code class="docutils literal notranslate"><span class="pre">columns</span></code> 关键字指定的 <code class="docutils literal notranslate"><span class="pre">Grouper</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6913">GH 6913</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [67]: </span><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>

<span class="gp">In [68]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">   ....: </span>    <span class="s1">'Branch'</span><span class="p">:</span> <span class="s1">'A A A A A B'</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span>
<span class="gp">   ....: </span>    <span class="s1">'Buyer'</span><span class="p">:</span> <span class="s1">'Carl Mark Carl Carl Joe Joe'</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span>
<span class="gp">   ....: </span>    <span class="s1">'Quantity'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">   ....: </span>    <span class="s1">'Date'</span><span class="p">:</span> <span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">   ....: </span>             <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....: </span>             <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">   ....: </span>             <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">   ....: </span>             <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">   ....: </span>             <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)],</span>
<span class="gp">   ....: </span>    <span class="s1">'PayDay'</span><span class="p">:</span> <span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">   ....: </span>               <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....: </span>               <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">   ....: </span>               <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">   ....: </span>               <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">   ....: </span>               <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]})</span>
<span class="gp">   ....: </span>

<span class="gp">In [69]: </span><span class="n">df</span>
<span class="gh">Out[69]: </span>
<span class="go">  Branch Buyer  Quantity                Date              PayDay</span>
<span class="go">0      A  Carl         1 2013-11-01 13:00:00 2013-10-04 00:00:00</span>
<span class="go">1      A  Mark         3 2013-09-01 13:05:00 2013-10-15 13:05:00</span>
<span class="go">2      A  Carl         5 2013-10-01 20:00:00 2013-09-05 20:00:00</span>
<span class="go">3      A  Carl         1 2013-10-02 10:00:00 2013-11-02 10:00:00</span>
<span class="go">4      A   Joe         8 2013-11-01 20:00:00 2013-10-07 20:00:00</span>
<span class="go">5      B   Joe         1 2013-10-02 10:00:00 2013-09-05 10:00:00</span>

<span class="go">[6 rows x 5 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [75]: </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="s1">'Quantity'</span><span class="p">,</span>
<span class="gp">   ....: </span>               <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Grouper</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="s1">'M'</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">'Date'</span><span class="p">),</span>
<span class="gp">   ....: </span>               <span class="n">columns</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Grouper</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="s1">'M'</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">'PayDay'</span><span class="p">),</span>
<span class="gp">   ....: </span>               <span class="n">aggfunc</span><span class="o">=</span><span class="s2">"sum"</span><span class="p">)</span>
<span class="gh">Out[75]:</span>
<span class="go">PayDay      2013-09-30  2013-10-31  2013-11-30</span>
<span class="go">Date</span>
<span class="go">2013-09-30         NaN         3.0         NaN</span>
<span class="go">2013-10-31         6.0         NaN         1.0</span>
<span class="go">2013-11-30         NaN         9.0         NaN</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
</li>
<li><p>字符串数组可以按指定宽度换行 (<code class="docutils literal notranslate"><span class="pre">str.wrap</span></code>) (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6999">GH 6999</a>)</p></li>
<li><p>为 Series 添加了 <a class="reference internal" href="../reference/api/pandas.Series.nsmallest.html#pandas.Series.nsmallest" title="pandas.Series.nsmallest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">nsmallest()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.nlargest.html#pandas.Series.nlargest" title="pandas.Series.nlargest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.nlargest()</span></code></a> 方法，请参阅<a class="reference internal" href="../user_guide/basics.html#basics-nsorted"><span class="std std-ref">文档</span></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3960">GH 3960</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> 完全支持像 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> 一样的部分字符串索引 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7043">GH 7043</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [76]: </span><span class="n">prng</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="s1">'2013-01-01 09:00'</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">'H'</span><span class="p">)</span>

<span class="gp">In [77]: </span><span class="n">ps</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">prng</span><span class="p">)),</span> <span class="n">index</span><span class="o">=</span><span class="n">prng</span><span class="p">)</span>

<span class="gp">In [78]: </span><span class="n">ps</span>
<span class="gh">Out[78]:</span>
<span class="go">2013-01-01 09:00    0.015696</span>
<span class="go">2013-01-01 10:00   -2.242685</span>
<span class="go">2013-01-01 11:00    1.150036</span>
<span class="go">2013-01-01 12:00    0.991946</span>
<span class="go">2013-01-01 13:00    0.953324</span>
<span class="go">                      ...</span>
<span class="go">2013-01-05 08:00    0.285296</span>
<span class="go">2013-01-05 09:00    0.484288</span>
<span class="go">2013-01-05 10:00    1.363482</span>
<span class="go">2013-01-05 11:00   -0.781105</span>
<span class="go">2013-01-05 12:00   -0.468018</span>
<span class="go">Freq: H, Length: 100, dtype: float64</span>

<span class="gp">In [79]: </span><span class="n">ps</span><span class="p">[</span><span class="s1">'2013-01-02'</span><span class="p">]</span>
<span class="gh">Out[79]:</span>
<span class="go">2013-01-02 00:00    0.553439</span>
<span class="go">2013-01-02 01:00    1.318152</span>
<span class="go">2013-01-02 02:00   -0.469305</span>
<span class="go">2013-01-02 03:00    0.675554</span>
<span class="go">2013-01-02 04:00   -1.817027</span>
<span class="go">                      ...</span>
<span class="go">2013-01-02 19:00    0.036142</span>
<span class="go">2013-01-02 20:00   -2.074978</span>
<span class="go">2013-01-02 21:00    0.247792</span>
<span class="go">2013-01-02 22:00   -0.897157</span>
<span class="go">2013-01-02 23:00   -0.136795</span>
<span class="go">Freq: H, Length: 24, dtype: float64</span>
</pre></div>
</div>
</li>
<li><p>xlrd >= 0.9.3 后，<code class="docutils literal notranslate"><span class="pre">read_excel</span></code> 现在可以读取 Excel 日期和时间中的毫秒。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5945">GH 5945</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.stats.moments.rolling_var</span></code> 现在使用 Welford 方法以提高数值稳定性 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6817">GH 6817</a>)</p></li>
<li><p>pd.expanding_apply 和 pd.rolling_apply 现在接受传递给 func 的 args 和 kwargs (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6289">GH 6289</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.rank()</span></code> 现在具有百分比排名选项 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5971">GH 5971</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.rank()</span></code> 现在具有百分比排名选项 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5971">GH 5971</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.rank()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">DataFrame.rank()</span></code> 现在接受 <code class="docutils literal notranslate"><span class="pre">method='dense'</span></code> 以实现无间隙排名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6514">GH 6514</a>)</p></li>
<li><p>支持使用 xlwt 传递 <code class="docutils literal notranslate"><span class="pre">encoding</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3710">GH 3710</a>)</p></li>
<li><p>重构 Block 类，移除 <code class="docutils literal notranslate"><span class="pre">Block.items</span></code> 属性以避免项目处理中的重复 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6745">GH 6745</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6988">GH 6988</a>)。</p></li>
<li><p>测试语句已更新，使用专门的断言 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6175">GH 6175</a>)</p></li>
</ul>
</section>
<section id="performance">
<span id="whatsnew-0140-performance"></span><h2>性能<a class="headerlink" href="v0.14.0.html#performance" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">DatetimeConverter</span></code> 将 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> 转换为浮点序数时性能提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6636">GH 6636</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.shift</span></code> 的性能提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5609">GH 5609</a>)</p></li>
<li><p>索引 MultiIndexed Series 时的性能提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5567">GH 5567</a>)</p></li>
<li><p>单 dtype 索引的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6484">GH 6484</a>)</p></li>
<li><p>通过移除有问题的缓存（例如 MonthEnd,BusinessMonthEnd），改进了使用特定偏移量构造 DataFrame 的性能 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6479">GH 6479</a>)</p></li>
<li><p>提高 <code class="docutils literal notranslate"><span class="pre">CustomBusinessDay</span></code> 的性能 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6584">GH 6584</a>)</p></li>
<li><p>提高 Series 上带有字符串键的切片索引性能 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6341">GH 6341</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6372">GH 6372</a>)</p></li>
<li><p>从可迭代对象读取指定行数时，<code class="docutils literal notranslate"><span class="pre">DataFrame.from_records</span></code> 的性能提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6700">GH 6700</a>)</p></li>
<li><p>整数 dtype 的 timedelta 转换性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6754">GH 6754</a>)</p></li>
<li><p>兼容 pickle 的性能提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6899">GH 6899</a>)</p></li>
<li><p>通过优化 <code class="docutils literal notranslate"><span class="pre">take_2d</span></code>，提高某些重新索引操作的性能 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6749">GH 6749</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GroupBy.count()</span></code> 现在在 Cython 中实现，对于大量分组来说速度更快 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7016">GH 7016</a>)。</p></li>
</ul>
</section>
<section id="experimental">
<h2>实验性功能<a class="headerlink" href="v0.14.0.html#experimental" title="Link to this heading">#</a></h2>
<p>0.14.0 中没有实验性更改</p>
</section>
<section id="bug-fixes">
<span id="whatsnew-0140-bug-fixes"></span><h2>错误修复<a class="headerlink" href="v0.14.0.html#bug-fixes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Series ValueError 中的错误，当索引与数据不匹配时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6532">GH 6532</a>)</p></li>
<li><p>防止由于 HDFStore 表格格式不支持 MultiIndex 而导致的段错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/1848">GH 1848</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.DataFrame.sort_index</span></code> 中的错误，当 <code class="docutils literal notranslate"><span class="pre">ascending=False</span></code> 时，mergesort 不稳定 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6399">GH 6399</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.tseries.frequencies.to_offset</span></code> 中的错误，当参数包含前导零时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6391">GH 6391</a>)</p></li>
<li><p>开发版本中版本字符串生成器的错误，在浅克隆/从 tarball 安装时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6127">GH 6127</a>)</p></li>
<li><p>当前年份 <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> / <code class="docutils literal notranslate"><span class="pre">to_datetime</span></code> 的时区解析不一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5958">GH 5958</a>)</p></li>
<li><p>重新排序索引时的索引错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6252">GH 6252</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6254">GH 6254</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.xs</span></code> 在 Series 多索引中的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6258">GH 6258</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5684">GH 5684</a>)</p></li>
<li><p>将字符串类型转换为具有指定频率的 DatetimeIndex 时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6273">GH 6273</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6274">GH 6274</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval</span></code> 中的错误，当表达式过大时类型提升失败 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6205">GH 6205</a>)</p></li>
<li><p>interpolate 中 <code class="docutils literal notranslate"><span class="pre">inplace=True</span></code> 时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6281">GH 6281</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HDFStore.remove</span></code> 现在处理 start 和 stop (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6177">GH 6177</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HDFStore.select_as_multiple</span></code> 处理 start 和 stop 的方式与 <code class="docutils literal notranslate"><span class="pre">select</span></code> 相同 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6177">GH 6177</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HDFStore.select_as_coordinates</span></code> 和 <code class="docutils literal notranslate"><span class="pre">select_column</span></code> 可与导致过滤的 <code class="docutils literal notranslate"><span class="pre">where</span></code> 子句一起使用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6177">GH 6177</a>)</p></li>
<li><p>非唯一索引连接的回归 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6329">GH 6329</a>)</p></li>
<li><p>groupby <code class="docutils literal notranslate"><span class="pre">agg</span></code> 与单个函数和混合类型框架的问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6337">GH 6337</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code> 中的错误，当传递非 <code class="docutils literal notranslate"><span class="pre">bool</span></code> 类型的 <code class="docutils literal notranslate"><span class="pre">to_replace</span></code> 参数时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6332">GH 6332</a>)</p></li>
<li><p>在 MultiIndex 赋值中尝试在不同级别对齐时引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3738">GH 3738</a>)</p></li>
<li><p>通过布尔索引设置复杂 dtype 时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6345">GH 6345</a>)</p></li>
<li><p>TimeGrouper/resample 中的错误，当遇到非单调 DatetimeIndex 时会返回无效结果。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4161">GH 4161</a>)</p></li>
<li><p>TimeGrouper/resample 中索引名称传播的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4161">GH 4161</a>)</p></li>
<li><p>TimeGrouper 具有与其余分组器更兼容的 API（例如缺少 <code class="docutils literal notranslate"><span class="pre">groups</span></code>） (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3881">GH 3881</a>)</p></li>
<li><p>使用 TimeGrouper 进行多次分组时，取决于目标列顺序的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6764">GH 6764</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.eval</span></code> 中的错误，当解析包含 <code class="docutils literal notranslate"><span class="pre">'&amp;'</span></code> 等可能标记的字符串时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6351">GH 6351</a>)</p></li>
<li><p>正确处理 Panels 中 <code class="docutils literal notranslate"><span class="pre">-inf</span></code> 位置的错误，当除以整数 0 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6178">GH 6178</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.shift</span></code> 在 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> 时引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6371">GH 6371</a>)</p></li>
<li><p>禁用剪贴板测试直到发布（使用 <code class="docutils literal notranslate"><span class="pre">nosetests</span> <span class="pre">-A</span> <span class="pre">disabled</span></code> 在本地运行） (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6048">GH 6048</a>)。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code> 中的错误，当传递包含不在要替换值中的键的嵌套 <code class="docutils literal notranslate"><span class="pre">dict</span></code> 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6342">GH 6342</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str.match</span></code> 忽略了 na 标志 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6609">GH 6609</a>)。</p></li>
<li><p>take 中重复列未合并的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6240">GH 6240</a>)</p></li>
<li><p>interpolate 中更改 dtype 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6290">GH 6290</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.get</span></code> 中的错误，使用了有缺陷的访问方法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6383">GH 6383</a>)</p></li>
<li><p>hdfstore 查询中的错误，形式为 <code class="docutils literal notranslate"><span class="pre">where=[('date',</span> <span class="pre">'&gt;=',</span> <span class="pre">datetime(2013,1,1)),</span> <span class="pre">('date',</span> <span class="pre">'&lt;=',</span> <span class="pre">datetime(2014,1,1))]</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6313">GH 6313</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.dropna</span></code> 在重复索引中的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6355">GH 6355</a>)</p></li>
<li><p>从 0.12 版开始，链接 getitem 索引与嵌入列表类似对象的回归 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6394">GH 6394</a>)</p></li>
<li><p>带有 NaN 的 <code class="docutils literal notranslate"><span class="pre">Float64Index</span></code> 比较不正确 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6401">GH 6401</a>)</p></li>
<li><p>现在包含 <code class="docutils literal notranslate"><span class="pre">@</span></code> 字符的字符串的 <code class="docutils literal notranslate"><span class="pre">eval</span></code> / <code class="docutils literal notranslate"><span class="pre">query</span></code> 表达式将起作用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6366">GH 6366</a>)。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.reindex</span></code> 中的错误，当指定 <code class="docutils literal notranslate"><span class="pre">method</span></code> 并且存在一些 NaN 值时不一致（在重采样中注意到） (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6418">GH 6418</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a> 中的错误，其中嵌套字典错误地依赖于字典键和值的顺序 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5338">GH 5338</a>)。</p></li>
<li><p>与空对象连接时的性能问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3259">GH 3259</a>)</p></li>
<li><p>澄清带有 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> 值的 <code class="docutils literal notranslate"><span class="pre">Index</span></code> 对象上的 <code class="docutils literal notranslate"><span class="pre">sym_diff</span></code> 排序 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6444">GH 6444</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MultiIndex.from_product</span></code> 在以 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> 作为输入时的回归 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6439">GH 6439</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str.extract</span></code> 中的错误，当传递非默认索引时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6348">GH 6348</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str.split</span></code> 中的错误，当传递 <code class="docutils literal notranslate"><span class="pre">pat=None</span></code> 和 <code class="docutils literal notranslate"><span class="pre">n=1</span></code> 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6466">GH 6466</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">io.data.DataReader</span></code> 中的错误，当传递 <code class="docutils literal notranslate"><span class="pre">"F-F_Momentum_Factor"</span></code> 和 <code class="docutils literal notranslate"><span class="pre">data_source="famafrench"</span></code> 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6460">GH 6460</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> Series 求和时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6462">GH 6462</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resample</span></code> 在有时区和特定偏移量时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6397">GH 6397</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iat/iloc</span></code> 在 Series 上带有重复索引时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6493">GH 6493</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">read_html</span></code> 中的错误，其中 NaN 值被错误地用于表示文本中的缺失值。为了与 pandas 的其余部分保持一致，应使用空字符串 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5129">GH 5129</a>)。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">read_html</span></code> 测试中的错误，其中重定向的无效 URL 会导致一个测试失败 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6445">GH 6445</a>)。</p></li>
<li><p>在使用 <code class="docutils literal notranslate"><span class="pre">.loc</span></code> 对非唯一索引进行多轴索引时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6504">GH 6504</a>)</p></li>
<li><p>在 DataFrame 的列轴上进行切片索引时导致 _ref_locs 损坏的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6525">GH 6525</a>)</p></li>
<li><p>从 0.13 版开始，在 Series 创建中处理 numpy <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 非纳秒 dtype 时的回归 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6529">GH 6529</a>)</p></li>
<li><p>传递给 <code class="docutils literal notranslate"><span class="pre">set_index</span></code> 的 MultiIndex 的 <code class="docutils literal notranslate"><span class="pre">.names</span></code> 属性现在得以保留 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6459">GH 6459</a>)。</p></li>
<li><p>setitem 中的错误，当具有重复索引和可对齐的 rhs 时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6541">GH 6541</a>)</p></li>
<li><p>setitem 中 <code class="docutils literal notranslate"><span class="pre">.loc</span></code> 在混合整数索引上的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6546">GH 6546</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.read_stata</span></code> 中的错误，它会使用错误的数据类型和缺失值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6327">GH 6327</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.to_stata</span></code> 中的错误，在某些情况下导致数据丢失，并且可能使用错误的数据类型和缺失值导出 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6335">GH 6335</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StataWriter</span></code> 将字符串列中的缺失值替换为空字符串 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6802">GH 6802</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> 加减法中类型不一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6543">GH 6543</a>)</p></li>
<li><p>在 Timestamp 加减法中保留频率的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4547">GH 4547</a>)</p></li>
<li><p>空列表查找中的错误导致 <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> 异常 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6536">GH 6536</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6551">GH 6551</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.quantile</span></code> 在 <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype 上引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6555">GH 6555</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.xs</span></code> 在级别中存在 <code class="docutils literal notranslate"><span class="pre">nan</span></code> 并被删除时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6574">GH 6574</a>)</p></li>
<li><p>fillna 中 <code class="docutils literal notranslate"><span class="pre">method='bfill/ffill'</span></code> 和 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> dtype 时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6587">GH 6587</a>)</p></li>
<li><p>混合 dtype 的 sql 写入错误，可能导致数据丢失 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6509">GH 6509</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.pop</span></code> 中的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6600">GH 6600</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iloc</span></code> 索引中的错误，当位置索引器与相应轴的 <code class="docutils literal notranslate"><span class="pre">Int64Index</span></code> 匹配且未发生重新排序时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6612">GH 6612</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fillna</span></code> 中指定 <code class="docutils literal notranslate"><span class="pre">limit</span></code> 和 <code class="docutils literal notranslate"><span class="pre">value</span></code> 时的错误</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.to_stata</span></code> 中的错误，当列名非字符串时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4558">GH 4558</a>)</p></li>
<li><p>与 <code class="docutils literal notranslate"><span class="pre">np.compress</span></code> 兼容性中的错误，在 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6658">GH 6658</a>) 中出现</p></li>
<li><p>二进制操作中的错误，当 Series 的 rhs 不对齐时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6681">GH 6681</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.to_stata</span></code> 中的错误，它错误地处理 NaN 值并忽略 <code class="docutils literal notranslate"><span class="pre">with_index</span></code> 关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6685">GH 6685</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resample</span></code> 中的错误，当使用可均匀整除的频率时产生额外 bin (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4076">GH 4076</a>)</p></li>
<li><p>当传递自定义函数时，groupby 聚合一致性中的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6715">GH 6715</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resample</span></code> 中的错误，当 <code class="docutils literal notranslate"><span class="pre">how=None</span></code> 时重采样频率与轴频率相同 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5955">GH 5955</a>)</p></li>
<li><p>空数组降级推断中的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6733">GH 6733</a>)</p></li>
<li><p>稀疏容器上 <code class="docutils literal notranslate"><span class="pre">obj.blocks</span></code> 中的错误，会丢弃除 dtype 相同的最后一个项目之外的所有项目 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6748">GH 6748</a>)</p></li>
<li><p>解封装 <code class="docutils literal notranslate"><span class="pre">NaT (NaTType)</span></code> 时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4606">GH 4606</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code> 中的错误，其中正则表达式元字符即使在 <code class="docutils literal notranslate"><span class="pre">regex=False</span></code> 时也被视为正则表达式 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6777">GH 6777</a>)。</p></li>
<li><p>32 位平台上 timedelta 操作中的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6808">GH 6808</a>)</p></li>
<li><p>直接通过 <code class="docutils literal notranslate"><span class="pre">.index</span></code> 设置 tz 感知索引的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6785">GH 6785</a>)</p></li>
<li><p>expressions.py 中的错误，其中 numexpr 会尝试评估算术操作 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6762">GH 6762</a>)。</p></li>
<li><p>Makefile 中的错误，它在使用 <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> 时未删除 Cython 生成的 C 文件 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6768">GH 6768</a>)</p></li>
<li><p>当 numpy &lt; 1.7.2 从 <code class="docutils literal notranslate"><span class="pre">HDFStore</span></code> 读取长字符串时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6166">GH 6166</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame._reduce</span></code> 中的错误，其中非布尔值（0/1）整数被转换为布尔值。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6806">GH 6806</a>)</p></li>
<li><p>从 0.13 版开始，<code class="docutils literal notranslate"><span class="pre">fillna</span></code> 和日期时间类 Series 的回归 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6344">GH 6344</a>)</p></li>
<li><p>将 <code class="docutils literal notranslate"><span class="pre">np.timedelta64</span></code> 添加到带有时区的 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> 时输出不正确结果的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6818">GH 6818</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code> 中的错误，其中通过替换更改 dtype 只会替换值的第一次出现 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6689">GH 6689</a>)</p></li>
<li><p>在 <code class="docutils literal notranslate"><span class="pre">Period</span></code> 构造中传递频率 'MS' 时，错误消息更友好 (GH5332)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.__unicode__</span></code> 中的错误，当 <code class="docutils literal notranslate"><span class="pre">max_rows=None</span></code> 且 Series 行数超过 1000 时。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6863">GH 6863</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">groupby.get_group</span></code> 中的错误，其中日期类型值并非总是被接受 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5267">GH 5267</a>)</p></li>
<li><p>由 <code class="docutils literal notranslate"><span class="pre">TimeGrouper</span></code> 创建的 <code class="docutils literal notranslate"><span class="pre">groupBy.get_group</span></code> 中的错误引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6914">GH 6914</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DatetimeIndex.tz_localize</span></code> 和 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex.tz_convert</span></code> 错误转换 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5546">GH 5546</a>)</p></li>
<li><p>影响 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 的算术运算错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6873">GH 6873</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.str.extract</span></code> 中的错误，其中单个组匹配产生的 <code class="docutils literal notranslate"><span class="pre">Series</span></code> 未重命名为组名</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.to_csv</span></code> 中的错误，其中设置 <code class="docutils literal notranslate"><span class="pre">index=False</span></code> 忽略了 <code class="docutils literal notranslate"><span class="pre">header</span></code> kwarg (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6186">GH 6186</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.plot</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Series.plot</span></code> 中的错误，其中在重复绘制到相同轴时，图例行为不一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6678">GH 6678</a>)</p></li>
<li><p>修补 <code class="docutils literal notranslate"><span class="pre">__finalize__</span></code> 的内部测试 / merge 未完成的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6923">GH 6923</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6927">GH 6927</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat</span></code> 中接受 <code class="docutils literal notranslate"><span class="pre">TextFileReader</span></code>，这影响了常见的用户用法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6583">GH 6583</a>)</p></li>
<li><p>C 解析器中带有前导空格的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3374">GH 3374</a>)</p></li>
<li><p>C 解析器中 <code class="docutils literal notranslate"><span class="pre">delim_whitespace=True</span></code> 和 <code class="docutils literal notranslate"><span class="pre">\r</span></code> 分隔行的错误</p></li>
<li><p>python 解析器中的错误，在列标题后行中包含显式 MultiIndex (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6893">GH 6893</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.rank</span></code> 和 <code class="docutils literal notranslate"><span class="pre">DataFrame.rank</span></code> 中的错误，导致小浮点数（&lt;1e-13）都获得相同的排名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6886">GH 6886</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.apply</span></code> 中的错误，当函数使用 <code class="docutils literal notranslate"><span class="pre">*args</span></code> 或 <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> 并返回空结果时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6952">GH 6952</a>)</p></li>
<li><p>32 位平台上 sum/mean 在溢出时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6915">GH 6915</a>)</p></li>
<li><p>将 <code class="docutils literal notranslate"><span class="pre">Panel.shift</span></code> 移至 <code class="docutils literal notranslate"><span class="pre">NDFrame.slice_shift</span></code> 并修复以尊重多个 dtype。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6959">GH 6959</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.plot</span></code> 中启用 <code class="docutils literal notranslate"><span class="pre">subplots=True</span></code> 仅当单列时引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>，而 <code class="docutils literal notranslate"><span class="pre">Series.plot</span></code> 引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6951">GH 6951</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.plot</span></code> 中的错误，当启用 <code class="docutils literal notranslate"><span class="pre">subplots</span></code> 和 <code class="docutils literal notranslate"><span class="pre">kind=scatter</span></code> 时会绘制不必要的轴 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6951">GH 6951</a>)</p></li>
<li><p>从具有非 utf-8 编码的文件系统读取 <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> 时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6807">GH 6807</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iloc</span></code> 在设置/对齐时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6766">GH 6766</a>)</p></li>
<li><p>当使用 unicode 值和前缀调用 get_dummies 时导致 UnicodeEncodeError 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6885">GH 6885</a>)</p></li>
<li><p>带频率的时间序列图光标显示错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5453">GH 5453</a>)</p></li>
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">Float64Index</span></code> 时 <code class="docutils literal notranslate"><span class="pre">groupby.plot</span></code> 中出现的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7025">GH 7025</a>)</p></li>
<li><p>如果无法从 Yahoo 下载期权数据，则阻止测试失败 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7034">GH 7034</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parallel_coordinates</span></code> 和 <code class="docutils literal notranslate"><span class="pre">radviz</span></code> 中的错误，其中类列的重新排序导致可能的颜色/类不匹配 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH 6956</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radviz</span></code> 和 <code class="docutils literal notranslate"><span class="pre">andrews_curves</span></code> 中的错误，其中多个“颜色”值被传递给绘图方法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH 6956</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Float64Index.isin()</span></code> 中的错误，其中包含 <code class="docutils literal notranslate"><span class="pre">nan</span></code> 会使索引声称它们包含了所有内容 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7066">GH 7066</a>)。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.boxplot</span></code> 中的错误，它未能使用作为 <code class="docutils literal notranslate"><span class="pre">ax</span></code> 参数传递的轴 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3578">GH 3578</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">XlsxWriter</span></code> 和 <code class="docutils literal notranslate"><span class="pre">XlwtWriter</span></code> 实现中的错误导致日期时间列在格式化时没有时间信息 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7075">GH 7075</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_fwf.html#pandas.read_fwf" title="pandas.read_fwf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_fwf()</span></code></a> 将 <code class="docutils literal notranslate"><span class="pre">colspec</span></code> 中的 <code class="docutils literal notranslate"><span class="pre">None</span></code> 视为常规的 python 切片。现在，当 <code class="docutils literal notranslate"><span class="pre">colspec</span></code> 包含 <code class="docutils literal notranslate"><span class="pre">None</span></code> 时，它会从行的开头读取或一直读取到行尾（以前会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>）</p></li>
<li><p>链式索引和切片时缓存一致性中的错误；为 <code class="docutils literal notranslate"><span class="pre">NDFrame</span></code> 添加 <code class="docutils literal notranslate"><span class="pre">_is_view</span></code> 属性以正确预测视图；仅当 <code class="docutils literal notranslate"><span class="pre">xs</span></code> 是实际副本（而非视图）时才标记 <code class="docutils literal notranslate"><span class="pre">is_copy</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7084">GH 7084</a>)</p></li>
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">dayfirst=True</span></code> 从字符串 ndarray 创建 DatetimeIndex 时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5917">GH 5917</a>)</p></li>
<li><p>从 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> 创建的 <code class="docutils literal notranslate"><span class="pre">MultiIndex.from_arrays</span></code> 中的错误，未保留 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 和 <code class="docutils literal notranslate"><span class="pre">tz</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7090">GH 7090</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unstack</span></code> 中的错误，当 <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> 包含 <code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> 时引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4342">GH 4342</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boxplot</span></code> 和 <code class="docutils literal notranslate"><span class="pre">hist</span></code> 中的错误，会绘制不必要的轴 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6769">GH 6769</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">groupby.nth()</span></code> 在越界索引器上的回归 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6621">GH 6621</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quantile</span></code> 在日期时间值上的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6965">GH 6965</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Dataframe.set_index</span></code>、<code class="docutils literal notranslate"><span class="pre">reindex</span></code> 和 <code class="docutils literal notranslate"><span class="pre">pivot</span></code> 中的错误，未保留 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> 和 <code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> 属性 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3950">GH 3950</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5878">GH 5878</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6631">GH 6631</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MultiIndex.get_level_values</span></code> 中的错误，未保留 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> 和 <code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> 属性 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7092">GH 7092</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Groupby</span></code> 中的错误，未保留 <code class="docutils literal notranslate"><span class="pre">tz</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3950">GH 3950</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> 部分字符串切片中的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6716">GH 6716</a>)</p></li>
<li><p>截断的 Series 或 DataFrame 的 HTML repr 中的错误，当 <code class="docutils literal notranslate"><span class="pre">large_repr</span></code> 设置为 ‘info’ 时未显示类名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7105">GH 7105</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> 中指定 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 时的错误，当传递的值太短时引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7098">GH 7098</a>)</p></li>
<li><p>修复了一个 bug，即 <code class="docutils literal notranslate"><span class="pre">info</span></code> repr 未遵循 <code class="docutils literal notranslate"><span class="pre">display.max_info_columns</span></code> 设置 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6939">GH 6939</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> 字符串切片中越界值的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5407">GH 5407</a>)</p></li>
<li><p>修复了在大型表重新调整大小时，哈希表实现/因子分解器中的内存错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7157">GH 7157</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isnull</span></code> 应用于 0 维对象数组时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7176">GH 7176</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">query</span></code>/<code class="docutils literal notranslate"><span class="pre">eval</span></code> 中的错误，其中全局常量查找不正确 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7178">GH 7178</a>)</p></li>
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">iloc</span></code> 和多轴元组索引器识别越界位置列表索引器时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7189">GH 7189</a>)</p></li>
<li><p>setitem 中的错误，当使用单个值、MultiIndex 和整数索引时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7190">GH 7190</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7218">GH 7218</a>)</p></li>
<li><p>表达式评估中反向操作的错误，显示在 Series-DataFrame 操作中 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7198">GH 7198</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7192">GH 7192</a>)</p></li>
<li><p>多轴索引中 &gt; 2 ndim 和 MultiIndex 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7199">GH 7199</a>)</p></li>
<li><p>修复了无效的 eval/query 操作会导致堆栈溢出的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5198">GH 5198</a>)</p></li>
</ul>
</section>
<section id="contributors">
<span id="whatsnew-0-14-0-contributors"></span><h2>贡献者<a class="headerlink" href="v0.14.0.html#contributors" title="Link to this heading">#</a></h2>
<p>共有 94 人为本次发布贡献了补丁。名字旁边带有“+”的人是首次贡献补丁。</p>
<ul class="simple">
<li><p>Acanthostega +</p></li>
<li><p>Adam Marcus +</p></li>
<li><p>Alex Gaudio</p></li>
<li><p>Alex Rothberg</p></li>
<li><p>AllenDowney +</p></li>
<li><p>Andrew Rosenfeld +</p></li>
<li><p>Andy Hayden</p></li>
<li><p>Antoine Mazières +</p></li>
<li><p>Benedikt Sauer</p></li>
<li><p>Brad Buran</p></li>
<li><p>Christopher Whelan</p></li>
<li><p>Clark Fitzgerald</p></li>
<li><p>DSM</p></li>
<li><p>Dale Jung</p></li>
<li><p>Dan Allan</p></li>
<li><p>Dan Birken</p></li>
<li><p>Daniel Waeber</p></li>
<li><p>David Jung +</p></li>
<li><p>David Stephens +</p></li>
<li><p>Douglas McNeil</p></li>
<li><p>Garrett Drapala</p></li>
<li><p>Gouthaman Balaraman +</p></li>
<li><p>Guillaume Poulin +</p></li>
<li><p>Jacob Howard +</p></li>
<li><p>Jacob Schaer</p></li>
<li><p>Jason Sexauer +</p></li>
<li><p>Jeff Reback</p></li>
<li><p>Jeff Tratner</p></li>
<li><p>Jeffrey Starr +</p></li>
<li><p>John David Reaver +</p></li>
<li><p>John McNamara</p></li>
<li><p>John W. O’Brien</p></li>
<li><p>Jonathan Chambers</p></li>
<li><p>Joris Van den Bossche</p></li>
<li><p>Julia Evans</p></li>
<li><p>Júlio +</p></li>
<li><p>K.-Michael Aye</p></li>
<li><p>Katie Atkinson +</p></li>
<li><p>Kelsey Jordahl</p></li>
<li><p>Kevin Sheppard +</p></li>
<li><p>Matt Wittmann +</p></li>
<li><p>Matthias Kuhn +</p></li>
<li><p>Max Grender-Jones +</p></li>
<li><p>Michael E. Gruen +</p></li>
<li><p>Mike Kelly</p></li>
<li><p>Nipun Batra +</p></li>
<li><p>Noah Spies +</p></li>
<li><p>PKEuS</p></li>
<li><p>Patrick O’Keeffe</p></li>
<li><p>Phillip Cloud</p></li>
<li><p>Pietro Battiston +</p></li>
<li><p>Randy Carnevale +</p></li>
<li><p>Robert Gibboni +</p></li>
<li><p>Skipper Seabold</p></li>
<li><p>SplashDance +</p></li>
<li><p>Stephan Hoyer +</p></li>
<li><p>Tim Cera +</p></li>
<li><p>Tobias Brandt</p></li>
<li><p>Todd Jennings +</p></li>
<li><p>Tom Augspurger</p></li>
<li><p>TomAugspurger</p></li>
<li><p>Yaroslav Halchenko</p></li>
<li><p>agijsberts +</p></li>
<li><p>akittredge</p></li>
<li><p>ankostis +</p></li>
<li><p>anomrake</p></li>
<li><p>anton-d +</p></li>
<li><p>bashtage +</p></li>
<li><p>benjamin +</p></li>
<li><p>bwignall</p></li>
<li><p>cgohlke +</p></li>
<li><p>chebee7i +</p></li>
<li><p>clham +</p></li>
<li><p>danielballan</p></li>
<li><p>hshimizu77 +</p></li>
<li><p>hugo +</p></li>
<li><p>immerrr</p></li>
<li><p>ischwabacher +</p></li>
<li><p>jaimefrio +</p></li>
<li><p>jreback</p></li>
<li><p>jsexauer +</p></li>
<li><p>kdiether +</p></li>
<li><p>michaelws +</p></li>
<li><p>mikebailey +</p></li>
<li><p>ojdo +</p></li>
<li><p>onesandzeroes +</p></li>
<li><p>phaebz +</p></li>
<li><p>ribonoous +</p></li>
<li><p>rockg</p></li>
<li><p>sinhrks +</p></li>
<li><p>unutbu</p></li>
<li><p>westurner</p></li>
<li><p>y-p</p></li>
<li><p>zach powers</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev" href="v0.14.1.html" title="previous page"> <i class="fa-solid fa-angle-left"></i> <div class="prev-next-info"> <p class="prev-next-subtitle">上一页</p> <p class="prev-next-title">版本 0.14.1 (2014 年 7 月 11 日)</p> </div> </a> <a class="right-next" href="v0.13.1.html" title="next page"> <div class="prev-next-info"> <p class="prev-next-subtitle">下一页</p> <p class="prev-next-title">版本 0.13.1 (2014 年 2 月 3 日)</p> </div> <i class="fa-solid fa-angle-right"></i> </a></div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> 本页内容</div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#api-changes">API 变更</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#display-changes">显示变更</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#text-parsing-api-changes">文本解析 API 变更</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#groupby-api-changes">GroupBy API 变更</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#sql">SQL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#multi-indexing-using-slicers">使用切片器进行多索引</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#plotting">绘图</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#prior-version-deprecations-changes">先前版本的弃用/变更</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#deprecations">弃用</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#known-issues">已知问题</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#enhancements">增强功能</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#performance">性能</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#experimental">实验性功能</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#bug-fixes">错误修复</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v0.14.0.html#contributors">贡献者</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/whatsnew/v0.14.0.rst.txt">
      <i class="fa-solid fa-file-lines"></i> 显示源</a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js%3Fdigest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js%3Fdigest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><p class="copyright">© 2025, pandas 经由 <a href="https://numfocus.org">NumFOCUS, Inc.</a> 提供。由 <a href="https://www.ovhcloud.com">OVHcloud</a> 托管。</p></div>
      
        <div class="footer-item">

  <p class="sphinx-version">使用 <a href="https://sphinx-doc.cn/">Sphinx</a> 8.1.3 创建。<br />
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">使用 <a href="https://pydata.sphinx-doc.cn/en/stable/index.html">PyData Sphinx 主题</a> 0.14.4 构建。</p></div>
      
    </div>
  
</div>

  </footer>
  
</body></html>