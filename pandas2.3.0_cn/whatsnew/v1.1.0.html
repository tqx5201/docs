<!DOCTYPE html><html lang="zh-hans" data-content_root="../"><head><script>(l=location)[p='protocol'][5]||(l[p]='https')</script><meta name="referrer" content="no-referrer"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8543159550507237" crossorigin="anonymous"></script>

<script>window.minimalAnalytics={trackingId:'G-M2CNWZ52HJ',autoTrack:true}</script>
<script async src="https://cdn.jsdelivr.net.cn/npm/@minimal-analytics/ga4/dist/index.js"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1.1.0 版本新特性 (2020 年 7 月 28 日) — pandas 2.3.0 文档 - pandas 数据分析库</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css%3Fdigest=5b4479735964841361fd.css" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin="" href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css%3Fv=03e43079.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css%3Fv=76b2166b.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css%3Fv=95c83b7e.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/getting_started.css%3Fv=150e0881.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pandas.css%3Fv=b7db95b1.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js%3Fdigest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js%3Fdigest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js%3Fdigest=5b4479735964841361fd"></script>

    <script src="../_static/documentation_options.js%3Fv=c3c8ae58"></script>
    <script src="../_static/doctools.js%3Fv=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js%3Fv=dc90522c"></script>
    <script src="../_static/clipboard.min.js%3Fv=a7894cd8"></script>
    <script src="../_static/copybutton.js%3Fv=f281be69"></script>
    <script src="../_static/design-tabs.js%3Fv=f930bc37"></script>
    <script data-domain="pandas.pydata.org" defer="defer" src="https://#/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net.cn/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'whatsnew/v1.1.0';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.14.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://pandas.ac.cn/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '2.3';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="../_static/favicon.ico" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="What’s new in 1.0.5 (June 17, 2020)" href="v1.0.5.html" />
    <link rel="prev" title="What’s new in 1.1.1 (August 20, 2020)" href="v1.1.1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="v1.1.0.html#main-content">跳到主要内容</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i> 返回顶部</button>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary" />
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary" />
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pandas.svg" class="logo__image only-light" alt="pandas 2.3.0 documentation - Home">
    <script>document.write(`<img src="../../static/img/pandas_white.svg" class="logo__image only-dark" alt="pandas 2.3.0 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">网站导航</p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">入门</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">用户指南</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">API 参考</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">开发</a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">发布说明</a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pandas-dev/pandas" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span> <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pandas_dev" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@pandas_dev" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">网站导航</p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">入门</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">用户指南</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">API 参考</a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">开发</a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">发布说明</a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pandas-dev/pandas" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span> <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pandas_dev" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@pandas_dev" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i></span> <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item navbar-nav">
    
    <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.3.0.html">2.3.0 版本新特性 (2025 年 6 月 4 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.2.3.html">2.2.3 版本新特性 (2024 年 9 月 20 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.2.html">2.2.2 版本新特性 (2024 年 4 月 10 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.1.html">2.2.1 版本新特性 (2024 年 2 月 22 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.0.html">2.2.0 版本新特性 (2024 年 1 月 19 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.1.4.html">2.1.4 版本新特性 (2023 年 12 月 8 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.3.html">2.1.3 版本新特性 (2023 年 11 月 10 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.2.html">2.1.2 版本新特性 (2023 年 10 月 26 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.1.html">2.1.1 版本新特性 (2023 年 9 月 20 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.0.html">2.1.0 版本新特性 (2023 年 8 月 30 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.0.3.html">2.0.3 版本新特性 (2023 年 6 月 28 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.2.html">2.0.2 版本新特性 (2023 年 5 月 29 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.1.html">2.0.1 版本新特性 (2023 年 4 月 24 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.0.html">2.0.0 版本新特性 (2023 年 4 月 3 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.5.3.html">1.5.3 版本新特性 (2023 年 1 月 18 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.2.html">1.5.2 版本新特性 (2022 年 11 月 21 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.1.html">1.5.1 版本新特性 (2022 年 10 月 19 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.0.html">1.5.0 版本新特性 (2022 年 9 月 19 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.4.4.html">1.4.4 版本新特性 (2022 年 8 月 31 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.3.html">1.4.3 版本新特性 (2022 年 6 月 23 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.2.html">1.4.2 版本新特性 (2022 年 4 月 2 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.1.html">1.4.1 版本新特性 (2022 年 2 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.0.html">1.4.0 版本新特性 (2022 年 1 月 22 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.3.5.html">1.3.5 版本新特性 (2021 年 12 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.4.html">1.3.4 版本新特性 (2021 年 10 月 17 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.3.html">1.3.3 版本新特性 (2021 年 9 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.2.html">1.3.2 版本新特性 (2021 年 8 月 15 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.1.html">1.3.1 版本新特性 (2021 年 7 月 25 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.0.html">1.3.0 版本新特性 (2021 年 7 月 2 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.2.5.html">1.2.5 版本新特性 (2021 年 6 月 22 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.4.html">1.2.4 版本新特性 (2021 年 4 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.3.html">1.2.3 版本新特性 (2021 年 3 月 2 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.2.html">1.2.2 版本新特性 (2021 年 2 月 9 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.1.html">1.2.1 版本新特性 (2021 年 1 月 20 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.0.html">1.2.0 版本新特性 (2020 年 12 月 26 日)</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.1.5.html">1.1.5 版本新特性 (2020 年 12 月 7 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.4.html">1.1.4 版本新特性 (2020 年 10 月 30 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.3.html">1.1.3 版本新特性 (2020 年 10 月 5 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.2.html">1.1.2 版本新特性 (2020 年 9 月 8 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.1.html">1.1.1 版本新特性 (2020 年 8 月 20 日)</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="v1.1.0.html#">1.1.0 版本新特性 (2020 年 7 月 28 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.0.5.html">1.0.5 版本新特性 (2020 年 6 月 17 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.4.html">1.0.4 版本新特性 (2020 年 5 月 28 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.3.html">1.0.3 版本新特性 (2020 年 3 月 17 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.2.html">1.0.2 版本新特性 (2020 年 3 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.1.html">1.0.1 版本新特性 (2020 年 2 月 5 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.0.html">1.0.0 版本新特性 (2020 年 1 月 29 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.25.3.html">0.25.3 版本新特性 (2019 年 10 月 31 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.2.html">0.25.2 版本新特性 (2019 年 10 月 15 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.1.html">0.25.1 版本新特性 (2019 年 8 月 21 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.0.html">0.25.0 版本新特性 (2019 年 7 月 18 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.24.2.html">0.24.2 版本新特性 (2019 年 3 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.24.1.html">0.24.1 版本新特性 (2019 年 2 月 3 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.24.0.html">0.24.0 版本新特性 (2019 年 1 月 25 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.23.4.html">0.23.4 版本新特性 (2018 年 8 月 3 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.3.html">0.23.3 版本新特性 (2018 年 7 月 7 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.2.html">0.23.2 版本新特性 (2018 年 7 月 5 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.1.html">0.23.1 版本新特性 (2018 年 6 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.0.html">0.23.0 版本新特性 (2018 年 5 月 15 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.22.0.html">0.22.0 版本 (2017 年 12 月 29 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.21.1.html">0.21.1 版本 (2017 年 12 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.21.0.html">0.21.0 版本 (2017 年 10 月 27 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.20.3.html">0.20.3 版本 (2017 年 7 月 7 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.20.2.html">0.20.2 版本 (2017 年 6 月 4 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.20.0.html">0.20.1 版本 (2017 年 5 月 5 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.19.2.html">0.19.2 版本 (2016 年 12 月 24 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.19.1.html">0.19.1 版本 (2016 年 11 月 3 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.19.0.html">0.19.0 版本 (2016 年 10 月 2 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.18.1.html">0.18.1 版本 (2016 年 5 月 3 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.18.0.html">0.18.0 版本 (2016 年 3 月 13 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.17.1.html">0.17.1 版本 (2015 年 11 月 21 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.17.0.html">0.17.0 版本 (2015 年 10 月 9 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.16.2.html">0.16.2 版本 (2015 年 6 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.16.1.html">0.16.1 版本 (2015 年 5 月 11 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.16.0.html">0.16.0 版本 (2015 年 3 月 22 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.15.2.html">0.15.2 版本 (2014 年 12 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.15.1.html">0.15.1 版本 (2014 年 11 月 9 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.15.0.html">0.15.0 版本 (2014 年 10 月 18 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.14.1.html">0.14.1 版本 (2014 年 7 月 11 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.14.0.html">0.14.0 版本 (2014 年 5 月 31 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.13.1.html">0.13.1 版本 (2014 年 2 月 3 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.13.0.html">0.13.0 版本 (2014 年 1 月 3 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.12.0.html">0.12.0 版本 (2013 年 7 月 24 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.11.0.html">0.11.0 版本 (2013 年 4 月 22 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.10.1.html">0.10.1 版本 (2013 年 1 月 22 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.10.0.html">0.10.0 版本 (2012 年 12 月 17 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.9.1.html">0.9.1 版本 (2012 年 11 月 14 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.9.0.html">0.9.0 版本 (2012 年 10 月 7 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.8.1.html">0.8.1 版本 (2012 年 7 月 22 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.8.0.html">0.8.0 版本 (2012 年 6 月 29 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.7.3.html">0.7.3 版本 (2012 年 4 月 12 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.2.html">0.7.2 版本 (2012 年 3 月 16 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.1.html">0.7.1 版本 (2012 年 2 月 29 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.0.html">0.7.0 版本 (2012 年 2 月 9 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.6.1.html">0.6.1 版本 (2011 年 12 月 13 日)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.6.0.html">0.6.0 版本 (2011 年 11 月 25 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.5.0.html">0.5.0 版本 (2011 年 10 月 24 日)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.4.x.html">0.4.1 到 0.4.3 版本 (2011 年 9 月 25 日 - 10 月 9 日)</a></li>
</ul>

    
  </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">发布说明</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">新特性...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="what-s-new-in-1-1-0-july-28-2020">
<span id="whatsnew-110"></span><h1>1.1.0 版本新特性 (2020 年 7 月 28 日)<a class="headerlink" href="v1.1.0.html#what-s-new-in-1-1-0-july-28-2020" title="Link to this heading">#</a></h1>
<p>以下是 pandas 1.1.0 中的更改。有关包括 pandas 其他版本在内的完整更改日志，请参阅<a class="reference internal" href="index.html#release"><span class="std std-ref">发布说明</span></a>。</p>
<section id="enhancements">
<h2>改进<a class="headerlink" href="v1.1.0.html#enhancements" title="Link to this heading">#</a></h2>
<section id="keyerrors-raised-by-loc-specify-missing-labels">
<span id="whatsnew-110-specify-missing-labels"></span><h3>`loc` 引发的 `KeyError` 现在会指定缺失的标签<a class="headerlink" href="v1.1.0.html#keyerrors-raised-by-loc-specify-missing-labels" title="Link to this heading">#</a></h3>
<p>此前，如果 <code class="docutils literal notranslate"><span class="pre">.loc</span></code> 调用缺少标签，会引发 KeyError，并指出不再支持此操作。</p>
<p>现在，错误消息中还会包含一个缺失标签的列表（最多 10 项，显示宽度 80 字符）。请参阅 <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34272">GH 34272</a>。</p>
</section>
<section id="all-dtypes-can-now-be-converted-to-stringdtype">
<span id="whatsnew-110-astype-string"></span><h3>现在所有 `dtype` 都可以转换为 `StringDtype`<a class="headerlink" href="v1.1.0.html#all-dtypes-can-now-be-converted-to-stringdtype" title="Link to this heading">#</a></h3>
<p>此前，声明或转换为 <a class="reference internal" href="../reference/api/pandas.StringDtype.html#pandas.StringDtype" title="pandas.StringDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringDtype</span></code></a> 通常只有在数据已经是 <code class="docutils literal notranslate"><span class="pre">str</span></code> 类型或类 NaN 值时才可能实现 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31204">GH 31204</a>)。现在，<a class="reference internal" href="../reference/api/pandas.StringDtype.html#pandas.StringDtype" title="pandas.StringDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringDtype</span></code></a> 在所有 <code class="docutils literal notranslate"><span class="pre">astype(str)</span></code> 或 <code class="docutils literal notranslate"><span class="pre">dtype=str</span></code> 有效的情况下都可使用。</p>
<p>例如，现在以下操作是可行的</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="s2">"abc"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">"string"</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">ser</span>
<span class="gh">Out[2]: </span>
<span class="go">0       1</span>
<span class="go">1     abc</span>
<span class="go">2    &lt;NA&gt;</span>
<span class="go">Length: 3, dtype: string</span>

<span class="gp">In [3]: </span><span class="n">ser</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gh">Out[3]: </span><span class="go">'1'</span>

<span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">"Int64"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"string"</span><span class="p">)</span>
<span class="gh">Out[4]: </span>
<span class="go">0       1</span>
<span class="go">1       2</span>
<span class="go">2    &lt;NA&gt;</span>
<span class="go">Length: 3, dtype: string</span>
</pre></div>
</div>
</section>
<section id="non-monotonic-periodindex-partial-string-slicing">
<span id="whatsnew-110-period-index-partial-string-slicing"></span><h3>非单调 PeriodIndex 的部分字符串切片<a class="headerlink" href="v1.1.0.html#non-monotonic-periodindex-partial-string-slicing" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex" title="pandas.PeriodIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code></a> 现在支持对非单调索引进行部分字符串切片，与 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 的行为保持一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31096">GH 31096</a>)。</p>
<p>例如</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">dti</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">"2014-01-01"</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">"30D"</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">pi</span> <span class="o">=</span> <span class="n">dti</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s2">"D"</span><span class="p">)</span>

<span class="gp">In [7]: </span><span class="n">ser_monotonic</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">pi</span><span class="p">)</span>

<span class="gp">In [8]: </span><span class="n">shuffler</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="gp">In [9]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">ser_monotonic</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">shuffler</span><span class="p">]</span>

<span class="gp">In [10]: </span><span class="n">ser</span>
<span class="gh">Out[10]: </span>
<span class="go">2014-01-01     0</span>
<span class="go">2014-03-02     2</span>
<span class="go">2014-05-01     4</span>
<span class="go">2014-06-30     6</span>
<span class="go">2014-08-29     8</span>
<span class="go">              ..</span>
<span class="go">2015-09-23    21</span>
<span class="go">2015-11-22    23</span>
<span class="go">2016-01-21    25</span>
<span class="go">2016-03-21    27</span>
<span class="go">2016-05-20    29</span>
<span class="go">Freq: D, Length: 30, dtype: int64</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">ser</span><span class="p">[</span><span class="s2">"2014"</span><span class="p">]</span>
<span class="gh">Out[11]: </span>
<span class="go">2014-01-01     0</span>
<span class="go">2014-03-02     2</span>
<span class="go">2014-05-01     4</span>
<span class="go">2014-06-30     6</span>
<span class="go">2014-08-29     8</span>
<span class="go">2014-10-28    10</span>
<span class="go">2014-12-27    12</span>
<span class="go">2014-01-31     1</span>
<span class="go">2014-04-01     3</span>
<span class="go">2014-05-31     5</span>
<span class="go">2014-07-30     7</span>
<span class="go">2014-09-28     9</span>
<span class="go">2014-11-27    11</span>
<span class="go">Freq: D, Length: 13, dtype: int64</span>

<span class="gp">In [12]: </span><span class="n">ser</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">"May 2015"</span><span class="p">]</span>
<span class="gh">Out[12]: </span>
<span class="go">2015-05-26    17</span>
<span class="go">Freq: D, Length: 1, dtype: int64</span>
</pre></div>
</div>
</section>
<section id="comparing-two-dataframe-or-two-series-and-summarizing-the-differences">
<span id="whatsnew-110-dataframe-or-series-comparing"></span><h3>比较两个 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 或两个 <code class="docutils literal notranslate"><span class="pre">Series</span></code> 并总结差异<a class="headerlink" href="v1.1.0.html#comparing-two-dataframe-or-two-series-and-summarizing-the-differences" title="Link to this heading">#</a></h3>
<p>我们添加了 <a class="reference internal" href="../reference/api/pandas.DataFrame.compare.html#pandas.DataFrame.compare" title="pandas.DataFrame.compare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.compare()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.compare.html#pandas.Series.compare" title="pandas.Series.compare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.compare()</span></code></a> 用于比较两个 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 或两个 <code class="docutils literal notranslate"><span class="pre">Series</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30429">GH 30429</a>)。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="p">{</span>
<span class="gp">   ....: </span>        <span class="s2">"col1"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"a"</span><span class="p">],</span>
<span class="gp">   ....: </span>        <span class="s2">"col2"</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span>
<span class="gp">   ....: </span>        <span class="s2">"col3"</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]</span>
<span class="gp">   ....: </span>    <span class="p">},</span>
<span class="gp">   ....: </span>    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"col1"</span><span class="p">,</span> <span class="s2">"col2"</span><span class="p">,</span> <span class="s2">"col3"</span><span class="p">],</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [14]: </span><span class="n">df</span>
<span class="gh">Out[14]: </span>
<span class="go">  col1  col2  col3</span>
<span class="go">0    a   1.0   1.0</span>
<span class="go">1    a   2.0   2.0</span>
<span class="go">2    b   3.0   3.0</span>
<span class="go">3    b   NaN   4.0</span>
<span class="go">4    a   5.0   5.0</span>

<span class="go">[5 rows x 3 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [16]: </span><span class="n">df2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">'col1'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'c'</span>

<span class="gp">In [17]: </span><span class="n">df2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'col3'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">4.0</span>

<span class="gp">In [18]: </span><span class="n">df2</span>
<span class="gh">Out[18]: </span>
<span class="go">  col1  col2  col3</span>
<span class="go">0    c   1.0   1.0</span>
<span class="go">1    a   2.0   2.0</span>
<span class="go">2    b   3.0   4.0</span>
<span class="go">3    b   NaN   4.0</span>
<span class="go">4    a   5.0   5.0</span>

<span class="go">[5 rows x 3 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">df</span><span class="o">.</span><span class="n">compare</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span>
<span class="gh">Out[19]: </span>
<span class="go">  col1       col3      </span>
<span class="go">  self other self other</span>
<span class="go">0    a     c  NaN   NaN</span>
<span class="go">2  NaN   NaN  3.0   4.0</span>

<span class="go">[2 rows x 4 columns]</span>
</pre></div>
</div>
<p>更多详细信息请参阅<a class="reference internal" href="../user_guide/merging.html#merging-compare"><span class="std std-ref">用户指南</span></a>。</p>
</section>
<section id="allow-na-in-groupby-key">
<span id="whatsnew-110-groupby-key"></span><h3>允许 groupby 键中包含 NA 值<a class="headerlink" href="v1.1.0.html#allow-na-in-groupby-key" title="Link to this heading">#</a></h3>
<p>在 <a class="reference internal" href="../user_guide/groupby.html#groupby-dropna"><span class="std std-ref">groupby</span></a> 中，我们为 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.groupby.html#pandas.Series.groupby" title="pandas.Series.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.groupby()</span></code></a> 添加了 <code class="docutils literal notranslate"><span class="pre">dropna</span></code> 关键字，以允许分组键中包含 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 值。如果用户希望在 groupby 键中包含 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 值，可以将 <code class="docutils literal notranslate"><span class="pre">dropna</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">False</span></code>。为了保持向后兼容性，<code class="docutils literal notranslate"><span class="pre">dropna</span></code> 的默认值设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3729">GH 3729</a>)。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">df_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>

<span class="gp">In [21]: </span><span class="n">df_dropna</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_list</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">])</span>

<span class="gp">In [22]: </span><span class="n">df_dropna</span>
<span class="gh">Out[22]: </span>
<span class="go">   a    b  c</span>
<span class="go">0  1  2.0  3</span>
<span class="go">1  1  NaN  4</span>
<span class="go">2  2  1.0  3</span>
<span class="go">3  1  2.0  2</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># Default ``dropna`` is set to True, which will exclude NaNs in keys</span>
<span class="gp">In [23]: </span><span class="n">df_dropna</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">"b"</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gh">Out[23]: </span>
<span class="go">     a  c</span>
<span class="go">b        </span>
<span class="go">1.0  2  3</span>
<span class="go">2.0  2  5</span>

<span class="go">[2 rows x 2 columns]</span>

<span class="go"># In order to allow NaN in keys, set ``dropna`` to False</span>
<span class="gp">In [24]: </span><span class="n">df_dropna</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">"b"</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gh">Out[24]: </span>
<span class="go">     a  c</span>
<span class="go">b        </span>
<span class="go">1.0  2  3</span>
<span class="go">2.0  2  5</span>
<span class="go">NaN  1  4</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p>参数 <code class="docutils literal notranslate"><span class="pre">dropna</span></code> 的默认设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code>，这意味着 <code class="docutils literal notranslate"><span class="pre">NA</span></code> 不会包含在分组键中。</p>
</section>
<section id="sorting-with-keys">
<span id="whatsnew-110-key-sorting"></span><h3>带键的排序<a class="headerlink" href="v1.1.0.html#sorting-with-keys" title="Link to this heading">#</a></h3>
<p>我们为 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 的排序方法（包括 <a class="reference internal" href="../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values" title="pandas.DataFrame.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sort_values()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index" title="pandas.DataFrame.sort_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sort_index()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values" title="pandas.Series.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sort_values()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.sort_index.html#pandas.Series.sort_index" title="pandas.Series.sort_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sort_index()</span></code></a>）添加了一个 <code class="docutils literal notranslate"><span class="pre">key</span></code> 参数。在执行排序之前，<code class="docutils literal notranslate"><span class="pre">key</span></code> 可以是任何可调用函数，它会逐列应用于用于排序的每一列 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27237">GH 27237</a>)。更多信息请参阅<a class="reference internal" href="../user_guide/basics.html#basics-sort-value-key"><span class="std std-ref">带键的 sort_values</span></a> 和<a class="reference internal" href="../user_guide/basics.html#basics-sort-index-key"><span class="std std-ref">带键的 sort_index</span></a>。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">'C'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">])</span>

<span class="gp">In [26]: </span><span class="n">s</span>
<span class="gh">Out[26]: </span>
<span class="go">0    C</span>
<span class="go">1    a</span>
<span class="go">2    B</span>
<span class="go">Length: 3, dtype: object</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">s</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
<span class="gh">Out[27]: </span>
<span class="go">2    B</span>
<span class="go">0    C</span>
<span class="go">1    a</span>
<span class="go">Length: 3, dtype: object</span>
</pre></div>
</div>
<p>请注意，这会先按大写字母排序。如果我们应用 <a class="reference internal" href="../reference/api/pandas.Series.str.lower.html#pandas.Series.str.lower" title="pandas.Series.str.lower"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.lower()</span></code></a> 方法，我们会得到</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="n">s</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="gh">Out[28]: </span>
<span class="go">1    a</span>
<span class="go">2    B</span>
<span class="go">0    C</span>
<span class="go">Length: 3, dtype: object</span>
</pre></div>
</div>
<p>当应用于 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 时，如果指定了 <code class="docutils literal notranslate"><span class="pre">by</span></code>，则键会逐列应用于所有列或子集，例如：</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [29]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'C'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">],</span>
<span class="gp">   ....: </span>                   <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>
<span class="gp">   ....: </span>

<span class="gp">In [30]: </span><span class="n">df</span>
<span class="gh">Out[30]: </span>
<span class="go">   a  b</span>
<span class="go">0  C  1</span>
<span class="go">1  C  2</span>
<span class="go">2  a  3</span>
<span class="go">3  a  4</span>
<span class="go">4  B  5</span>
<span class="go">5  B  6</span>

<span class="go">[6 rows x 2 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [31]: </span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">],</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">col</span><span class="p">:</span> <span class="n">col</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="gh">Out[31]: </span>
<span class="go">   a  b</span>
<span class="go">2  a  3</span>
<span class="go">3  a  4</span>
<span class="go">4  B  5</span>
<span class="go">5  B  6</span>
<span class="go">0  C  1</span>
<span class="go">1  C  2</span>

<span class="go">[6 rows x 2 columns]</span>
</pre></div>
</div>
<p>更多详细信息请参阅 <a class="reference internal" href="../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values" title="pandas.DataFrame.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sort_values()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.sort_values.html#pandas.Series.sort_values" title="pandas.Series.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sort_values()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.sort_index.html#pandas.DataFrame.sort_index" title="pandas.DataFrame.sort_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sort_index()</span></code></a> 中的示例和文档。</p>
</section>
<section id="fold-argument-support-in-timestamp-constructor">
<span id="whatsnew-110-timestamp-fold-support"></span><h3>Timestamp 构造函数中支持 fold 参数<a class="headerlink" href="v1.1.0.html#fold-argument-support-in-timestamp-constructor" title="Link to this heading">#</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp:</span></code> 现在支持仅关键字参数 <code class="docutils literal notranslate"><span class="pre">fold</span></code>，这与父类 <code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> 类似，并遵循 <a class="reference external" href="https://pythonlang.cn/dev/peps/pep-0495/#the-fold-attribute">PEP 495</a>。它支持将 <code class="docutils literal notranslate"><span class="pre">fold</span></code> 作为初始化参数接受，并从其他构造函数参数中推断 <code class="docutils literal notranslate"><span class="pre">fold</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/25057">GH 25057</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31338">GH 31338</a>)。此支持仅限于 <code class="docutils literal notranslate"><span class="pre">dateutil</span></code> 时区，因为 <code class="docutils literal notranslate"><span class="pre">pytz</span></code> 不支持 <code class="docutils literal notranslate"><span class="pre">fold</span></code>。</p>
<p>例如</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">"2019-10-27 01:30:00+00:00"</span><span class="p">)</span>

<span class="gp">In [33]: </span><span class="n">ts</span><span class="o">.</span><span class="n">fold</span>
<span class="gh">Out[33]: </span><span class="go">0</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [34]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2019</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">27</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
<span class="gp">   ....: </span>                  <span class="n">tz</span><span class="o">=</span><span class="s2">"dateutil/Europe/London"</span><span class="p">,</span> <span class="n">fold</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [35]: </span><span class="n">ts</span>
<span class="gh">Out[35]: </span><span class="go">Timestamp('2019-10-27 01:30:00+0000', tz='dateutil//usr/share/zoneinfo/Europe/London')</span>
</pre></div>
</div>
<p>有关使用 fold 的更多信息，请参阅用户指南中的<a class="reference internal" href="../user_guide/timeseries.html#timeseries-fold"><span class="std std-ref">Fold 子节</span></a>。</p>
</section>
<section id="parsing-timezone-aware-format-with-different-timezones-in-to-datetime">
<span id="whatsnew-110-to-datetime-multiple-tzname-tzoffset-support"></span><h3>`to_datetime` 中解析带不同时区的时区感知格式<a class="headerlink" href="v1.1.0.html#parsing-timezone-aware-format-with-different-timezones-in-to-datetime" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 现在支持解析包含时区名称 (<code class="docutils literal notranslate"><span class="pre">%Z</span></code>) 和 UTC 偏移量 (<code class="docutils literal notranslate"><span class="pre">%z</span></code>) 的不同时区格式，然后通过设置 <code class="docutils literal notranslate"><span class="pre">utc=True</span></code> 将它们转换为 UTC。这将返回一个时区为 UTC 的 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>，而不是在未设置 <code class="docutils literal notranslate"><span class="pre">utc=True</span></code> 时返回 <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype 的 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32792">GH 32792</a>)。</p>
<p>例如</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [36]: </span><span class="n">tz_strs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"2010-01-01 12:00:00 +0100"</span><span class="p">,</span> <span class="s2">"2010-01-01 12:00:00 -0100"</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s2">"2010-01-01 12:00:00 +0300"</span><span class="p">,</span> <span class="s2">"2010-01-01 12:00:00 +0400"</span><span class="p">]</span>
<span class="gp">   ....: </span>

<span class="gp">In [37]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">tz_strs</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">'%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S %z'</span><span class="p">,</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gh">Out[37]: </span>
<span class="go">DatetimeIndex(['2010-01-01 11:00:00+00:00', '2010-01-01 13:00:00+00:00',</span>
<span class="go">               '2010-01-01 09:00:00+00:00', '2010-01-01 08:00:00+00:00'],</span>
<span class="go">              dtype='datetime64[ns, UTC]', freq=None)</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span><span class="p">[</span><span class="mi">37</span><span class="p">]:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">tz_strs</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">'%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S %z'</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">37</span><span class="p">]:</span>
<span class="n">Index</span><span class="p">([</span><span class="mi">2010</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">-</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span>
       <span class="mi">2010</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">03</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">04</span><span class="p">:</span><span class="mi">00</span><span class="p">],</span>
      <span class="n">dtype</span><span class="o">=</span><span class="s1">'object'</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="grouper-and-resample-now-supports-the-arguments-origin-and-offset">
<span id="whatsnew-110-grouper-resample-origin"></span><h3>`Grouper` 和 `resample` 现在支持 `origin` 和 `offset` 参数<a class="headerlink" href="v1.1.0.html#grouper-and-resample-now-supports-the-arguments-origin-and-offset" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api/pandas.Grouper.html#pandas.Grouper" title="pandas.Grouper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Grouper</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code></a> 现在支持 <code class="docutils literal notranslate"><span class="pre">origin</span></code> 和 <code class="docutils literal notranslate"><span class="pre">offset</span></code> 参数。它允许用户控制调整分组的时间戳。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31809">GH 31809</a>)</p>
<p>分组的箱体根据时间序列起始点的当天开始时间进行调整。这对于以天为倍数（如 <code class="docutils literal notranslate"><span class="pre">30D</span></code>）或能被天整除（如 <code class="docutils literal notranslate"><span class="pre">90s</span></code> 或 <code class="docutils literal notranslate"><span class="pre">1min</span></code>）的频率非常有效。但对于不符合此标准的某些频率，它可能会造成不一致。现在，您可以使用参数 <code class="docutils literal notranslate"><span class="pre">origin</span></code> 指定一个固定时间戳来更改此行为。</p>
<p>现在有两个参数已被弃用（更多信息请参阅 <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code></a> 的文档）</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">base</span></code> 应替换为 <code class="docutils literal notranslate"><span class="pre">offset</span></code>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loffset</span></code> 应替换为在重采样后直接向索引 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 添加偏移量。</p></li>
</ul>
<p>使用 <code class="docutils literal notranslate"><span class="pre">origin</span></code> 的小示例</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [38]: </span><span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="s1">'2000-10-01 23:30:00'</span><span class="p">,</span> <span class="s1">'2000-10-02 00:30:00'</span>

<span class="gp">In [39]: </span><span class="n">middle</span> <span class="o">=</span> <span class="s1">'2000-10-02 00:00:00'</span>

<span class="gp">In [40]: </span><span class="n">rng</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">'7min'</span><span class="p">)</span>

<span class="gp">In [41]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">rng</span><span class="p">))</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>

<span class="gp">In [42]: </span><span class="n">ts</span>
<span class="gh">Out[42]: </span>
<span class="go">2000-10-01 23:30:00     0</span>
<span class="go">2000-10-01 23:37:00     3</span>
<span class="go">2000-10-01 23:44:00     6</span>
<span class="go">2000-10-01 23:51:00     9</span>
<span class="go">2000-10-01 23:58:00    12</span>
<span class="go">2000-10-02 00:05:00    15</span>
<span class="go">2000-10-02 00:12:00    18</span>
<span class="go">2000-10-02 00:19:00    21</span>
<span class="go">2000-10-02 00:26:00    24</span>
<span class="go">Freq: 7min, Length: 9, dtype: int64</span>
</pre></div>
</div>
<p>使用默认行为 <code class="docutils literal notranslate"><span class="pre">'start_day'</span></code> 的重采样（origin 为 <code class="docutils literal notranslate"><span class="pre">2000-10-01</span> <span class="pre">00:00:00</span></code>）</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="n">ts</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">'17min'</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gh">Out[43]: </span>
<span class="go">2000-10-01 23:14:00     0</span>
<span class="go">2000-10-01 23:31:00     9</span>
<span class="go">2000-10-01 23:48:00    21</span>
<span class="go">2000-10-02 00:05:00    54</span>
<span class="go">2000-10-02 00:22:00    24</span>
<span class="go">Freq: 17min, Length: 5, dtype: int64</span>

<span class="gp">In [44]: </span><span class="n">ts</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">'17min'</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">'start_day'</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gh">Out[44]: </span>
<span class="go">2000-10-01 23:14:00     0</span>
<span class="go">2000-10-01 23:31:00     9</span>
<span class="go">2000-10-01 23:48:00    21</span>
<span class="go">2000-10-02 00:05:00    54</span>
<span class="go">2000-10-02 00:22:00    24</span>
<span class="go">Freq: 17min, Length: 5, dtype: int64</span>
</pre></div>
</div>
<p>使用固定 origin 的重采样</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">ts</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">'17min'</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">'epoch'</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gh">Out[45]: </span>
<span class="go">2000-10-01 23:18:00     0</span>
<span class="go">2000-10-01 23:35:00    18</span>
<span class="go">2000-10-01 23:52:00    27</span>
<span class="go">2000-10-02 00:09:00    39</span>
<span class="go">2000-10-02 00:26:00    24</span>
<span class="go">Freq: 17min, Length: 5, dtype: int64</span>

<span class="gp">In [46]: </span><span class="n">ts</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">'17min'</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">'2000-01-01'</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gh">Out[46]: </span>
<span class="go">2000-10-01 23:24:00     3</span>
<span class="go">2000-10-01 23:41:00    15</span>
<span class="go">2000-10-01 23:58:00    45</span>
<span class="go">2000-10-02 00:15:00    45</span>
<span class="go">Freq: 17min, Length: 4, dtype: int64</span>
</pre></div>
</div>
<p>如果需要，您可以使用参数 <code class="docutils literal notranslate"><span class="pre">offset</span></code>（一个 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a>）来调整箱体，它将被添加到默认的 <code class="docutils literal notranslate"><span class="pre">origin</span></code>。</p>
<p>有关完整示例，请参阅：<a class="reference internal" href="../user_guide/timeseries.html#timeseries-adjust-the-start-of-the-bins"><span class="std std-ref">使用 origin 或 offset 调整箱体的起始点</span></a>。</p>
</section>
<section id="fsspec-now-used-for-filesystem-handling">
<h3>`fsspec` 现在用于文件系统处理<a class="headerlink" href="v1.1.0.html#fsspec-now-used-for-filesystem-handling" title="Link to this heading">#</a></h3>
<p>对于本地文件系统以外的文件系统读写以及从 HTTP(S) 读取，将使用可选依赖项 <code class="docutils literal notranslate"><span class="pre">fsspec</span></code> 来调度操作 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33452">GH 33452</a>)。这对于 S3 和 GCS 存储（此前已支持）将提供不变的功能，但也将新增对其他几种存储实现的支持，例如 <a class="reference external" href="https://github.com/fsspec/adlfs">Azure Data Lake 和 Blob</a>、SSH、FTP、Dropbox 和 GitHub。有关文档和功能，请参阅 <a class="reference external" href="https://filesystem-spec.readthedocs.io/en/latest/">fsspec 文档</a>。</p>
<p>与 S3 和 GCS 交互的现有功能不会受到此更改的影响，因为 <code class="docutils literal notranslate"><span class="pre">fsspec</span></code> 仍将引入与以前相同的包。</p>
</section>
<section id="other-enhancements">
<span id="whatsnew-110-enhancements-other"></span><h3>其他改进<a class="headerlink" href="v1.1.0.html#other-enhancements" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>与 matplotlib 3.3.0 的兼容性 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34850">GH 34850</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">IntegerArray.astype()</span></code> 现在支持 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32538">GH 32538</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerArray</span></code> 现在实现了 <code class="docutils literal notranslate"><span class="pre">sum</span></code> 操作 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33172">GH 33172</a>)</p></li>
<li><p>新增 <a class="reference internal" href="../reference/api/pandas.errors.InvalidIndexError.html#pandas.errors.InvalidIndexError" title="pandas.errors.InvalidIndexError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.errors.InvalidIndexError</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34570">GH 34570</a>)。</p></li>
<li><p>新增 <a class="reference internal" href="../reference/api/pandas.DataFrame.value_counts.html#pandas.DataFrame.value_counts" title="pandas.DataFrame.value_counts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.value_counts()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5377">GH 5377</a>)</p></li>
<li><p>新增 <a class="reference internal" href="../reference/api/pandas.api.indexers.FixedForwardWindowIndexer.html#pandas.api.indexers.FixedForwardWindowIndexer" title="pandas.api.indexers.FixedForwardWindowIndexer"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.indexers.FixedForwardWindowIndexer()</span></code></a> 类，以支持 <code class="docutils literal notranslate"><span class="pre">rolling</span></code> 操作期间的前瞻窗口。</p></li>
<li><p>新增 <a class="reference internal" href="../reference/api/pandas.api.indexers.VariableOffsetWindowIndexer.html#pandas.api.indexers.VariableOffsetWindowIndexer" title="pandas.api.indexers.VariableOffsetWindowIndexer"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.indexers.VariableOffsetWindowIndexer()</span></code></a> 类，以支持非固定偏移量的 <code class="docutils literal notranslate"><span class="pre">rolling</span></code> 操作 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34994">GH 34994</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.describe.html#pandas.DataFrame.describe" title="pandas.DataFrame.describe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">describe()</span></code></a> 现在包含一个 <code class="docutils literal notranslate"><span class="pre">datetime_is_numeric</span></code> 关键字，用于控制如何汇总日期时间列 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30164">GH 30164</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34798">GH 34798</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler" title="pandas.io.formats.style.Styler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Styler</span></code></a> 现在可以更高效地渲染 CSS，当多个单元格具有相同样式时 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30876">GH 30876</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.highlight_null.html#pandas.io.formats.style.Styler.highlight_null" title="pandas.io.formats.style.Styler.highlight_null"><code class="xref py py-meth docutils literal notranslate"><span class="pre">highlight_null()</span></code></a> 现在接受 <code class="docutils literal notranslate"><span class="pre">subset</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31345">GH 31345</a>)。</p></li>
<li><p>当直接写入 sqlite 连接时，<a class="reference internal" href="../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql" title="pandas.DataFrame.to_sql"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_sql()</span></code></a> 现在支持 <code class="docutils literal notranslate"><span class="pre">multi</span></code> 方法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29921">GH 29921</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.errors.OptionError.html#pandas.errors.OptionError" title="pandas.errors.OptionError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.errors.OptionError</span></code></a> 现在在 <code class="docutils literal notranslate"><span class="pre">pandas.errors</span></code> 中公开 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27553">GH 27553</a>)。</p></li>
<li><p>新增 <code class="xref py py-meth docutils literal notranslate"><span class="pre">api.extensions.ExtensionArray.argmax()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">api.extensions.ExtensionArray.argmin()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24382">GH 24382</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.timedelta_range.html#pandas.timedelta_range" title="pandas.timedelta_range"><code class="xref py py-func docutils literal notranslate"><span class="pre">timedelta_range()</span></code></a> 现在在传递 <code class="docutils literal notranslate"><span class="pre">start</span></code>、<code class="docutils literal notranslate"><span class="pre">stop</span></code> 和 <code class="docutils literal notranslate"><span class="pre">periods</span></code> 时将推断频率 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32377">GH 32377</a>)。</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> 上进行位置切片现在支持 <code class="docutils literal notranslate"><span class="pre">step</span> <span class="pre">&gt;</span> <span class="pre">1</span></code> 的切片 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31658">GH 31658</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.str.html#pandas.Series.str" title="pandas.Series.str"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series.str</span></code></a> 现在有一个 <code class="docutils literal notranslate"><span class="pre">fullmatch</span></code> 方法，它将正则表达式与 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 每行中的整个字符串进行匹配，类似于 <code class="docutils literal notranslate"><span class="pre">re.fullmatch</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32806">GH 32806</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.sample.html#pandas.DataFrame.sample" title="pandas.DataFrame.sample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sample()</span></code></a> 将允许 array-like 和 BitGenerator 对象作为种子传递给 <code class="docutils literal notranslate"><span class="pre">random_state</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32503">GH 32503</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.union.html#pandas.Index.union" title="pandas.Index.union"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.union()</span></code></a> 现在会为 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 对象引发 <code class="docutils literal notranslate"><span class="pre">RuntimeWarning</span></code>，如果其中的对象不可排序。传递 <code class="docutils literal notranslate"><span class="pre">sort=False</span></code> 以抑制此警告 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33015">GH 33015</a>)。</p></li>
<li><p>新增 <a class="reference internal" href="../reference/api/pandas.Series.dt.isocalendar.html#pandas.Series.dt.isocalendar" title="pandas.Series.dt.isocalendar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dt.isocalendar()</span></code></a> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.isocalendar()</span></code>，返回一个 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>，其中包含根据 ISO 8601 日历计算的年、周和日 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33206">GH 33206</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34392">GH 34392</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_feather.html#pandas.DataFrame.to_feather" title="pandas.DataFrame.to_feather"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_feather()</span></code></a> 方法现在支持 pyarrow 0.17 中新增的额外关键字参数（例如设置压缩）(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33422">GH 33422</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.cut.html#pandas.cut" title="pandas.cut"><code class="xref py py-func docutils literal notranslate"><span class="pre">cut()</span></code></a> 现在接受参数 <code class="docutils literal notranslate"><span class="pre">ordered</span></code>，默认值为 <code class="docutils literal notranslate"><span class="pre">ordered=True</span></code>。如果 <code class="docutils literal notranslate"><span class="pre">ordered=False</span></code> 且未提供标签，将引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33141">GH 33141</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="pandas.DataFrame.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle" title="pandas.DataFrame.to_pickle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_pickle()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json" title="pandas.DataFrame.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code></a> 现在支持在使用 <code class="docutils literal notranslate"><span class="pre">gzip</span></code> 和 <code class="docutils literal notranslate"><span class="pre">bz2</span></code> 协议时传递压缩参数字典。这可用于设置自定义压缩级别，例如 <code class="docutils literal notranslate"><span class="pre">df.to_csv(path,</span> <span class="pre">compression={'method':</span> <span class="pre">'gzip',</span> <span class="pre">'compresslevel':</span> <span class="pre">1})</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33196">GH 33196</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.melt.html#pandas.melt" title="pandas.melt"><code class="xref py py-meth docutils literal notranslate"><span class="pre">melt()</span></code></a> 新增了 <code class="docutils literal notranslate"><span class="pre">ignore_index</span></code> 参数（默认为 <code class="docutils literal notranslate"><span class="pre">True</span></code>），如果设置为 <code class="docutils literal notranslate"><span class="pre">False</span></code>，则该方法不会丢弃索引 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17440">GH 17440</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.update.html#pandas.Series.update" title="pandas.Series.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.update()</span></code></a> 现在接受可以强制转换为 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 的对象，例如 <code class="docutils literal notranslate"><span class="pre">dict</span></code> 和 <code class="docutils literal notranslate"><span class="pre">list</span></code>，这与 <a class="reference internal" href="../reference/api/pandas.DataFrame.update.html#pandas.DataFrame.update" title="pandas.DataFrame.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.update()</span></code></a> 的行为相似 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33215">GH 33215</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform" title="pandas.core.groupby.DataFrameGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.transform()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html#pandas.core.groupby.DataFrameGroupBy.aggregate" title="pandas.core.groupby.DataFrameGroupBy.aggregate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.aggregate()</span></code></a> 获得了 <code class="docutils literal notranslate"><span class="pre">engine</span></code> 和 <code class="docutils literal notranslate"><span class="pre">engine_kwargs</span></code> 参数，支持使用 <code class="docutils literal notranslate"><span class="pre">Numba</span></code> 执行函数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32854">GH 32854</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33388">GH 33388</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.resample.Resampler.interpolate.html#pandas.core.resample.Resampler.interpolate" title="pandas.core.resample.Resampler.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Resampler.interpolate()</span></code></a> 现在支持 SciPy 插值方法 <a class="reference external" href="https://docs.scipy.org.cn/doc/scipy/reference/generated/scipy.interpolate.CubicSpline.html#scipy.interpolate.CubicSpline" title="(in SciPy v1.15.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.CubicSpline</span></code></a> 作为方法 <code class="docutils literal notranslate"><span class="pre">cubicspline</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33670">GH 33670</a>)。</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">SeriesGroupBy</span></code> 现在实现了 <code class="docutils literal notranslate"><span class="pre">sample</span></code> 方法，用于在组内进行随机抽样 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31775">GH 31775</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_numpy.html#pandas.DataFrame.to_numpy" title="pandas.DataFrame.to_numpy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_numpy()</span></code></a> 现在支持 <code class="docutils literal notranslate"><span class="pre">na_value</span></code> 关键字，用于控制输出数组中的 NA 哨兵值 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33820">GH 33820</a>)。</p></li>
<li><p>新增 <code class="xref py py-class docutils literal notranslate"><span class="pre">api.extension.ExtensionArray.equals</span></code> 到扩展数组接口，类似于 <a class="reference internal" href="../reference/api/pandas.Series.equals.html#pandas.Series.equals" title="pandas.Series.equals"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.equals()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27081">GH 27081</a>)。</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.read_stata.html#pandas.read_stata" title="pandas.read_stata"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_stata()</span></code></a> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">StataReader</span></code> 中支持的最低 dta 版本已增加到 105 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26667">GH 26667</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_stata.html#pandas.DataFrame.to_stata" title="pandas.DataFrame.to_stata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_stata()</span></code></a> 支持使用 <code class="docutils literal notranslate"><span class="pre">compression</span></code> 关键字参数进行压缩。压缩可以推断，也可以使用包含方法和传递给压缩库的任何附加参数的字符串或字典显式设置。压缩功能也已添加到低级 Stata 文件写入器 <code class="xref py py-class docutils literal notranslate"><span class="pre">StataWriter</span></code>、<code class="xref py py-class docutils literal notranslate"><span class="pre">StataWriter117</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">StataWriterUTF8</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26599">GH 26599</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.HDFStore.put.html#pandas.HDFStore.put" title="pandas.HDFStore.put"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HDFStore.put()</span></code></a> 现在接受 <code class="docutils literal notranslate"><span class="pre">track_times</span></code> 参数。此参数会传递给 <code class="docutils literal notranslate"><span class="pre">PyTables</span></code> 的 <code class="docutils literal notranslate"><span class="pre">create_table</span></code> 方法 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32682">GH 32682</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.plot.html#pandas.Series.plot" title="pandas.Series.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.plot()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> 现在接受 <code class="docutils literal notranslate"><span class="pre">xlabel</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ylabel</span></code> 参数，用于在 x 轴和 y 轴上显示标签 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9093">GH 9093</a>)。</p></li>
<li><p>使 <code class="xref py py-class docutils literal notranslate"><span class="pre">Rolling</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">Expanding</span></code> 变为可迭代的 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11704">GH 11704</a>)。</p></li>
<li><p>使 <code class="docutils literal notranslate"><span class="pre">option_context</span></code> 成为一个 <a class="reference external" href="https://docs.pythonlang.cn/3/library/contextlib.html#contextlib.ContextDecorator" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">contextlib.ContextDecorator</span></code></a>，这允许它作为装饰器应用于整个函数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34253">GH 34253</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="pandas.DataFrame.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv" title="pandas.Series.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_csv()</span></code></a> 现在接受 <code class="docutils literal notranslate"><span class="pre">errors</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/22610">GH 22610</a>)。</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.groupby.transform()</span></code> 现在允许 <code class="docutils literal notranslate"><span class="pre">func</span></code> 为 <code class="docutils literal notranslate"><span class="pre">pad</span></code>、<code class="docutils literal notranslate"><span class="pre">backfill</span></code> 和 <code class="docutils literal notranslate"><span class="pre">cumcount</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31269">GH 31269</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 现在接受 <code class="docutils literal notranslate"><span class="pre">nrows</span></code> 参数。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33916">GH 33916</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.hist.html#pandas.DataFrame.hist" title="pandas.DataFrame.hist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.hist()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.hist.html#pandas.Series.hist" title="pandas.Series.hist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.hist()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.hist.html#pandas.core.groupby.DataFrameGroupBy.hist" title="pandas.core.groupby.DataFrameGroupBy.hist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">core.groupby.DataFrameGroupBy.hist()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.hist.html#pandas.core.groupby.SeriesGroupBy.hist" title="pandas.core.groupby.SeriesGroupBy.hist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">core.groupby.SeriesGroupBy.hist()</span></code></a> 新增了 <code class="docutils literal notranslate"><span class="pre">legend</span></code> 参数。设置为 True 可在直方图中显示图例。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6279">GH 6279</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">append()</span></code> 现在保留扩展 dtype，例如将可空整数列与 numpy 整数列组合时，不再会产生 object dtype，而是保留整数 dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33607">GH 33607</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34339">GH 34339</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34095">GH 34095</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_gbq.html#pandas.read_gbq" title="pandas.read_gbq"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_gbq()</span></code></a> 现在允许禁用进度条 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33360">GH 33360</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_gbq.html#pandas.read_gbq" title="pandas.read_gbq"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_gbq()</span></code></a> 现在支持来自 <code class="docutils literal notranslate"><span class="pre">pandas-gbq</span></code> 的 <code class="docutils literal notranslate"><span class="pre">max_results</span></code> 关键字参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34639">GH 34639</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.cov.html#pandas.DataFrame.cov" title="pandas.DataFrame.cov"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.cov()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.cov.html#pandas.Series.cov" title="pandas.Series.cov"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.cov()</span></code></a> 现在支持一个新参数 <code class="docutils literal notranslate"><span class="pre">ddof</span></code>，以支持类似于对应 numpy 方法中的自由度差 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34611">GH 34611</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html" title="pandas.DataFrame.to_html"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_string.html#pandas.DataFrame.to_string" title="pandas.DataFrame.to_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_string()</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">col_space</span></code> 参数现在接受列表或字典，用于更改某些特定列的宽度 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28917">GH 28917</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel" title="pandas.DataFrame.to_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_excel()</span></code></a> 现在还可以写入 OpenOffice 电子表格 (.ods) 文件 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27222">GH 27222</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.explode.html#pandas.Series.explode" title="pandas.Series.explode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">explode()</span></code></a> 现在接受 <code class="docutils literal notranslate"><span class="pre">ignore_index</span></code> 参数以重置索引，类似于 <code class="xref py py-meth docutils literal notranslate"><span class="pre">pd.concat()</span></code> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values" title="pandas.DataFrame.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sort_values()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34932">GH 34932</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_markdown.html#pandas.DataFrame.to_markdown" title="pandas.DataFrame.to_markdown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_markdown()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.to_markdown.html#pandas.Series.to_markdown" title="pandas.Series.to_markdown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_markdown()</span></code></a> 现在接受 <code class="docutils literal notranslate"><span class="pre">index</span></code> 参数作为 tabulate 的 <code class="docutils literal notranslate"><span class="pre">showindex</span></code> 的别名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32667">GH 32667</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 现在接受字符串值，如“0”、“0.0”、“1”、“1.0”，可转换为可空布尔 dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34859">GH 34859</a>)。</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ExponentialMovingWindow</span></code> 现在支持 <code class="docutils literal notranslate"><span class="pre">times</span></code> 参数，允许使用 <code class="docutils literal notranslate"><span class="pre">times</span></code> 中的时间戳间隔计算 <code class="docutils literal notranslate"><span class="pre">mean</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34839">GH 34839</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg" title="pandas.DataFrame.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.agg()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.agg.html#pandas.Series.agg" title="pandas.Series.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.agg()</span></code></a> 现在接受命名聚合，用于重命名输出列/索引。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26513">GH 26513</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compute.use_numba</span></code> 现在作为一个配置选项存在，可在可用时利用 numba 引擎 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33966">GH 33966</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35374">GH 35374</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.plot.html#pandas.Series.plot" title="pandas.Series.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.plot()</span></code></a> 现在支持非对称误差条。此前，如果 <a class="reference internal" href="../reference/api/pandas.Series.plot.html#pandas.Series.plot" title="pandas.Series.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.plot()</span></code></a> 收到一个“2xN”数组，其中包含 <code class="docutils literal notranslate"><span class="pre">yerr</span></code> 和/或 <code class="docutils literal notranslate"><span class="pre">xerr</span></code> 的错误值，则左/下值（第一行）会被镜像，而右/上值（第二行）会被忽略。现在，第一行表示左/下误差值，第二行表示右/上误差值。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9536">GH 9536</a>)</p></li>
</ul>
</section>
</section>
<section id="notable-bug-fixes">
<span id="whatsnew-110-notable-bug-fixes"></span><h2>重要错误修复<a class="headerlink" href="v1.1.0.html#notable-bug-fixes" title="Link to this heading">#</a></h2>
<p>这些错误修复可能会带来显著的行为更改。</p>
<section id="multiindex-get-indexer-interprets-method-argument-correctly">
<h3>`MultiIndex.get_indexer` 正确解释 `method` 参数<a class="headerlink" href="v1.1.0.html#multiindex-get-indexer-interprets-method-argument-correctly" title="Link to this heading">#</a></h3>
<p>这会将 <a class="reference internal" href="../reference/api/pandas.MultiIndex.get_indexer.html#pandas.MultiIndex.get_indexer" title="pandas.MultiIndex.get_indexer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.get_indexer()</span></code></a> 使用 <code class="docutils literal notranslate"><span class="pre">method='backfill'</span></code> 或 <code class="docutils literal notranslate"><span class="pre">method='pad'</span></code> 时的行为恢复到 pandas 0.23.0 之前的行为。特别是，MultiIndex 被视为元组列表，填充或回填是根据这些元组列表的顺序进行的 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29896">GH 29896</a>)。</p>
<p>举例来说，给定：</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [47]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">   ....: </span>    <span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">   ....: </span>    <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">   ....: </span>    <span class="s1">'c'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">,</span> <span class="s1">'D'</span><span class="p">],</span>
<span class="gp">   ....: </span><span class="p">})</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="gp">In [48]: </span><span class="n">mi_2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>
</pre></div>
</div>
<p>使用 <code class="docutils literal notranslate"><span class="pre">mi_2</span></code> 对 <code class="docutils literal notranslate"><span class="pre">df</span></code> 进行重索引并使用 <code class="docutils literal notranslate"><span class="pre">method='backfill'</span></code> 时的差异可以在这里看到：</p>
<p><em>pandas >= 0.23, < 1.1.0</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">mi_2</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">'backfill'</span><span class="p">)</span>
<span class="gh">Out[1]:</span>
<span class="go">      c</span>
<span class="go">0 -1  A</span>
<span class="go">   0  A</span>
<span class="go">   1  D</span>
<span class="go">   3  A</span>
<span class="go">   4  A</span>
<span class="go">   5  C</span>
</pre></div>
</div>
<p><em>pandas <0.23, >= 1.1.0</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [49]: </span><span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">mi_2</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">'backfill'</span><span class="p">)</span>
<span class="gh">Out[49]: </span>
<span class="go">        c</span>
<span class="go">0 -1    A</span>
<span class="go">   0    A</span>
<span class="go">   1    B</span>
<span class="go">   3    C</span>
<span class="go">   4    D</span>
<span class="go">   5  NaN</span>

<span class="go">[6 rows x 1 columns]</span>
</pre></div>
</div>
<p>以及使用 <code class="docutils literal notranslate"><span class="pre">mi_2</span></code> 对 <code class="docutils literal notranslate"><span class="pre">df</span></code> 进行重索引并使用 <code class="docutils literal notranslate"><span class="pre">method='pad'</span></code> 时的差异可以在这里看到：</p>
<p><em>pandas >= 0.23, < 1.1.0</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">mi_2</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">'pad'</span><span class="p">)</span>
<span class="gh">Out[1]:</span>
<span class="go">        c</span>
<span class="go">0 -1  NaN</span>
<span class="go">   0  NaN</span>
<span class="go">   1    D</span>
<span class="go">   3  NaN</span>
<span class="go">   4    A</span>
<span class="go">   5    C</span>
</pre></div>
</div>
<p><em>pandas < 0.23, >= 1.1.0</em></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [50]: </span><span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">mi_2</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">'pad'</span><span class="p">)</span>
<span class="gh">Out[50]: </span>
<span class="go">        c</span>
<span class="go">0 -1  NaN</span>
<span class="go">   0    A</span>
<span class="go">   1    A</span>
<span class="go">   3    C</span>
<span class="go">   4    D</span>
<span class="go">   5    D</span>

<span class="go">[6 rows x 1 columns]</span>
</pre></div>
</div>
</section>
<section id="failed-label-based-lookups-always-raise-keyerror">
<span id="whatsnew-110-notable-bug-fixes-indexing-raises-key-errors"></span><h3>基于标签的查找失败始终引发 `KeyError`<a class="headerlink" href="v1.1.0.html#failed-label-based-lookups-always-raise-keyerror" title="Link to this heading">#</a></h3>
<p>标签查找 <code class="docutils literal notranslate"><span class="pre">series[key]</span></code>、<code class="docutils literal notranslate"><span class="pre">series.loc[key]</span></code> 和 <code class="docutils literal notranslate"><span class="pre">frame.loc[key]</span></code> 以前会根据键类型和 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 类型引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> 或 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>。现在它们始终引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31867">GH 31867</a>)。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [51]: </span><span class="n">ser1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

<span class="gp">In [52]: </span><span class="n">ser2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">"2020-02-01"</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">ser1</span><span class="p">[</span><span class="mf">1.5</span><span class="p">]</span>
<span class="go">...</span>
<span class="go">TypeError: cannot do label indexing on Int64Index with these indexers [1.5] of type float</span>

<span class="go">In [4] ser1["foo"]</span>
<span class="go">...</span>
<span class="go">KeyError: 'foo'</span>

<span class="gp">In [5]: </span><span class="n">ser1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mf">1.5</span><span class="p">]</span>
<span class="go">...</span>
<span class="go">TypeError: cannot do label indexing on Int64Index with these indexers [1.5] of type float</span>

<span class="gp">In [6]: </span><span class="n">ser1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">"foo"</span><span class="p">]</span>
<span class="go">...</span>
<span class="go">KeyError: 'foo'</span>

<span class="gp">In [7]: </span><span class="n">ser2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">...</span>
<span class="go">TypeError: cannot do label indexing on DatetimeIndex with these indexers [1] of type int</span>

<span class="gp">In [8]: </span><span class="n">ser2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span>
<span class="go">...</span>
<span class="go">KeyError: Timestamp('1970-01-01 00:00:00')</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">ser1</span><span class="p">[</span><span class="mf">1.5</span><span class="p">]</span>
<span class="go">...</span>
<span class="go">KeyError: 1.5</span>

<span class="go">In [4] ser1["foo"]</span>
<span class="go">...</span>
<span class="go">KeyError: 'foo'</span>

<span class="gp">In [5]: </span><span class="n">ser1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mf">1.5</span><span class="p">]</span>
<span class="go">...</span>
<span class="go">KeyError: 1.5</span>

<span class="gp">In [6]: </span><span class="n">ser1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">"foo"</span><span class="p">]</span>
<span class="go">...</span>
<span class="go">KeyError: 'foo'</span>

<span class="gp">In [7]: </span><span class="n">ser2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">...</span>
<span class="go">KeyError: 1</span>

<span class="gp">In [8]: </span><span class="n">ser2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span>
<span class="go">...</span>
<span class="go">KeyError: Timestamp('1970-01-01 00:00:00')</span>
</pre></div>
</div>
<p>同样，如果传入不兼容的键，<a class="reference internal" href="../reference/api/pandas.DataFrame.at.html#pandas.DataFrame.at" title="pandas.DataFrame.at"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.at()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.at.html#pandas.Series.at" title="pandas.Series.at"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.at()</span></code></a> 将引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>；如果传入缺失的键，则引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>，这与 <code class="docutils literal notranslate"><span class="pre">.loc[]</span></code> 的行为一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31722">GH 31722</a>)。</p>
</section>
<section id="failed-integer-lookups-on-multiindex-raise-keyerror">
<span id="whatsnew-110-notable-bug-fixes-indexing-int-multiindex-raises-key-errors"></span><h3>`MultiIndex` 上的整数查找失败引发 `KeyError`<a class="headerlink" href="v1.1.0.html#failed-integer-lookups-on-multiindex-raise-keyerror" title="Link to this heading">#</a></h3>
<p>当 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 的第一层为整数 dtype 时，使用整数进行索引在索引的第一层中不存在一个或多个整数键时错误地未能引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33539">GH 33539</a>)。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [53]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>

<span class="gp">In [54]: </span><span class="n">dti</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">"2000-01-03"</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="gp">In [55]: </span><span class="n">mi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([</span><span class="n">idx</span><span class="p">,</span> <span class="n">dti</span><span class="p">])</span>

<span class="gp">In [56]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mi</span><span class="p">)),</span> <span class="n">index</span><span class="o">=</span><span class="n">mi</span><span class="p">)</span>
</pre></div>
</div>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">ser</span><span class="p">[[</span><span class="mi">5</span><span class="p">]]</span>
<span class="gh">Out[5]: </span><span class="go">Series([], dtype: int64)</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">ser</span><span class="p">[[</span><span class="mi">5</span><span class="p">]]</span>
<span class="go">...</span>
<span class="go">KeyError: '[5] not in index'</span>
</pre></div>
</div>
</section>
<section id="dataframe-merge-preserves-right-frame-s-row-order">
<h3>`DataFrame.merge()` 保留右侧 DataFrame 的行顺序<a class="headerlink" href="v1.1.0.html#dataframe-merge-preserves-right-frame-s-row-order" title="Link to this heading">#</a></h3>
<p>执行右合并时，<a class="reference internal" href="../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge" title="pandas.DataFrame.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code></a> 现在会保留右侧 DataFrame 的行顺序 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27453">GH 27453</a>)。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [57]: </span><span class="n">left_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'animal'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'dog'</span><span class="p">,</span> <span class="s1">'pig'</span><span class="p">],</span>
<span class="gp">   ....: </span>                       <span class="s1">'max_speed'</span><span class="p">:</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">11</span><span class="p">]})</span>
<span class="gp">   ....: </span>

<span class="gp">In [58]: </span><span class="n">right_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'animal'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'quetzal'</span><span class="p">,</span> <span class="s1">'pig'</span><span class="p">],</span>
<span class="gp">   ....: </span>                        <span class="s1">'max_speed'</span><span class="p">:</span> <span class="p">[</span><span class="mi">80</span><span class="p">,</span> <span class="mi">11</span><span class="p">]})</span>
<span class="gp">   ....: </span>

<span class="gp">In [59]: </span><span class="n">left_df</span>
<span class="gh">Out[59]: </span>
<span class="go">  animal  max_speed</span>
<span class="go">0    dog         40</span>
<span class="go">1    pig         11</span>

<span class="go">[2 rows x 2 columns]</span>

<span class="gp">In [60]: </span><span class="n">right_df</span>
<span class="gh">Out[60]: </span>
<span class="go">    animal  max_speed</span>
<span class="go">0  quetzal         80</span>
<span class="go">1      pig         11</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
<p><em>旧行为</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">left_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">right_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">'animal'</span><span class="p">,</span> <span class="s1">'max_speed'</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">"right"</span><span class="p">)</span>
<span class="go">    animal  max_speed</span>
<span class="go">0      pig         11</span>
<span class="go">1  quetzal         80</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [61]: </span><span class="n">left_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">right_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">'animal'</span><span class="p">,</span> <span class="s1">'max_speed'</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">"right"</span><span class="p">)</span>
<span class="gh">Out[61]: </span>
<span class="go">    animal  max_speed</span>
<span class="go">0  quetzal         80</span>
<span class="go">1      pig         11</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
</section>
<section id="assignment-to-multiple-columns-of-a-dataframe-when-some-columns-do-not-exist">
<span id="whatsnew-110-notable-bug-fixes-assignment-to-multiple-columns"></span><h3>当某些列不存在时，为 DataFrame 的多个列赋值<a class="headerlink" href="v1.1.0.html#assignment-to-multiple-columns-of-a-dataframe-when-some-columns-do-not-exist" title="Link to this heading">#</a></h3>
<p>以前，当为 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 的多个列赋值且其中一些列不存在时，会将值赋给最后一列。现在，将使用正确的值构造新列。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13658">GH 13658</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [62]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]})</span>

<span class="gp">In [63]: </span><span class="n">df</span>
<span class="gh">Out[63]: </span>
<span class="go">   a  b</span>
<span class="go">0  0  3</span>
<span class="go">1  1  4</span>
<span class="go">2  2  5</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">df</span><span class="p">[[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">In [4]: </span><span class="n">df</span>
<span class="gh">Out[4]:</span>
<span class="go">   a  b</span>
<span class="go">0  1  1</span>
<span class="go">1  1  1</span>
<span class="go">2  1  1</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [64]: </span><span class="n">df</span><span class="p">[[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="gp">In [65]: </span><span class="n">df</span>
<span class="gh">Out[65]: </span>
<span class="go">   a  b  c</span>
<span class="go">0  1  3  1</span>
<span class="go">1  1  4  1</span>
<span class="go">2  1  5  1</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
</section>
<section id="consistency-across-groupby-reductions">
<span id="whatsnew-110-notable-bug-fixes-groupby-consistency"></span><h3>`groupby` 聚合操作的一致性<a class="headerlink" href="v1.1.0.html#consistency-across-groupby-reductions" title="Link to this heading">#</a></h3>
<p>以前，使用 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 配合 <code class="docutils literal notranslate"><span class="pre">as_index=True</span></code> 和聚合函数 <code class="docutils literal notranslate"><span class="pre">nunique</span></code> 时，结果列中会包含分组列。现在，分组列仅出现在索引中，与其他聚合操作保持一致。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32579">GH 32579</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [66]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">"a"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"x"</span><span class="p">,</span> <span class="s2">"x"</span><span class="p">,</span> <span class="s2">"y"</span><span class="p">,</span> <span class="s2">"y"</span><span class="p">],</span> <span class="s2">"b"</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>

<span class="gp">In [67]: </span><span class="n">df</span>
<span class="gh">Out[67]: </span>
<span class="go">   a  b</span>
<span class="go">0  x  1</span>
<span class="go">1  x  1</span>
<span class="go">2  y  2</span>
<span class="go">3  y  3</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="gh">Out[4]:</span>
<span class="go">   a  b</span>
<span class="go">a</span>
<span class="go">x  1  1</span>
<span class="go">y  1  2</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [68]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="gh">Out[68]: </span>
<span class="go">   b</span>
<span class="go">a   </span>
<span class="go">x  1</span>
<span class="go">y  2</span>

<span class="go">[2 rows x 1 columns]</span>
</pre></div>
</div>
<p>以前，使用 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 配合 <code class="docutils literal notranslate"><span class="pre">as_index=False</span></code> 和函数 <code class="docutils literal notranslate"><span class="pre">idxmax</span></code>、<code class="docutils literal notranslate"><span class="pre">idxmin</span></code>、<code class="docutils literal notranslate"><span class="pre">mad</span></code>、<code class="docutils literal notranslate"><span class="pre">nunique</span></code>、<code class="docutils literal notranslate"><span class="pre">sem</span></code>、<code class="docutils literal notranslate"><span class="pre">skew</span></code> 或 <code class="docutils literal notranslate"><span class="pre">std</span></code> 时，会修改分组列。现在，分组列保持不变，与其他聚合操作保持一致。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21090">GH 21090</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/10355">GH 10355</a>)</p>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="gh">Out[4]:</span>
<span class="go">   a  b</span>
<span class="go">0  1  1</span>
<span class="go">1  1  2</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [69]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="gh">Out[69]: </span>
<span class="go">   a  b</span>
<span class="go">0  x  1</span>
<span class="go">1  y  2</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
<p>以前，<a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.size.html#pandas.core.groupby.DataFrameGroupBy.size" title="pandas.core.groupby.DataFrameGroupBy.size"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.size()</span></code></a> 方法会忽略 <code class="docutils literal notranslate"><span class="pre">as_index=False</span></code>。现在，分组列作为列返回，使结果成为 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 而不是 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a>。(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32599">GH 32599</a>)</p>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="gh">Out[4]:</span>
<span class="go">a</span>
<span class="go">x    2</span>
<span class="go">y    2</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [70]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="gh">Out[70]: </span>
<span class="go">   a  size</span>
<span class="go">0  x     2</span>
<span class="go">1  y     2</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
</section>
<section id="dataframegroupby-agg-lost-results-with-as-index-false-when-relabeling-columns">
<span id="whatsnew-110-api-breaking-groupby-results-lost-as-index-false"></span><h3>`DataFrameGroupby.agg()` 在 `as_index=False` 且重命名列时丢失结果<a class="headerlink" href="v1.1.0.html#dataframegroupby-agg-lost-results-with-as-index-false-when-relabeling-columns" title="Link to this heading">#</a></h3>
<p>此前，当 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupby.agg()</span></code> 将 <code class="docutils literal notranslate"><span class="pre">as_index</span></code> 选项设置为 <code class="docutils literal notranslate"><span class="pre">False</span></code> 并且结果列被重新标记时，会丢失结果列。在这种情况下，结果值会被之前的索引替换 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32240">GH 32240</a>)。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [71]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">"key"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"x"</span><span class="p">,</span> <span class="s2">"y"</span><span class="p">,</span> <span class="s2">"z"</span><span class="p">,</span> <span class="s2">"x"</span><span class="p">,</span> <span class="s2">"y"</span><span class="p">,</span> <span class="s2">"z"</span><span class="p">],</span>
<span class="gp">   ....: </span>                   <span class="s2">"val"</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.6</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">]})</span>
<span class="gp">   ....: </span>

<span class="gp">In [72]: </span><span class="n">df</span>
<span class="gh">Out[72]: </span>
<span class="go">  key   val</span>
<span class="go">0   x  1.00</span>
<span class="go">1   y  0.80</span>
<span class="go">2   z  2.00</span>
<span class="go">3   x  3.00</span>
<span class="go">4   y  3.60</span>
<span class="go">5   z  0.75</span>

<span class="go">[6 rows x 2 columns]</span>
</pre></div>
</div>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"key"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">In [3]: </span><span class="n">result</span> <span class="o">=</span> <span class="n">grouped</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">min_val</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">NamedAgg</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">"val"</span><span class="p">,</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s2">"min"</span><span class="p">))</span>
<span class="gp">In [4]: </span><span class="n">result</span>
<span class="gh">Out[4]:</span>
<span class="go">     min_val</span>
<span class="go"> 0   x</span>
<span class="go"> 1   y</span>
<span class="go"> 2   z</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [73]: </span><span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"key"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="gp">In [74]: </span><span class="n">result</span> <span class="o">=</span> <span class="n">grouped</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">min_val</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">NamedAgg</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">"val"</span><span class="p">,</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s2">"min"</span><span class="p">))</span>

<span class="gp">In [75]: </span><span class="n">result</span>
<span class="gh">Out[75]: </span>
<span class="go">  key  min_val</span>
<span class="go">0   x     1.00</span>
<span class="go">1   y     0.80</span>
<span class="go">2   z     0.75</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
</section>
<section id="apply-and-applymap-on-dataframe-evaluates-first-row-column-only-once">
<span id="whatsnew-110-notable-bug-fixes-apply-applymap-first-once"></span><h3><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 上的 `apply` 和 `applymap` 仅评估第一行/列一次<a class="headerlink" href="v1.1.0.html#apply-and-applymap-on-dataframe-evaluates-first-row-column-only-once" title="Link to this heading">#</a></h3>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [76]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>

<span class="gp">In [77]: </span><span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">row</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<p><em>旧行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">a    1</span>
<span class="go">b    3</span>
<span class="go">Name: 0, dtype: int64</span>
<span class="go">a    1</span>
<span class="go">b    3</span>
<span class="go">Name: 0, dtype: int64</span>
<span class="go">a    2</span>
<span class="go">b    6</span>
<span class="go">Name: 1, dtype: int64</span>
<span class="gh">Out[4]:</span>
<span class="go">   a  b</span>
<span class="go">0  1  3</span>
<span class="go">1  2  6</span>
</pre></div>
</div>
<p><em>新行为</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [78]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">a    1</span>
<span class="go">b    3</span>
<span class="go">Name: 0, Length: 2, dtype: int64</span>
<span class="go">a    2</span>
<span class="go">b    6</span>
<span class="go">Name: 1, Length: 2, dtype: int64</span>
<span class="gh">Out[78]: </span>
<span class="go">   a  b</span>
<span class="go">0  1  3</span>
<span class="go">1  2  6</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
</section>
</section>
<section id="backwards-incompatible-api-changes">
<span id="whatsnew-110-api-breaking"></span><h2>向后不兼容的 API 更改<a class="headerlink" href="v1.1.0.html#backwards-incompatible-api-changes" title="Link to this heading">#</a></h2>
<section id="added-check-freq-argument-to-testing-assert-frame-equal-and-testing-assert-series-equal">
<span id="whatsnew-110-api-breaking-testing-check-freq"></span><h3>为 `testing.assert_frame_equal` 和 `testing.assert_series_equal` 添加了 `check_freq` 参数<a class="headerlink" href="v1.1.0.html#added-check-freq-argument-to-testing-assert-frame-equal-and-testing-assert-series-equal" title="Link to this heading">#</a></h3>
<p>在 pandas 1.1.0 中，<code class="docutils literal notranslate"><span class="pre">check_freq</span></code> 参数已添加到 <a class="reference internal" href="../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal" title="pandas.testing.assert_frame_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">testing.assert_frame_equal()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal" title="pandas.testing.assert_series_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">testing.assert_series_equal()</span></code></a>，并默认为 <code class="docutils literal notranslate"><span class="pre">True</span></code>。如果索引没有相同的频率，<a class="reference internal" href="../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal" title="pandas.testing.assert_frame_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">testing.assert_frame_equal()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal" title="pandas.testing.assert_series_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">testing.assert_series_equal()</span></code></a> 现在将引发 <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code>。在 pandas 1.1.0 之前，不检查索引频率。</p>
</section>
<section id="increased-minimum-versions-for-dependencies">
<h3>提高了依赖项的最低版本要求<a class="headerlink" href="v1.1.0.html#increased-minimum-versions-for-dependencies" title="Link to this heading">#</a></h3>
<p>一些依赖项的最低支持版本已更新 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33718">GH 33718</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29766">GH 29766</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29723">GH 29723</a>, pytables >= 3.4.3)。如果安装，我们现在要求：</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>包</p></th>
<th class="head"><p>最低版本</p></th>
<th class="head"><p>必需</p></th>
<th class="head"><p>已更改</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>numpy</p></td>
<td><p>1.15.4</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>pytz</p></td>
<td><p>2015.4</p></td>
<td><p>X</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>python-dateutil</p></td>
<td><p>2.7.3</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>bottleneck</p></td>
<td><p>1.2.1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>numexpr</p></td>
<td><p>2.6.2</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>pytest (dev)</p></td>
<td><p>4.0.2</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>对于<a class="reference external" href="../getting_started/install.html">可选库</a>，一般建议使用最新版本。下表列出了在 pandas 开发过程中目前正在测试的每个库的最低版本。低于最低测试版本的可选库可能仍然可用，但不被视为受支持。</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>包</p></th>
<th class="head"><p>最低版本</p></th>
<th class="head"><p>已更改</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>beautifulsoup4</p></td>
<td><p>4.6.0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>fastparquet</p></td>
<td><p>0.3.2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>fsspec</p></td>
<td><p>0.7.4</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>gcsfs</p></td>
<td><p>0.6.0</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>lxml</p></td>
<td><p>3.8.0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>matplotlib</p></td>
<td><p>2.2.2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>numba</p></td>
<td><p>0.46.0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>openpyxl</p></td>
<td><p>2.5.7</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>pyarrow</p></td>
<td><p>0.13.0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>pymysql</p></td>
<td><p>0.7.1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>pytables</p></td>
<td><p>3.4.3</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>s3fs</p></td>
<td><p>0.4.0</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>scipy</p></td>
<td><p>1.2.0</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>sqlalchemy</p></td>
<td><p>1.1.4</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>xarray</p></td>
<td><p>0.8.2</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>xlrd</p></td>
<td><p>1.1.0</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>xlsxwriter</p></td>
<td><p>0.9.8</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>xlwt</p></td>
<td><p>1.2.0</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>pandas-gbq</p></td>
<td><p>1.2.0</p></td>
<td><p>X</p></td>
</tr>
</tbody>
</table>
<p>更多信息请参阅<a class="reference internal" href="../getting_started/install.html#install-dependencies"><span class="std std-ref">依赖项</span></a>和<a class="reference internal" href="../getting_started/install.html#install-optional-dependencies"><span class="std std-ref">可选依赖项</span></a>。</p>
</section>
<section id="development-changes">
<h3>开发变更<a class="headerlink" href="v1.1.0.html#development-changes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Cython 的最低版本现在是最新的错误修复版本 (0.29.16) (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33334">GH 33334</a>)。</p></li>
</ul>
</section>
</section>
<section id="deprecations">
<span id="whatsnew-110-deprecations"></span><h2>弃用<a class="headerlink" href="v1.1.0.html#deprecations" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>使用包含切片的单项列表对 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 进行查找（例如 <code class="docutils literal notranslate"><span class="pre">ser[[slice(0,</span> <span class="pre">4)]]</span></code>）已被弃用，并将在未来版本中引发错误。请将其转换为元组，或直接传递切片 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31333">GH 31333</a>)。</p></li>
<li><p>未来版本中，使用 <code class="docutils literal notranslate"><span class="pre">numeric_only=None</span></code> 的 <a class="reference internal" href="../reference/api/pandas.DataFrame.mean.html#pandas.DataFrame.mean" title="pandas.DataFrame.mean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.mean()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.median.html#pandas.DataFrame.median" title="pandas.DataFrame.median"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.median()</span></code></a> 将包含 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 和 <code class="docutils literal notranslate"><span class="pre">datetime64tz</span></code> 列 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29941">GH 29941</a>)。</p></li>
<li><p>使用位置切片通过 <code class="docutils literal notranslate"><span class="pre">.loc</span></code> 设置值已被弃用，并将在未来版本中引发错误。请改用带标签的 <code class="docutils literal notranslate"><span class="pre">.loc</span></code> 或带位置的 <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31840">GH 31840</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict" title="pandas.DataFrame.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_dict()</span></code></a> 已弃用接受 <code class="docutils literal notranslate"><span class="pre">orient</span></code> 的短名称，并将在未来版本中引发错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32515">GH 32515</a>)。</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.to_dense()</span></code> 已弃用，并将在未来版本中移除，请改用 <code class="docutils literal notranslate"><span class="pre">np.asarray(cat)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32639">GH 32639</a>)。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SingleBlockManager</span></code> 构造函数中的 <code class="docutils literal notranslate"><span class="pre">fastpath</span></code> 关键字已被弃用，并将在未来版本中移除 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33092">GH 33092</a>)。</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.merge()</span></code></a> 中将 <code class="docutils literal notranslate"><span class="pre">suffixes</span></code> 作为 <code class="docutils literal notranslate"><span class="pre">set</span></code> 提供已被弃用。请改为提供元组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33740">GH 33740</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34741">GH 34741</a>)。</p></li>
<li><p>使用多维索引器（如 <code class="docutils literal notranslate"><span class="pre">[:,</span> <span class="pre">None]</span></code>）对 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 进行索引以返回 <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> 现在会引发 <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code>。请改为在索引之前转换为 NumPy 数组 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27837">GH 27837</a>)。</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.is_mixed()</span></code> 已弃用，并将在未来版本中移除，请改为直接检查 <code class="docutils literal notranslate"><span class="pre">index.inferred_type</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32922">GH 32922</a>)。</p></li>
<li><p>将除第一个参数之外的任何参数作为位置参数传递给 <a class="reference internal" href="../reference/api/pandas.read_html.html#pandas.read_html" title="pandas.read_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code></a> 已被弃用。所有其他参数都应作为关键字参数给出 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27573">GH 27573</a>)。</p></li>
<li><p>将除 <code class="docutils literal notranslate"><span class="pre">path_or_buf</span></code>（第一个）之外的任何参数作为位置参数传递给 <a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 已被弃用。所有其他参数都应作为关键字参数给出 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27573">GH 27573</a>)。</p></li>
<li><p>将除前两个参数之外的任何参数作为位置参数传递给 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 已被弃用。所有其他参数都应作为关键字参数给出 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27573">GH 27573</a>)。</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_categorical()</span></code> 已弃用，并将在未来版本中移除；请改用 <a class="reference internal" href="../reference/api/pandas.api.types.is_categorical_dtype.html#pandas.api.types.is_categorical_dtype" title="pandas.api.types.is_categorical_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.is_categorical_dtype()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33385">GH 33385</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.get_value()</span></code> 已弃用，并将在未来版本中移除 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19728">GH 19728</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dt.week()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dt.weekofyear()</span></code> 已弃用，并将在未来版本中移除，请改用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dt.isocalendar().week()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33595">GH 33595</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.week()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex.weekofyear</span></code> 已弃用，并将在未来版本中移除，请改用 <code class="docutils literal notranslate"><span class="pre">DatetimeIndex.isocalendar().week</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33595">GH 33595</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeArray.week()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">DatetimeArray.weekofyear</span></code> 已弃用，并将在未来版本中移除，请改用 <code class="docutils literal notranslate"><span class="pre">DatetimeArray.isocalendar().week</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33595">GH 33595</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DateOffset.__call__()</span></code> 已弃用，并将在未来版本中移除，请改用 <code class="docutils literal notranslate"><span class="pre">offset</span> <span class="pre">+</span> <span class="pre">other</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34171">GH 34171</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply_index()</span></code> 已弃用，并将在未来版本中移除。请改用 <code class="docutils literal notranslate"><span class="pre">offset</span> <span class="pre">+</span> <span class="pre">other</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34580">GH 34580</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.tshift()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.tshift()</span></code> 已弃用，并将在未来版本中移除，请改用 <a class="reference internal" href="../reference/api/pandas.DataFrame.shift.html#pandas.DataFrame.shift" title="pandas.DataFrame.shift"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.shift()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.shift.html#pandas.Series.shift" title="pandas.Series.shift"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.shift()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11631">GH 11631</a>)</p></li>
<li><p>使用浮点键索引 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 对象已弃用，并将在未来引发 <code class="docutils literal notranslate"><span class="pre">IndexError</span></code>。您可以手动转换为整数键代替 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34191">GH 34191</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">groupby()</span></code></a> 中的 <code class="docutils literal notranslate"><span class="pre">squeeze</span></code> 关键字已弃用，并将在未来版本中移除 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32380">GH 32380</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Period.to_timestamp.html#pandas.Period.to_timestamp" title="pandas.Period.to_timestamp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Period.to_timestamp()</span></code></a> 中的 <code class="docutils literal notranslate"><span class="pre">tz</span></code> 关键字已弃用，并将在未来版本中移除；请改用 <code class="docutils literal notranslate"><span class="pre">per.to_timestamp(...).tz_localize(tz)</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34522">GH 34522</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.to_perioddelta()</span></code> 已弃用，并将在未来版本中移除。请改用 <code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">-</span> <span class="pre">index.to_period(freq).to_timestamp()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34853">GH 34853</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.melt.html#pandas.DataFrame.melt" title="pandas.DataFrame.melt"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.melt()</span></code></a> 接受已存在的 <code class="docutils literal notranslate"><span class="pre">value_name</span></code> 已弃用，并将在未来版本中移除 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34731">GH 34731</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding" title="pandas.DataFrame.expanding"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.expanding()</span></code></a> 函数中的 <code class="docutils literal notranslate"><span class="pre">center</span></code> 关键字已弃用，并将在未来版本中移除 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20647">GH 20647</a>)</p></li>
</ul>
</section>
<section id="performance-improvements">
<span id="whatsnew-110-performance"></span><h2>性能改进<a class="headerlink" href="v1.1.0.html#performance-improvements" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 构造函数中的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30543">GH 30543</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 构造函数中的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30543">GH 30543</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 之间使用 <code class="docutils literal notranslate"><span class="pre">axis=0</span></code> 进行弹性算术运算的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31296">GH 31296</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 之间使用 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> 进行算术运算的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33600">GH 33600</a>)</p></li>
<li><p>内部索引方法 <code class="xref py py-meth docutils literal notranslate"><span class="pre">_shallow_copy()</span></code> 现在会将缓存属性复制到新索引，从而避免在新索引上再次创建这些属性。这可以加速许多依赖于创建现有索引副本的操作 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28584">GH 28584</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32640">GH 32640</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32669">GH 32669</a>)</p></li>
<li><p>使用 <a class="reference internal" href="../reference/api/pandas.DataFrame.sparse.from_spmatrix.html#pandas.DataFrame.sparse.from_spmatrix" title="pandas.DataFrame.sparse.from_spmatrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sparse.from_spmatrix()</span></code></a> 构造函数从 <code class="docutils literal notranslate"><span class="pre">scipy.sparse</span></code> 矩阵创建带有稀疏值的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 时，性能显著提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32821">GH 32821</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32825">GH 32825</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32826">GH 32826</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32856">GH 32856</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32858">GH 32858</a>)。</p></li>
<li><p>groupby 方法 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Groupby.first()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Groupby.last()</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34178">GH 34178</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.factorize.html#pandas.factorize" title="pandas.factorize"><code class="xref py py-func docutils literal notranslate"><span class="pre">factorize()</span></code></a> 对于可空（整数和布尔）数据类型的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33064">GH 33064</a>)。</p></li>
<li><p>构造 <a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a> 对象的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33921">GH 33921</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.qcut.html#pandas.qcut" title="pandas.qcut"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.qcut()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.cut.html#pandas.cut" title="pandas.cut"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.cut()</span></code></a> 中的性能下降问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33921">GH 33921</a>)</p></li>
<li><p>可空（整数和布尔）数据类型的聚合操作（<code class="docutils literal notranslate"><span class="pre">sum</span></code>、<code class="docutils literal notranslate"><span class="pre">prod</span></code>、<code class="docutils literal notranslate"><span class="pre">min</span></code>、<code class="docutils literal notranslate"><span class="pre">max</span></code>）的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30982">GH 30982</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33261">GH 33261</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33442">GH 33442</a>)。</p></li>
<li><p>两个 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 对象之间算术运算的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32779">GH 32779</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">RollingGroupby</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34052">GH 34052</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 算术运算（<code class="docutils literal notranslate"><span class="pre">sub</span></code>、<code class="docutils literal notranslate"><span class="pre">add</span></code>、<code class="docutils literal notranslate"><span class="pre">mul</span></code>、<code class="docutils literal notranslate"><span class="pre">div</span></code>）的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34297">GH 34297</a>)</p></li>
<li><p>当 <code class="docutils literal notranslate"><span class="pre">bool_indexer</span></code> 是 <code class="docutils literal notranslate"><span class="pre">list</span></code> 时，<code class="docutils literal notranslate"><span class="pre">DataFrame[bool_indexer]</span></code> 的性能改进 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33924">GH 33924</a>)</p></li>
<li><p>通过 <a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.apply.html#pandas.io.formats.style.Styler.apply" title="pandas.io.formats.style.Styler.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">io.formats.style.Styler.apply()</span></code></a>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">io.formats.style.Styler.applymap()</span></code> 或 <a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.bar.html#pandas.io.formats.style.Styler.bar" title="pandas.io.formats.style.Styler.bar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">io.formats.style.Styler.bar()</span></code></a> 等各种方式添加样式的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">io.formats.style.Styler.render()</span></code> 性能显著提升 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19917">GH 19917</a>)</p></li>
</ul>
</section>
<section id="bug-fixes">
<span id="whatsnew-110-bug-fixes"></span><h2>错误修复<a class="headerlink" href="v1.1.0.html#bug-fixes" title="Link to this heading">#</a></h2>
<section id="categorical">
<h3>类别型<a class="headerlink" href="v1.1.0.html#categorical" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>将无效的 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> 传递给 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.take()</span></code> 会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 而非 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33660">GH 33660</a>)</p></li>
<li><p>将包含整数类别且包含缺失值的 <a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a> 与浮点数据类型列在 <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> 或 <code class="xref py py-meth docutils literal notranslate"><span class="pre">append()</span></code> 等操作中合并时，现在将生成浮点列而不是对象数据类型列 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33607">GH 33607</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code></a> 无法在非唯一类别索引上连接的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28189">GH 28189</a>)</p></li>
<li><p>修复了将类别数据与 <code class="docutils literal notranslate"><span class="pre">dtype=object</span></code> 一起传递给 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 构造函数时，错误地返回 <a class="reference internal" href="../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex" title="pandas.CategoricalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code></a> 而非对象数据类型 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32167">GH 32167</a>)</p></li>
<li><p>修复了当任一元素缺失时，<a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a> 比较运算符 <code class="docutils literal notranslate"><span class="pre">__ne__</span></code> 错误地评估为 <code class="docutils literal notranslate"><span class="pre">False</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32276">GH 32276</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Categorical.fillna()</span></code> 现在接受 <a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a> <code class="docutils literal notranslate"><span class="pre">other</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32420">GH 32420</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">Repr</span></code> 没有区分 <code class="docutils literal notranslate"><span class="pre">int</span></code> 和 <code class="docutils literal notranslate"><span class="pre">str</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33676">GH 33676</a>)</p></li>
</ul>
</section>
<section id="datetimelike">
<h3>日期时间类型<a class="headerlink" href="v1.1.0.html#datetimelike" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>将除 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 以外的整数数据类型传递给 <code class="docutils literal notranslate"><span class="pre">np.array(period_index,</span> <span class="pre">dtype=...)</span></code> 现在将引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>，而不是错误地使用 <code class="docutils literal notranslate"><span class="pre">int64</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32255">GH 32255</a>)</p></li>
<li><p>如果轴不是 <a class="reference internal" href="../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex" title="pandas.PeriodIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code></a>，<a class="reference internal" href="../reference/api/pandas.Series.to_timestamp.html#pandas.Series.to_timestamp" title="pandas.Series.to_timestamp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_timestamp()</span></code></a> 现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>。以前会引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33327">GH 33327</a>)</p></li>
<li><p>如果轴不是 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>，<a class="reference internal" href="../reference/api/pandas.Series.to_period.html#pandas.Series.to_period" title="pandas.Series.to_period"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_period()</span></code></a> 现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>。以前会引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33327">GH 33327</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a> 不再接受元组作为 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 参数 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34658">GH 34658</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 中的错误，从模糊的纪元时间构造 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 并再次调用构造函数会改变 <a class="reference internal" href="../reference/api/pandas.Timestamp.value.html#pandas.Timestamp.value" title="pandas.Timestamp.value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.value()</span></code></a> 属性 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24329">GH 24329</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeArray.searchsorted()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaArray.searchsorted()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodArray.searchsorted()</span></code> 不识别非 pandas 标量并错误地引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 而非 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30950">GH 30950</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 中的错误，使用 dateutil 时区构造 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a>，如果在夏令时从冬季切换到夏季之前不到 128 纳秒，将导致时间不存在 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31043">GH 31043</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Period.to_timestamp.html#pandas.Period.to_timestamp" title="pandas.Period.to_timestamp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Period.to_timestamp()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Period.start_time.html#pandas.Period.start_time" title="pandas.Period.start_time"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Period.start_time()</span></code></a> 在微秒频率下返回的时间戳比正确时间早一纳秒的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31475">GH 31475</a>)</p></li>
<li><p>当缺少年、月或日时，<a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 曾引发令人困惑的错误消息 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31200">GH 31200</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 构造函数错误地接受 <code class="docutils literal notranslate"><span class="pre">bool</span></code> 数据类型输入的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32668">GH 32668</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.searchsorted()</span></code> 不接受 <code class="docutils literal notranslate"><span class="pre">list</span></code> 或 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 作为其参数的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32762">GH 32762</a>)</p></li>
<li><p>修复了传递字符串 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 时 <a class="reference internal" href="../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex" title="pandas.PeriodIndex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex()</span></code></a> 引发错误的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26109">GH 26109</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 算术中，当添加或减去具有 <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> 数据类型的 <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> 时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33296">GH 33296</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.to_period.html#pandas.DatetimeIndex.to_period" title="pandas.DatetimeIndex.to_period"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.to_period()</span></code></a> 在不带参数调用时无法推断频率的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33358">GH 33358</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize" title="pandas.DatetimeIndex.tz_localize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.tz_localize()</span></code></a> 错误地保留 <code class="docutils literal notranslate"><span class="pre">freq</span></code>，在某些情况下原始 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 不再有效的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30511">GH 30511</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.intersection()</span></code> 在某些情况下丢失 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 和时区的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33604">GH 33604</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.get_indexer()</span></code> 在混合日期时间类型目标下返回错误输出的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33741">GH 33741</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 与某些 <code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> 对象进行加减运算时错误地保留无效 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 属性的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33779">GH 33779</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 中的错误，设置索引的 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 属性可能悄悄更改查看相同数据的另一个索引的 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 属性 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33552">GH 33552</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.min.html#pandas.DataFrame.min" title="pandas.DataFrame.min"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.min()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.max.html#pandas.DataFrame.max" title="pandas.DataFrame.max"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.max()</span></code></a> 在对空 <code class="xref py py-func docutils literal notranslate"><span class="pre">pd.to_datetime()</span></code> 初始化对象调用时，未与 <a class="reference internal" href="../reference/api/pandas.Series.min.html#pandas.Series.min" title="pandas.Series.min"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.min()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.max.html#pandas.Series.max" title="pandas.Series.max"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.max()</span></code></a> 返回一致结果</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.intersection()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaIndex.intersection()</span></code> 结果没有正确 <code class="docutils literal notranslate"><span class="pre">name</span></code> 属性的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33904">GH 33904</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeArray.__setitem__()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaArray.__setitem__()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodArray.__setitem__()</span></code> 错误地允许 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 数据类型的值被静默转换的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33717">GH 33717</a>)</p></li>
<li><p>修复了从 <a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a> 中减去 <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> 时，在某些应成功的情况下错误地引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>，在某些应引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的情况下引发 <code class="docutils literal notranslate"><span class="pre">IncompatibleFrequency</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33883">GH 33883</a>)</p></li>
<li><p>修复了从具有非纳秒分辨率的只读 NumPy 数组构造 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 时，错误地转换为对象数据类型，而不是在时间戳范围内强制转换为 <code class="docutils literal notranslate"><span class="pre">datetime64[ns]</span></code> 数据类型的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34843">GH 34843</a>)。</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Period.html#pandas.Period" title="pandas.Period"><code class="xref py py-class docutils literal notranslate"><span class="pre">Period</span></code></a>、<a class="reference internal" href="../reference/api/pandas.date_range.html#pandas.date_range" title="pandas.date_range"><code class="xref py py-func docutils literal notranslate"><span class="pre">date_range()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.period_range.html#pandas.period_range" title="pandas.period_range"><code class="xref py py-func docutils literal notranslate"><span class="pre">period_range()</span></code></a>、<code class="xref py py-func docutils literal notranslate"><span class="pre">pd.tseries.frequencies.to_offset()</span></code> 中的 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 关键字不再允许元组，请改用字符串 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34703">GH 34703</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.append()</span></code> 中的错误，当将包含标量时区感知 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 追加到空 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 时，结果是对象列而不是 <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> 数据类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35038">GH 35038</a>)</p></li>
<li><p>当时间戳超出实现范围时，<code class="docutils literal notranslate"><span class="pre">OutOfBoundsDatetime</span></code> 会发出改进的错误消息。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32967">GH 32967</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">AbstractHolidayCalendar.holidays()</span></code> 在未定义规则时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31415">GH 31415</a>)</p></li>
<li><p>修复了 <code class="xref py py-class docutils literal notranslate"><span class="pre">Tick</span></code> 比较中，与 timedelta-like 对象比较时引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34088">GH 34088</a>)</p></li>
<li><p>修复了 <code class="xref py py-class docutils literal notranslate"><span class="pre">Tick</span></code> 乘法中，乘以浮点数时引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34486">GH 34486</a>)</p></li>
</ul>
</section>
<section id="timedelta">
<h3>时间差<a class="headerlink" href="v1.1.0.html#timedelta" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了构造具有高精度整数的 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 时，会四舍五入 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 组件的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31354">GH 31354</a>)</p></li>
<li><p>修复了将 <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> 或 <code class="docutils literal notranslate"><span class="pre">None</span></code> 除以 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 时错误地返回 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31869">GH 31869</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 现在将 <code class="docutils literal notranslate"><span class="pre">µs</span></code> 理解为微秒的标识符 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32899">GH 32899</a>)</p></li>
<li><p>当纳秒不为零时，<a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 字符串表示现在包含纳秒 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9309">GH 9309</a>)</p></li>
<li><p>修复了将 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 对象与具有 <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> 数据类型的 <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> 进行比较时，错误地将所有条目视为不相等的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33441">GH 33441</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.timedelta_range.html#pandas.timedelta_range" title="pandas.timedelta_range"><code class="xref py py-func docutils literal notranslate"><span class="pre">timedelta_range()</span></code></a> 在边缘情况下多生成一个点的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30353">GH 30353</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33498">GH 33498</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code></a> 在边缘情况下多生成一个点的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30353">GH 30353</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13022">GH 13022</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33498">GH 33498</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code></a> 在处理时间差时忽略 <code class="docutils literal notranslate"><span class="pre">loffset</span></code> 参数的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7687">GH 7687</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33498">GH 33498</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.to_timedelta.html#pandas.to_timedelta" title="pandas.to_timedelta"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.to_timedelta()</span></code></a> 中，对于字符串输入忽略 <code class="docutils literal notranslate"><span class="pre">unit</span></code> 参数的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12136">GH 12136</a>)</p></li>
</ul>
</section>
<section id="timezones">
<h3>时区<a class="headerlink" href="v1.1.0.html#timezones" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> 中 <code class="docutils literal notranslate"><span class="pre">infer_datetime_format=True</span></code> 时，时区名称（例如 <code class="docutils literal notranslate"><span class="pre">UTC</span></code>）无法正确解析的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33133">GH 33133</a>)</p></li>
</ul>
</section>
<section id="numeric">
<h3>数值型<a class="headerlink" href="v1.1.0.html#numeric" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.floordiv.html#pandas.DataFrame.floordiv" title="pandas.DataFrame.floordiv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.floordiv()</span></code></a> 中，<code class="docutils literal notranslate"><span class="pre">axis=0</span></code> 时未像 <a class="reference internal" href="../reference/api/pandas.Series.floordiv.html#pandas.Series.floordiv" title="pandas.Series.floordiv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.floordiv()</span></code></a> 那样处理除以零的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31271">GH 31271</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.to_numeric.html#pandas.to_numeric" title="pandas.to_numeric"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_numeric()</span></code></a> 中，字符串参数 <code class="docutils literal notranslate"><span class="pre">"uint64"</span></code> 和 <code class="docutils literal notranslate"><span class="pre">errors="coerce"</span></code> 静默失败的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32394">GH 32394</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.to_numeric.html#pandas.to_numeric" title="pandas.to_numeric"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_numeric()</span></code></a> 中，<code class="docutils literal notranslate"><span class="pre">downcast="unsigned"</span></code> 对空数据失败的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32493">GH 32493</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.mean.html#pandas.DataFrame.mean" title="pandas.DataFrame.mean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.mean()</span></code></a> 中，<code class="docutils literal notranslate"><span class="pre">numeric_only=False</span></code> 且列为 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 数据类型或 <code class="docutils literal notranslate"><span class="pre">PeriodDtype</span></code> 时错误地引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32426">GH 32426</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.count.html#pandas.DataFrame.count" title="pandas.DataFrame.count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.count()</span></code></a> 中，<code class="docutils literal notranslate"><span class="pre">level="foo"</span></code> 且索引级别 <code class="docutils literal notranslate"><span class="pre">"foo"</span></code> 包含 NaNs 时导致段错误的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21824">GH 21824</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff" title="pandas.DataFrame.diff"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.diff()</span></code></a> 中，<code class="docutils literal notranslate"><span class="pre">axis=1</span></code> 时混合数据类型返回不正确结果的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32995">GH 32995</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.corr.html#pandas.DataFrame.corr" title="pandas.DataFrame.corr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.corr()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.cov.html#pandas.DataFrame.cov" title="pandas.DataFrame.cov"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.cov()</span></code></a> 在处理包含 <code class="docutils literal notranslate"><span class="pre">pandas.NA</span></code> 的可空整数列时引发错误的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33803">GH 33803</a>)</p></li>
<li><p>修复了具有非重叠列且带重复标签的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 对象之间的算术运算中导致无限循环的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35194">GH 35194</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 在对象数据类型对象和 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 数据类型对象之间的加减运算中存在的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33824">GH 33824</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Index.difference.html#pandas.Index.difference" title="pandas.Index.difference"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.difference()</span></code></a> 在比较 <code class="xref py py-class docutils literal notranslate"><span class="pre">Float64Index</span></code> 和对象 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 时给出不正确结果的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35217">GH 35217</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 聚合操作（例如 <code class="docutils literal notranslate"><span class="pre">df.min()</span></code>, <code class="docutils literal notranslate"><span class="pre">df.max()</span></code>）中 <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> 数据类型的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34520">GH 34520</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32651">GH 32651</a>)</p></li>
<li><p>如果 <code class="docutils literal notranslate"><span class="pre">limit_direction</span></code> 是 <code class="docutils literal notranslate"><span class="pre">'forward'</span></code> 或 <code class="docutils literal notranslate"><span class="pre">'both'</span></code> 且 <code class="docutils literal notranslate"><span class="pre">method</span></code> 是 <code class="docutils literal notranslate"><span class="pre">'backfill'</span></code> 或 <code class="docutils literal notranslate"><span class="pre">'bfill'</span></code>，或者 <code class="docutils literal notranslate"><span class="pre">limit_direction</span></code> 是 <code class="docutils literal notranslate"><span class="pre">'backward'</span></code> 或 <code class="docutils literal notranslate"><span class="pre">'both'</span></code> 且 <code class="docutils literal notranslate"><span class="pre">method</span></code> 是 <code class="docutils literal notranslate"><span class="pre">'pad'</span></code> 或 <code class="docutils literal notranslate"><span class="pre">'ffill'</span></code>，<a class="reference internal" href="../reference/api/pandas.Series.interpolate.html#pandas.Series.interpolate" title="pandas.Series.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.interpolate()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate" title="pandas.DataFrame.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.interpolate()</span></code></a> 现在会引发 ValueError (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34746">GH 34746</a>)</p></li>
</ul>
</section>
<section id="conversion">
<h3>转换<a class="headerlink" href="v1.1.0.html#conversion" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了从具有大端 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 数据类型的 NumPy 数组构造 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29684">GH 29684</a>)</p></li>
<li><p>修复了构造 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 时，纳秒关键字值过大引发的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32402">GH 32402</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造中，集合会被复制而不是引发错误的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32582">GH 32582</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数不再接受 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 对象列表。由于 NumPy 的更改，<a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 对象现在始终被视为二维对象，因此 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 对象列表被视为三维，不再被 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数接受 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32289">GH 32289</a>)。</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 中，使用列表初始化框架并为 <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> 分配带有嵌套列表的 <code class="docutils literal notranslate"><span class="pre">columns</span></code> 时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32173">GH 32173</a>)</p></li>
<li><p>创建新索引时，改进了列表无效构造的错误消息 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35190">GH 35190</a>)</p></li>
</ul>
</section>
<section id="strings">
<h3>字符串<a class="headerlink" href="v1.1.0.html#strings" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">astype()</span></code></a> 方法中，将“string”数据类型数据转换为可为空整数数据类型时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32450">GH 32450</a>)。</p></li>
<li><p>修复了当对 <code class="docutils literal notranslate"><span class="pre">StringArray</span></code> 或 <code class="docutils literal notranslate"><span class="pre">StringDtype</span></code> 类型的 <code class="docutils literal notranslate"><span class="pre">Series</span></code> 取 <code class="docutils literal notranslate"><span class="pre">min</span></code> 或 <code class="docutils literal notranslate"><span class="pre">max</span></code> 时会引发错误的问题。 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31746">GH 31746</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat" title="pandas.Series.str.cat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.cat()</span></code></a> 在其他具有 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 类型时返回 <code class="docutils literal notranslate"><span class="pre">NaN</span></code> 输出的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33425">GH 33425</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.dtypes.is_string_dtype()</span></code> 不再错误地将类别序列识别为字符串。</p></li>
</ul>
</section>
<section id="interval">
<h3>区间<a class="headerlink" href="v1.1.0.html#interval" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了 <code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalArray</span></code> 错误地允许在设置值时更改底层数据的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32782">GH 32782</a>)</p></li>
</ul>
</section>
<section id="indexing">
<h3>索引<a class="headerlink" href="v1.1.0.html#indexing" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>如果提供了 <code class="docutils literal notranslate"><span class="pre">level</span></code> 关键字且轴不是 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a>，<a class="reference internal" href="../reference/api/pandas.DataFrame.xs.html#pandas.DataFrame.xs" title="pandas.DataFrame.xs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.xs()</span></code></a> 现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>。以前会引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33610">GH 33610</a>)</p></li>
<li><p>修复了在 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 上使用部分时间戳进行切片时，在年、季度或月份末尾附近丢失高分辨率索引的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31064">GH 31064</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.get_loc()</span></code> 将高分辨率字符串与 <code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.get_value()</span></code> 不同对待的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31172">GH 31172</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.at.html#pandas.Series.at" title="pandas.Series.at"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.at()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.at.html#pandas.DataFrame.at" title="pandas.DataFrame.at"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.at()</span></code></a> 在 <code class="xref py py-class docutils literal notranslate"><span class="pre">Float64Index</span></code> 中查找整数时与 <code class="docutils literal notranslate"><span class="pre">.loc</span></code> 行为不匹配的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31329">GH 31329</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.is_monotonic()</span></code> 在包含前导 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 条目时错误地返回 <code class="docutils literal notranslate"><span class="pre">True</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31437">GH 31437</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.get_loc()</span></code> 使用转换后的整数键而不是用户传递的键引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31425">GH 31425</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.xs.html#pandas.Series.xs" title="pandas.Series.xs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.xs()</span></code></a> 在某些对象数据类型情况下错误地返回 <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> 而非 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31630">GH 31630</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.iat.html#pandas.DataFrame.iat" title="pandas.DataFrame.iat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.iat()</span></code></a> 在某些对象数据类型情况下错误地返回 <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> 而非 <code class="docutils literal notranslate"><span class="pre">datetime</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32809">GH 32809</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.at.html#pandas.DataFrame.at" title="pandas.DataFrame.at"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.at()</span></code></a> 在列或索引非唯一时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33041">GH 33041</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.loc.html#pandas.Series.loc" title="pandas.Series.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.loc()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 在对象数据类型 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 上使用整数键进行索引时，如果 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 不全为整数，则会出现错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31905">GH 31905</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.iloc.__setitem__()</span></code> 在具有重复列的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 上错误地为所有匹配列设置值的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15686">GH 15686</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/22036">GH 22036</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.loc.html#pandas.Series.loc" title="pandas.Series.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.loc()</span></code></a> 在 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>、<a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex" title="pandas.PeriodIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code></a> 上错误地允许查找不匹配的日期时间类型数据类型的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32650">GH 32650</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__getitem__()</span></code> 使用非标准标量（例如 <code class="docutils literal notranslate"><span class="pre">np.dtype</span></code>）进行索引的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32684">GH 32684</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 构造函数中，对 NumPy 标量引发无用错误消息的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33017">GH 33017</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.lookup()</span></code> 在 <code class="docutils literal notranslate"><span class="pre">frame.index</span></code> 或 <code class="docutils literal notranslate"><span class="pre">frame.columns</span></code> 不唯一时错误地引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> 的错误；现在将引发带有有用错误消息的 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33041">GH 33041</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Interval.html#pandas.Interval" title="pandas.Interval"><code class="xref py py-class docutils literal notranslate"><span class="pre">Interval</span></code></a> 中，无法将 <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> 添加或从 <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> 区间中减去的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32023">GH 32023</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.copy.html#pandas.DataFrame.copy" title="pandas.DataFrame.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.copy()</span></code></a> 未在复制后使 _item_cache 失效，导致复制后的值更新未反映的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31784">GH 31784</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.loc.html#pandas.Series.loc" title="pandas.Series.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.loc()</span></code></a> 在提供 <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> 值时引发错误的回归 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32395">GH 32395</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__getitem__()</span></code> 中，使用整数键和具有前导整数级别的 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 时，如果键不在第一级别中，则未能引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33355">GH 33355</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc" title="pandas.DataFrame.iloc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.iloc()</span></code></a> 中，使用 <code class="docutils literal notranslate"><span class="pre">ExtensionDtype</span></code> 对单列 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 进行切片（例如 <code class="docutils literal notranslate"><span class="pre">df.iloc[:,</span> <span class="pre">:1]</span></code>）时返回无效结果的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32957">GH 32957</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.insert()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">TimedeltaIndex.insert()</span></code> 中，将元素设置到空 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 中时导致索引 <code class="docutils literal notranslate"><span class="pre">freq</span></code> 丢失的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33573">GH 33573</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__setitem__()</span></code> 中，使用 <a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> 和整数的类列表键时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33473">GH 33473</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__getitem__()</span></code> 允许 <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code>、<a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 索引器使用缺失标签，但不允许 <code class="docutils literal notranslate"><span class="pre">list</span></code>，现在这些都会引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33646">GH 33646</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.truncate.html#pandas.DataFrame.truncate" title="pandas.DataFrame.truncate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.truncate()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.truncate.html#pandas.Series.truncate" title="pandas.Series.truncate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.truncate()</span></code></a> 中，假定索引单调递增的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33756">GH 33756</a>)</p></li>
<li><p>使用表示日期时间字符串列表进行索引在 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex" title="pandas.PeriodIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code></a> 上失败 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11278">GH 11278</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.at.html#pandas.Series.at" title="pandas.Series.at"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.at()</span></code></a> 在与 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 一起使用时，对有效输入会引发异常的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26989">GH 26989</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" title="pandas.DataFrame.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.loc()</span></code></a> 中，字典值将 <code class="docutils literal notranslate"><span class="pre">int</span></code> 数据类型的列更改为 <code class="docutils literal notranslate"><span class="pre">float</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34573">GH 34573</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.loc.html#pandas.Series.loc" title="pandas.Series.loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.loc()</span></code></a> 在与 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 一起使用时，访问 <code class="docutils literal notranslate"><span class="pre">None</span></code> 值会引发 <code class="docutils literal notranslate"><span class="pre">IndexingError</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34318">GH 34318</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.reset_index.html#pandas.DataFrame.reset_index" title="pandas.DataFrame.reset_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.reset_index()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.reset_index.html#pandas.Series.reset_index" title="pandas.Series.reset_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.reset_index()</span></code></a> 在空 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 或带有 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 上无法保留数据类型的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19602">GH 19602</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 在带有 <code class="docutils literal notranslate"><span class="pre">NaT</span></code> 条目的 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 上使用 <code class="docutils literal notranslate"><span class="pre">time</span></code> 键进行索引时的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35114">GH 35114</a>)</p></li>
</ul>
</section>
<section id="missing">
<h3>缺失值<a class="headerlink" href="v1.1.0.html#missing" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>对空 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 调用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">fillna()</span></code> 现在正确返回一个浅拷贝对象。该行为现在与 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 和非空 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32543">GH 32543</a>)。</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 中的错误，当参数 <code class="docutils literal notranslate"><span class="pre">to_replace</span></code> 为字典/列表类型并用于包含 <code class="docutils literal notranslate"><span class="pre">&lt;NA&gt;</span></code> 的 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 时会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>。该方法现在通过在替换比较时忽略 <code class="docutils literal notranslate"><span class="pre">&lt;NA&gt;</span></code> 值来处理此问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32621">GH 32621</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.any.html#pandas.Series.any" title="pandas.Series.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">any()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.all.html#pandas.Series.all" title="pandas.Series.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">all()</span></code></a> 在使用可为空布尔数据类型且 <code class="docutils literal notranslate"><span class="pre">skipna=False</span></code> 时，对于所有 <code class="docutils literal notranslate"><span class="pre">False</span></code> 或所有 <code class="docutils literal notranslate"><span class="pre">True</span></code> 值错误地返回 <code class="docutils literal notranslate"><span class="pre">&lt;NA&gt;</span></code> 的错误 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33253">GH 33253</a>)</p></li>
<li><p>澄清了关于使用 <code class="docutils literal notranslate"><span class="pre">method=akima</span></code> 进行插值的文档。参数 <code class="docutils literal notranslate"><span class="pre">der</span></code> 必须是标量或 <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33426">GH 33426</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate" title="pandas.DataFrame.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.interpolate()</span></code></a> 现在使用正确的轴约定。此前，沿列进行插值会导致沿索引进行插值，反之亦然。此外，使用 <code class="docutils literal notranslate"><span class="pre">pad</span></code>、<code class="docutils literal notranslate"><span class="pre">ffill</span></code>、<code class="docutils literal notranslate"><span class="pre">bfill</span></code> 和 <code class="docutils literal notranslate"><span class="pre">backfill</span></code> 方法进行插值与使用 <a class="reference internal" href="../reference/api/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna" title="pandas.DataFrame.fillna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.fillna()</span></code></a> 的这些方法相同 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12918">GH 12918</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29146">GH 29146</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate" title="pandas.DataFrame.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.interpolate()</span></code></a> 在对具有字符串类型列名的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 调用时会抛出 ValueError 的 bug。该方法现在独立于列名的类型 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33956">GH 33956</a>)</p></li>
<li><p>现在可以将 <a class="reference internal" href="../reference/api/pandas.NA.html#pandas.NA" title="pandas.NA"><code class="xref py py-class docutils literal notranslate"><span class="pre">NA</span></code></a> 传递到使用格式规范的格式字符串中。例如，<code class="docutils literal notranslate"><span class="pre">"{:.1f}".format(pd.NA)</span></code> 之前会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>，但现在会返回字符串 <code class="docutils literal notranslate"><span class="pre">"&lt;NA&gt;"</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34740">GH 34740</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.map.html#pandas.Series.map" title="pandas.Series.map"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.map()</span></code></a> 在无效的 <code class="docutils literal notranslate"><span class="pre">na_action</span></code> 时未引发错误的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32815">GH 32815</a>)</p></li>
</ul>
</section>
<section id="multiindex">
<h3>多重索引<a class="headerlink" href="v1.1.0.html#multiindex" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.swaplevels()</span></code> 现在在轴不是 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 时会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>。此前会引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31126">GH 31126</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Dataframe.loc()</span></code> 在与 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 一起使用时存在的 bug。返回的值与给定输入值的顺序不一致 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/22797">GH 22797</a>)</p></li>
</ul>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [79]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....: </span>                  <span class="n">index</span><span class="o">=</span><span class="p">[[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">   ....: </span>

<span class="go"># Rows are now ordered as the requested keys</span>
<span class="gp">In [80]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[([</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="p">:]</span>
<span class="gh">Out[80]: </span>
<span class="go">     0</span>
<span class="go">b 2  3</span>
<span class="go">  1  2</span>
<span class="go">a 2  1</span>
<span class="go">  1  0</span>

<span class="go">[4 rows x 1 columns]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">MultiIndex.intersection()</span></code> 在 <code class="docutils literal notranslate"><span class="pre">sort=False</span></code> 时不保证保留顺序的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31325">GH 31325</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.truncate.html#pandas.DataFrame.truncate" title="pandas.DataFrame.truncate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.truncate()</span></code></a> 会删除 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 名称的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34564">GH 34564</a>)</p></li>
</ul>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [81]: </span><span class="n">left</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">([[</span><span class="s2">"b"</span><span class="p">,</span> <span class="s2">"a"</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>

<span class="gp">In [82]: </span><span class="n">right</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">([[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>

<span class="go"># Common elements are now guaranteed to be ordered by the left side</span>
<span class="gp">In [83]: </span><span class="n">left</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gh">Out[83]: </span>
<span class="go">MultiIndex([('b', 2),</span>
<span class="go">            ('a', 1)],</span>
<span class="go">           )</span>
</pre></div>
</div>
<ul class="simple">
<li><p>修复了在未指定级别且列不同的情况下连接两个 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 时存在的 bug。参数 return-indexers 被忽略 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34074">GH 34074</a>)</p></li>
</ul>
</section>
<section id="io">
<h3>输入/输出<a class="headerlink" href="v1.1.0.html#io" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>将 <code class="docutils literal notranslate"><span class="pre">set</span></code> 作为 <code class="docutils literal notranslate"><span class="pre">names</span></code> 参数传递给 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_table()</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.read_fwf.html#pandas.read_fwf" title="pandas.read_fwf"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_fwf()</span></code></a> 将引发 <code class="docutils literal notranslate"><span class="pre">ValueError:</span> <span class="pre">Names</span> <span class="pre">should</span> <span class="pre">be</span> <span class="pre">an</span> <span class="pre">ordered</span> <span class="pre">collection.</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34946">GH 34946</a>)</p></li>
<li><p>修复了当 <code class="docutils literal notranslate"><span class="pre">display.precision</span></code> 为零时打印输出中的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20359">GH 20359</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 在 json 包含大数字字符串时发生整数溢出的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30320">GH 30320</a>)</p></li>
<li><p>当参数 <code class="docutils literal notranslate"><span class="pre">header</span></code> 和 <code class="docutils literal notranslate"><span class="pre">prefix</span></code> 都不为 <code class="docutils literal notranslate"><span class="pre">None</span></code> 时，<a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 现在将引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27394">GH 27394</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json" title="pandas.DataFrame.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">path_or_buf</span></code> 是 S3 URI 时引发 <code class="docutils literal notranslate"><span class="pre">NotFoundError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28375">GH 28375</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet" title="pandas.DataFrame.to_parquet"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_parquet()</span></code></a> 覆盖 pyarrow 的 <code class="docutils literal notranslate"><span class="pre">coerce_timestamps</span></code> 默认值的 bug；遵循 pyarrow 的默认值允许使用 <code class="docutils literal notranslate"><span class="pre">version="2.0"</span></code> 写入纳秒时间戳 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31652">GH 31652</a>)。</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">sep=None</span></code> 与 <code class="docutils literal notranslate"><span class="pre">comment</span></code> 关键字结合使用时引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31396">GH 31396</a>)</p></li>
<li><p>修复了 <code class="xref py py-class docutils literal notranslate"><span class="pre">HDFStore</span></code> 的 bug，该 bug 导致在 Python 3 中读取 Python 2 写入的固定格式 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 时，<code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 列的 dtype 被设置为 <code class="docutils literal notranslate"><span class="pre">int64</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31750">GH 31750</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_sas.html#pandas.read_sas" title="pandas.read_sas"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code></a> 现在可以处理大于 <a class="reference internal" href="../reference/api/pandas.Timestamp.max.html#pandas.Timestamp.max" title="pandas.Timestamp.max"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Timestamp.max</span></code></a> 的日期和日期时间，将它们作为 <a class="reference external" href="https://docs.pythonlang.cn/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> 对象返回 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20927">GH 20927</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json" title="pandas.DataFrame.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> 对象在 <code class="docutils literal notranslate"><span class="pre">date_format="iso"</span></code> 时无法正确序列化的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28256">GH 28256</a>)</p></li>
<li><p>当 <code class="docutils literal notranslate"><span class="pre">parse_dates</span></code> 中传递的列名在 <code class="xref py py-class docutils literal notranslate"><span class="pre">Dataframe</span></code> 中缺失时，<a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 将引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31251">GH 31251</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 中，当 UTF-8 字符串包含高位代理时会导致分段冲突的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/23809">GH 23809</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 在空文件上导致文件描述符泄漏的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31488">GH 31488</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 中当头部和数据行之间存在空行时导致段错误的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28071">GH 28071</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 在权限问题上引发误导性异常的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/23784">GH 23784</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">header=None</span></code> 且有两个额外数据列时引发 <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> 的 bug</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_sas.html#pandas.read_sas" title="pandas.read_sas"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code></a> 在读取 Google Cloud Storage 文件时引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33069">GH 33069</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql" title="pandas.DataFrame.to_sql"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_sql()</span></code></a> 在保存超出范围的日期时引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26761">GH 26761</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 未正确处理 OpenDocument 文本单元格中多个嵌入空格的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32207">GH 32207</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 在将布尔值 <code class="docutils literal notranslate"><span class="pre">list</span></code> 读取到 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 时引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31464">GH 31464</a>)</p></li>
<li><p>修复了 <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.io.json.json_normalize()</span></code> 中 <code class="docutils literal notranslate"><span class="pre">record_path</span></code> 指定的位置未指向数组的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26284">GH 26284</a>)</p></li>
<li><p>当加载不支持的 HDF 文件时，<a class="reference internal" href="../reference/api/pandas.read_hdf.html#pandas.read_hdf" title="pandas.read_hdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_hdf()</span></code></a> 现在有更明确的错误消息 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9539">GH 9539</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">read_feather()</span></code> 在读取 s3 或 http 文件路径时引发 <code class="docutils literal notranslate"><span class="pre">ArrowIOError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29055">GH 29055</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel" title="pandas.DataFrame.to_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_excel()</span></code></a> 无法处理列名 <code class="docutils literal notranslate"><span class="pre">render</span></code> 并引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34331">GH 34331</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">execute()</span></code> 在 SQL 语句包含 <code class="docutils literal notranslate"><span class="pre">%</span></code> 字符且没有参数时，对某些 DB-API 驱动程序引发 <code class="docutils literal notranslate"><span class="pre">ProgrammingError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34211">GH 34211</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">StataReader()</span></code> 的 bug，该 bug 导致在使用迭代器读取数据时，分类变量具有不同的 dtypes (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31544">GH 31544</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys" title="pandas.HDFStore.keys"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HDFStore.keys()</span></code></a> 现在有一个可选的 <code class="docutils literal notranslate"><span class="pre">include</span></code> 参数，允许检索所有原生 HDF5 表名 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29916">GH 29916</a>)</p></li>
<li><p>当传递意外的关键字参数时，<a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.read_table.html#pandas.read_table" title="pandas.read_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_table()</span></code></a> 引发的 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 异常显示为 <code class="docutils literal notranslate"><span class="pre">parser_f</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/25648">GH 25648</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 对于 ODS 文件删除 0.0 值的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27222">GH 27222</a>)</p></li>
<li><p>修复了 <code class="xref py py-func docutils literal notranslate"><span class="pre">ujson.encode()</span></code> 在数字大于 <code class="docutils literal notranslate"><span class="pre">sys.maxsize</span></code> 时引发 <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34395">GH 34395</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">HDFStore.append_to_multiple()</span></code> 在设置 <code class="docutils literal notranslate"><span class="pre">min_itemsize</span></code> 参数时引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11238">GH 11238</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">create_table()</span></code> 现在在输入中未在 <code class="docutils literal notranslate"><span class="pre">data_columns</span></code> 中指定 <code class="docutils literal notranslate"><span class="pre">column</span></code> 参数时会引发错误的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28156">GH 28156</a>)</p></li>
<li><p>当设置了 <code class="docutils literal notranslate"><span class="pre">lines</span></code> 和 <code class="docutils literal notranslate"><span class="pre">chunksize</span></code> 时，<a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> 现在可以从文件 URL 读取按行分隔的 json 文件。</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql" title="pandas.DataFrame.to_sql"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_sql()</span></code></a> 在使用 MySQL 读取包含 <code class="docutils literal notranslate"><span class="pre">-np.inf</span></code> 条目的 DataFrame 时会引发更明确的 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34431">GH 34431</a>)</p></li>
<li><p>修复了 <code class="docutils literal notranslate"><span class="pre">read_*</span></code> 函数不会解压大写文件扩展名的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35164">GH 35164</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">header=None</span></code> 且 <code class="docutils literal notranslate"><span class="pre">index_col</span></code> 以 <code class="docutils literal notranslate"><span class="pre">list</span></code> 形式给出时引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31783">GH 31783</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 在 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 中使用日期时间值作为头部时存在的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34748">GH 34748</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> 不再接受 <code class="docutils literal notranslate"><span class="pre">**kwds</span></code> 参数。这意味着传递关键字参数 <code class="docutils literal notranslate"><span class="pre">chunksize</span></code> 现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (此前引发 <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code>)，而传递关键字参数 <code class="docutils literal notranslate"><span class="pre">encoding</span></code> 现在会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34464">GH 34464</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records" title="pandas.DataFrame.to_records"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_records()</span></code></a> 在时区感知 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 列中错误地丢失时区信息的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32535">GH 32535</a>)</p></li>
</ul>
</section>
<section id="plotting">
<h3>绘图<a class="headerlink" href="v1.1.0.html#plotting" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> 用于线/条形图现在支持按字典设置颜色 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/8193">GH 8193</a>)。</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.hist.html#pandas.DataFrame.plot.hist" title="pandas.DataFrame.plot.hist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot.hist()</span></code></a> 中权重对多列不起作用的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33173">GH 33173</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.boxplot.html#pandas.DataFrame.boxplot" title="pandas.DataFrame.boxplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.boxplot()</span></code></a> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot.boxplot()</span></code> 丢失 <code class="docutils literal notranslate"><span class="pre">medianprops</span></code>、<code class="docutils literal notranslate"><span class="pre">whiskerprops</span></code>、<code class="docutils literal notranslate"><span class="pre">capprops</span></code> 和 <code class="docutils literal notranslate"><span class="pre">boxprops</span></code> 颜色属性的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30346">GH 30346</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.hist.html#pandas.DataFrame.hist" title="pandas.DataFrame.hist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.hist()</span></code></a> 中 <code class="docutils literal notranslate"><span class="pre">column</span></code> 参数顺序被忽略的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29235">GH 29235</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter" title="pandas.DataFrame.plot.scatter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot.scatter()</span></code></a> 中添加多个具有不同 <code class="docutils literal notranslate"><span class="pre">cmap</span></code> 的图时，颜色条总是使用第一个 <code class="docutils literal notranslate"><span class="pre">cmap</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33389">GH 33389</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter" title="pandas.DataFrame.plot.scatter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot.scatter()</span></code></a> 即使参数 <code class="docutils literal notranslate"><span class="pre">c</span></code> 分配给包含颜色名称的列时也会向图添加颜色条的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34316">GH 34316</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.plotting.bootstrap_plot.html#pandas.plotting.bootstrap_plot" title="pandas.plotting.bootstrap_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.plotting.bootstrap_plot()</span></code></a> 导致坐标轴混乱和标签重叠的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34905">GH 34905</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.scatter.html#pandas.DataFrame.plot.scatter" title="pandas.DataFrame.plot.scatter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.plot.scatter()</span></code></a> 在绘制可变标记大小时导致错误的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32904">GH 32904</a>)</p></li>
</ul>
</section>
<section id="groupby-resample-rolling">
<h3>分组/重采样/滚动<a class="headerlink" href="v1.1.0.html#groupby-resample-rolling" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>将 <a class="reference internal" href="../reference/api/pandas.api.indexers.BaseIndexer.html#pandas.api.indexers.BaseIndexer" title="pandas.api.indexers.BaseIndexer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.api.indexers.BaseIndexer</span></code></a> 与 <code class="docutils literal notranslate"><span class="pre">count</span></code>、<code class="docutils literal notranslate"><span class="pre">min</span></code>、<code class="docutils literal notranslate"><span class="pre">max</span></code>、<code class="docutils literal notranslate"><span class="pre">median</span></code>、<code class="docutils literal notranslate"><span class="pre">skew</span></code>、<code class="docutils literal notranslate"><span class="pre">cov</span></code>、<code class="docutils literal notranslate"><span class="pre">corr</span></code> 一起使用时，现在将为任何单调 <a class="reference internal" href="../reference/api/pandas.api.indexers.BaseIndexer.html#pandas.api.indexers.BaseIndexer" title="pandas.api.indexers.BaseIndexer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.api.indexers.BaseIndexer</span></code></a> 后代返回正确的结果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32865">GH 32865</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupby.mean()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupby.mean()</span></code> (以及类似的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">median()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">std()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">var()</span></code>) 现在在传递非接受的关键字参数时会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>。此前会引发 <code class="docutils literal notranslate"><span class="pre">UnsupportedFunctionCall</span></code> (如果 <code class="docutils literal notranslate"><span class="pre">min_count</span></code> 传递给 <code class="xref py py-meth docutils literal notranslate"><span class="pre">median()</span></code> 则引发 <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code>) (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31485">GH 31485</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.apply.html#pandas.core.groupby.DataFrameGroupBy.apply" title="pandas.core.groupby.DataFrameGroupBy.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.apply()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.apply.html#pandas.core.groupby.SeriesGroupBy.apply" title="pandas.core.groupby.SeriesGroupBy.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.apply()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">by</span></code> 轴未排序、有重复项且应用的 <code class="docutils literal notranslate"><span class="pre">func</span></code> 未修改传入对象时引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30667">GH 30667</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.transform()</span></code> 使用转换函数产生不正确结果的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30918">GH 30918</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform" title="pandas.core.groupby.DataFrameGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.transform()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform" title="pandas.core.groupby.SeriesGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.transform()</span></code></a> 在按多个键分组时（其中一些是分类键，另一些不是）返回错误结果的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32494">GH 32494</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.count.html#pandas.core.groupby.DataFrameGroupBy.count" title="pandas.core.groupby.DataFrameGroupBy.count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.count()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.count.html#pandas.core.groupby.SeriesGroupBy.count" title="pandas.core.groupby.SeriesGroupBy.count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.count()</span></code></a> 在分组列包含 NaNs 时导致分段错误的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32841">GH 32841</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.groupby.html#pandas.Series.groupby" title="pandas.Series.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.groupby()</span></code></a> 在聚合布尔型 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 时产生不一致类型的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32894">GH 32894</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.sum()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.sum()</span></code> 在非空值数量低于可空整数 dtypes 的 <code class="docutils literal notranslate"><span class="pre">min_count</span></code> 时返回大负数的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32861">GH 32861</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.quantile()</span></code> 在可空整数上引发错误的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33136">GH 33136</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code></a> 在结果时区感知 <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> 在午夜发生夏令时转换时会引发 <code class="docutils literal notranslate"><span class="pre">AmbiguousTimeError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/25758">GH 25758</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 在按具有只读类别的分类列分组且 <code class="docutils literal notranslate"><span class="pre">sort=False</span></code> 时会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33410">GH 33410</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.agg.html#pandas.core.groupby.DataFrameGroupBy.agg" title="pandas.core.groupby.DataFrameGroupBy.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.agg()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.agg.html#pandas.core.groupby.SeriesGroupBy.agg" title="pandas.core.groupby.SeriesGroupBy.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.agg()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform" title="pandas.core.groupby.DataFrameGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.transform()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.transform.html#pandas.core.groupby.SeriesGroupBy.transform" title="pandas.core.groupby.SeriesGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.transform()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.resample.html#pandas.core.groupby.DataFrameGroupBy.resample" title="pandas.core.groupby.DataFrameGroupBy.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.resample()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.core.groupby.SeriesGroupBy.resample.html#pandas.core.groupby.SeriesGroupBy.resample" title="pandas.core.groupby.SeriesGroupBy.resample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.resample()</span></code></a> 中未保留子类的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28330">GH 28330</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.agg()</span></code> 中 <code class="xref py py-class docutils literal notranslate"><span class="pre">SeriesGroupBy</span></code> 命名聚合中此前接受任何列名的 bug。现在只允许 <code class="docutils literal notranslate"><span class="pre">str</span></code> 和可调用对象，否则会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34422">GH 34422</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 在其中一个 <code class="docutils literal notranslate"><span class="pre">agg</span></code> 键引用空列表时丢失 <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 名称的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32580">GH 32580</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.apply()</span></code> 在指定 <code class="docutils literal notranslate"><span class="pre">engine='numba'</span></code> 时 <code class="docutils literal notranslate"><span class="pre">center=True</span></code> 被忽略的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34784">GH 34784</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.ewm.cov()</span></code> 对 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 输入抛出 <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34440">GH 34440</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.quantile.html#pandas.core.groupby.DataFrameGroupBy.quantile" title="pandas.core.groupby.DataFrameGroupBy.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">core.groupby.DataFrameGroupBy.quantile()</span></code></a> 对非数值类型引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 而不是删除列的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27892">GH 27892</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html#pandas.core.groupby.DataFrameGroupBy.transform" title="pandas.core.groupby.DataFrameGroupBy.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">core.groupby.DataFrameGroupBy.transform()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">func='nunique'</span></code> 且列类型为 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 时，结果类型仍为 <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> 而非 <code class="docutils literal notranslate"><span class="pre">int64</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35109">GH 35109</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> 在选择列并使用 <code class="docutils literal notranslate"><span class="pre">as_index=False</span></code> 进行聚合时引发 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/35246">GH 35246</a>)。</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.first()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.last()</span></code> 在按多个 <code class="docutils literal notranslate"><span class="pre">Categoricals</span></code> 分组时会引发不必要的 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34951">GH 34951</a>)</p></li>
</ul>
</section>
<section id="reshaping">
<h3>重塑<a class="headerlink" href="v1.1.0.html#reshaping" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了影响所有数值和布尔型归约方法未返回子类数据类型的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/25596">GH 25596</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="pandas.DataFrame.pivot_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot_table()</span></code></a> 在仅设置 <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndexed</span></code> 列时存在的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17038">GH 17038</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack" title="pandas.DataFrame.unstack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.unstack.html#pandas.Series.unstack" title="pandas.Series.unstack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.unstack()</span></code></a> 可以接受 <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndexed</span></code> 数据中的元组名称的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19966">GH 19966</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="pandas.DataFrame.pivot_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot_table()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">margin</span></code> 为 <code class="docutils literal notranslate"><span class="pre">True</span></code> 且仅定义了 <code class="docutils literal notranslate"><span class="pre">column</span></code> 时存在的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31016">GH 31016</a>)</p></li>
<li><p>修正了 <a class="reference internal" href="../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot" title="pandas.DataFrame.pivot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">columns</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">None</span></code> 时不正确的错误消息 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30924">GH 30924</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.crosstab.html#pandas.crosstab" title="pandas.crosstab"><code class="xref py py-func docutils literal notranslate"><span class="pre">crosstab()</span></code></a> 在输入为两个 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 且具有元组名称时，输出将保留一个虚拟 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 作为列的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18321">GH 18321</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot" title="pandas.DataFrame.pivot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot()</span></code></a> 现在可以接受 <code class="docutils literal notranslate"><span class="pre">index</span></code> 和 <code class="docutils literal notranslate"><span class="pre">columns</span></code> 参数的列表 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/21425">GH 21425</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">copy=True</span></code> 时结果索引未被复制的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29879">GH 29879</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">SeriesGroupBy.aggregate()</span></code> 聚合名称相同时导致聚合被覆盖的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30880">GH 30880</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Index.astype.html#pandas.Index.astype" title="pandas.Index.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.astype()</span></code></a> 在从 <code class="docutils literal notranslate"><span class="pre">Float64Index</span></code> 转换为 <code class="docutils literal notranslate"><span class="pre">Int64Index</span></code> 或转换为 <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> dtype 时会丢失 <code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code> 属性的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32013">GH 32013</a>)</p></li>
<li><p>当传递 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 或包含 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 的序列时，<code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.append()</span></code> 现在将引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31413">GH 31413</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.replace.html#pandas.Series.replace" title="pandas.Series.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.replace()</span></code></a> 如果 <code class="docutils literal notranslate"><span class="pre">to_replace</span></code> 不是预期类型，将引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>。此前，<code class="docutils literal notranslate"><span class="pre">replace</span></code> 会静默失败 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18634">GH 18634</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 的原地操作 bug，该操作会将列添加回原始从中删除的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> (使用 <code class="docutils literal notranslate"><span class="pre">inplace=True</span></code>) (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30484">GH 30484</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply" title="pandas.DataFrame.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.apply()</span></code></a> 的 bug，即使请求 <code class="docutils literal notranslate"><span class="pre">raw=True</span></code>，回调函数仍会使用 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 参数调用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32423">GH 32423</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="pandas.DataFrame.pivot_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.pivot_table()</span></code></a> 在从具有时区感知 dtype 的列创建 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 级别时丢失时区信息的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32558">GH 32558</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> 在将非字典映射作为 <code class="docutils literal notranslate"><span class="pre">objs</span></code> 传入时会引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32863">GH 32863</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.agg.html#pandas.DataFrame.agg" title="pandas.DataFrame.agg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.agg()</span></code></a> 现在在尝试聚合不存在的列时提供更具描述性的 <code class="docutils literal notranslate"><span class="pre">SpecificationError</span></code> 消息 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32755">GH 32755</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack" title="pandas.DataFrame.unstack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code></a> 在使用 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 列和 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 行时存在的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32624">GH 32624</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/24729">GH 24729</a> 和 <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/28306">GH 28306</a>)</p></li>
<li><p>在不传入 <code class="docutils literal notranslate"><span class="pre">ignore_index=True</span></code> 的情况下向 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 附加字典将引发 <code class="docutils literal notranslate"><span class="pre">TypeError:</span> <span class="pre">Can</span> <span class="pre">only</span> <span class="pre">append</span> <span class="pre">a</span> <span class="pre">dict</span> <span class="pre">if</span> <span class="pre">ignore_index=True</span></code>，而不是 <code class="docutils literal notranslate"><span class="pre">TypeError:</span> <span class="pre">Can</span> <span class="pre">only</span> <span class="pre">append</span> <span class="pre">a</span> <span class="pre">:class:`Series`</span> <span class="pre">if</span> <span class="pre">ignore_index=True</span> <span class="pre">or</span> <span class="pre">if</span> <span class="pre">the</span> <span class="pre">:class:`Series`</span> <span class="pre">has</span> <span class="pre">a</span> <span class="pre">name</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/30871">GH 30871</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith" title="pandas.DataFrame.corrwith"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.corrwith()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.memory_usage.html#pandas.DataFrame.memory_usage" title="pandas.DataFrame.memory_usage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.memory_usage()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.dot.html#pandas.DataFrame.dot" title="pandas.DataFrame.dot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.dot()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.idxmin.html#pandas.DataFrame.idxmin" title="pandas.DataFrame.idxmin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.idxmin()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.idxmax.html#pandas.DataFrame.idxmax" title="pandas.DataFrame.idxmax"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.idxmax()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.duplicated.html#pandas.DataFrame.duplicated" title="pandas.DataFrame.duplicated"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.duplicated()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.isin.html#pandas.DataFrame.isin" title="pandas.DataFrame.isin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.isin()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.DataFrame.count.html#pandas.DataFrame.count" title="pandas.DataFrame.count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.count()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.explode.html#pandas.Series.explode" title="pandas.Series.explode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.explode()</span></code></a>、<a class="reference internal" href="../reference/api/pandas.Series.asof.html#pandas.Series.asof" title="pandas.Series.asof"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.asof()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.DataFrame.asof.html#pandas.DataFrame.asof" title="pandas.DataFrame.asof"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.asof()</span></code></a> 未返回子类类型的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31331">GH 31331</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> 不允许串联具有重复键的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33654">GH 33654</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.cut.html#pandas.cut" title="pandas.cut"><code class="xref py py-func docutils literal notranslate"><span class="pre">cut()</span></code></a> 在参数 <code class="docutils literal notranslate"><span class="pre">labels</span></code> 包含重复项时引发错误的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33141">GH 33141</a>)</p></li>
<li><p>确保只有命名函数可以在 <a class="reference internal" href="../reference/api/pandas.eval.html#pandas.eval" title="pandas.eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a> 中使用 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32460">GH 32460</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Dataframe.aggregate()</span></code> 和 <a class="reference internal" href="../reference/api/pandas.Series.aggregate.html#pandas.Series.aggregate" title="pandas.Series.aggregate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.aggregate()</span></code></a> 在某些情况下导致递归循环的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34224">GH 34224</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.melt.html#pandas.melt" title="pandas.melt"><code class="xref py py-func docutils literal notranslate"><span class="pre">melt()</span></code></a> 在熔化 <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> 列且 <code class="docutils literal notranslate"><span class="pre">col_level</span> <span class="pre">&gt;</span> <span class="pre">0</span></code> 时会引发 <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> on <code class="docutils literal notranslate"><span class="pre">id_vars</span></code> 的回归 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34129">GH 34129</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.where.html#pandas.Series.where" title="pandas.Series.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.where()</span></code></a> 在空 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 和非布尔 dtype 的空 <code class="docutils literal notranslate"><span class="pre">cond</span></code> 时存在的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34592">GH 34592</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply" title="pandas.DataFrame.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.apply()</span></code></a> 对 S dtype 元素引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的回归 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34529">GH 34529</a>)</p></li>
</ul>
</section>
<section id="sparse">
<h3>稀疏数据<a class="headerlink" href="v1.1.0.html#sparse" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>从时区感知 dtype 创建 <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseArray</span></code> 将在删除时区信息之前发出警告，而不是静默删除 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32501">GH 32501</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">arrays.SparseArray.from_spmatrix()</span></code> 错误读取 scipy 稀疏矩阵的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31991">GH 31991</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.sum.html#pandas.Series.sum" title="pandas.Series.sum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.sum()</span></code></a> 与 <code class="docutils literal notranslate"><span class="pre">SparseArray</span></code> 结合使用时引发 <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/25777">GH 25777</a>)</p></li>
<li><p>修复了包含完全稀疏的 <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseArray</span></code> (填充了 <code class="docutils literal notranslate"><span class="pre">NaN</span></code>) 的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 在按列表索引时出现的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27781">GH 27781</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/29563">GH 29563</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.SparseDtype.html#pandas.SparseDtype" title="pandas.SparseDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDtype</span></code></a> 的 repr 现在包含其 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> 属性的 repr。此前它使用 <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> 的字符串表示形式 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34352">GH 34352</a>)</p></li>
<li><p>修复了空 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 无法转换为 <a class="reference internal" href="../reference/api/pandas.SparseDtype.html#pandas.SparseDtype" title="pandas.SparseDtype"><code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDtype</span></code></a> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33113">GH 33113</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.arrays.SparseArray.html#pandas.arrays.SparseArray" title="pandas.arrays.SparseArray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">arrays.SparseArray()</span></code></a> 在使用可迭代对象索引稀疏 DataFrame 时返回不正确类型的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34526">GH 34526</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34540">GH 34540</a>)</p></li>
</ul>
</section>
<section id="extensionarray">
<h3>扩展数组<a class="headerlink" href="v1.1.0.html#extensionarray" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.value_counts.html#pandas.Series.value_counts" title="pandas.Series.value_counts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.value_counts()</span></code></a> 在 Int64 dtype 空输入时会引发错误的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33317">GH 33317</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> 在连接列不重叠的 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 对象时导致 object-dtype 列而不是保留扩展 dtype 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27692">GH 27692</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33027">GH 33027</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">StringArray.isna()</span></code> 在 <code class="docutils literal notranslate"><span class="pre">pandas.options.mode.use_inf_as_na</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code> 时对 NA 值返回 <code class="docutils literal notranslate"><span class="pre">False</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33655">GH 33655</a>)</p></li>
<li><p>修复了使用 EA dtype 和索引但无数据或标量数据构造 <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> 失败的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/26469">GH 26469</a>)</p></li>
<li><p>修复了导致 <code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.__repr__()</span></code> 对元素是多维数组的扩展类型崩溃的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33770">GH 33770</a>)。</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.Series.update.html#pandas.Series.update" title="pandas.Series.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.update()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> dtypes 包含缺失值时会引发 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33980">GH 33980</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">StringArray.memory_usage()</span></code> 未实现时的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33963">GH 33963</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy()</span></code> 会忽略可空布尔 dtypes 聚合的 <code class="docutils literal notranslate"><span class="pre">min_count</span></code> 参数的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34051">GH 34051</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 构造函数在 <code class="docutils literal notranslate"><span class="pre">dtype='string'</span></code> 时会失败的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/27953">GH 27953</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/33623">GH 33623</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> 列设置为标量扩展类型时被视为对象类型而不是扩展类型的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34832">GH 34832</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">IntegerArray.astype()</span></code> 未能正确复制掩码的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34931">GH 34931</a>)。</p></li>
</ul>
</section>
<section id="other">
<h3>其他<a class="headerlink" href="v1.1.0.html#other" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>对对象 dtype <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 进行的集合操作现在总是返回对象 dtype 结果 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/31401">GH 31401</a>)</p></li>
<li><p>修正了 <a class="reference internal" href="../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal" title="pandas.testing.assert_series_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.testing.assert_series_equal()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">left</span></code> 参数是不同子类且 <code class="docutils literal notranslate"><span class="pre">check_series_type=True</span></code> 时正确引发错误的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32670">GH 32670</a>)。</p></li>
<li><p>在 <a class="reference internal" href="../reference/api/pandas.DataFrame.query.html#pandas.DataFrame.query" title="pandas.DataFrame.query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.query()</span></code></a> 或 <a class="reference internal" href="../reference/api/pandas.DataFrame.eval.html#pandas.DataFrame.eval" title="pandas.DataFrame.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.eval()</span></code></a> 字符串中获取缺失属性时，会引发正确的 <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32408">GH 32408</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal" title="pandas.testing.assert_series_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.testing.assert_series_equal()</span></code></a> 在 <code class="docutils literal notranslate"><span class="pre">check_dtype</span></code> 为 <code class="docutils literal notranslate"><span class="pre">False</span></code> 时仍检查 <code class="docutils literal notranslate"><span class="pre">Interval</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ExtensionArray</span></code> 操作数 dtypes 的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/32747">GH 32747</a>)</p></li>
<li><p>修复了 <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.__dir__()</span></code> 在列名中使用 Unicode 代理项时导致分段错误的 bug (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/25509">GH 25509</a>)</p></li>
<li><p>修复了 <a class="reference internal" href="../reference/api/pandas.DataFrame.equals.html#pandas.DataFrame.equals" title="pandas.DataFrame.equals"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.equals()</span></code></a> 和 <a class="reference internal" href="../reference/api/pandas.Series.equals.html#pandas.Series.equals" title="pandas.Series.equals"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.equals()</span></code></a> 允许子类相等的问题 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/34402">GH 34402</a>)。</p></li>
</ul>
</section>
</section>
<section id="contributors">
<span id="whatsnew-110-contributors"></span><h2>贡献者<a class="headerlink" href="v1.1.0.html#contributors" title="Link to this heading">#</a></h2>
<p>共有 368 人为本次发布贡献了补丁。名字旁边带有“+”的人是首次贡献补丁。</p>
<ul class="simple">
<li><p>3vts +</p></li>
<li><p>A Brooks +</p></li>
<li><p>Abbie Popa +</p></li>
<li><p>Achmad Syarif Hidayatullah +</p></li>
<li><p>Adam W Bagaskarta +</p></li>
<li><p>Adrian Mastronardi +</p></li>
<li><p>Aidan Montare +</p></li>
<li><p>Akbar Septriyan +</p></li>
<li><p>Akos Furton +</p></li>
<li><p>Alejandro Hall +</p></li>
<li><p>Alex Hall +</p></li>
<li><p>Alex Itkes +</p></li>
<li><p>Alex Kirko</p></li>
<li><p>Ali McMaster +</p></li>
<li><p>Alvaro Aleman +</p></li>
<li><p>Amy Graham +</p></li>
<li><p>Andrew Schonfeld +</p></li>
<li><p>Andrew Shumanskiy +</p></li>
<li><p>Andrew Wieteska +</p></li>
<li><p>Angela Ambroz</p></li>
<li><p>Anjali Singh +</p></li>
<li><p>Anna Daglis</p></li>
<li><p>Anthony Milbourne +</p></li>
<li><p>Antony Lee +</p></li>
<li><p>Ari Sosnovsky +</p></li>
<li><p>Arkadeep Adhikari +</p></li>
<li><p>Arunim Samudra +</p></li>
<li><p>Ashkan +</p></li>
<li><p>Ashwin Prakash Nalwade +</p></li>
<li><p>Ashwin Srinath +</p></li>
<li><p>Atsushi Nukariya +</p></li>
<li><p>Ayappan +</p></li>
<li><p>Ayla Khan +</p></li>
<li><p>Bart +</p></li>
<li><p>Bart Broere +</p></li>
<li><p>Benjamin Beier Liu +</p></li>
<li><p>Benjamin Fischer +</p></li>
<li><p>Bharat Raghunathan</p></li>
<li><p>Bradley Dice +</p></li>
<li><p>Brendan Sullivan +</p></li>
<li><p>Brian Strand +</p></li>
<li><p>Carsten van Weelden +</p></li>
<li><p>Chamoun Saoma +</p></li>
<li><p>ChrisRobo +</p></li>
<li><p>Christian Chwala</p></li>
<li><p>Christopher Whelan</p></li>
<li><p>Christos Petropoulos +</p></li>
<li><p>Chuanzhu Xu</p></li>
<li><p>CloseChoice +</p></li>
<li><p>Clément Robert +</p></li>
<li><p>CuylenE +</p></li>
<li><p>DanBasson +</p></li>
<li><p>Daniel Saxton</p></li>
<li><p>Danilo Horta +</p></li>
<li><p>DavaIlhamHaeruzaman +</p></li>
<li><p>Dave Hirschfeld</p></li>
<li><p>Dave Hughes</p></li>
<li><p>David Rouquet +</p></li>
<li><p>David S +</p></li>
<li><p>Deepyaman Datta</p></li>
<li><p>Dennis Bakhuis +</p></li>
<li><p>Derek McCammond +</p></li>
<li><p>Devjeet Roy +</p></li>
<li><p>Diane Trout</p></li>
<li><p>Dina +</p></li>
<li><p>Dom +</p></li>
<li><p>Drew Seibert +</p></li>
<li><p>EdAbati</p></li>
<li><p>Emiliano Jordan +</p></li>
<li><p>Erfan Nariman +</p></li>
<li><p>Eric Groszman +</p></li>
<li><p>Erik Hasse +</p></li>
<li><p>Erkam Uyanik +</p></li>
<li><p>Evan D +</p></li>
<li><p>Evan Kanter +</p></li>
<li><p>Fangchen Li +</p></li>
<li><p>Farhan Reynaldo +</p></li>
<li><p>Farhan Reynaldo Hutabarat +</p></li>
<li><p>Florian Jetter +</p></li>
<li><p>Fred Reiss +</p></li>
<li><p>GYHHAHA +</p></li>
<li><p>Gabriel Moreira +</p></li>
<li><p>Gabriel Tutui +</p></li>
<li><p>Galuh Sahid</p></li>
<li><p>Gaurav Chauhan +</p></li>
<li><p>George Hartzell +</p></li>
<li><p>Gim Seng +</p></li>
<li><p>Giovanni Lanzani +</p></li>
<li><p>Gordon Chen +</p></li>
<li><p>Graham Wetzler +</p></li>
<li><p>Guillaume Lemaitre</p></li>
<li><p>Guillem Sánchez +</p></li>
<li><p>HH-MWB +</p></li>
<li><p>Harshavardhan Bachina</p></li>
<li><p>How Si Wei</p></li>
<li><p>Ian Eaves</p></li>
<li><p>Iqrar Agalosi Nureyza +</p></li>
<li><p>Irv Lustig</p></li>
<li><p>Iva Laginja +</p></li>
<li><p>JDkuba</p></li>
<li><p>Jack Greisman +</p></li>
<li><p>Jacob Austin +</p></li>
<li><p>Jacob Deppen +</p></li>
<li><p>Jacob Peacock +</p></li>
<li><p>Jake Tae +</p></li>
<li><p>Jake Vanderplas +</p></li>
<li><p>James Cobon-Kerr</p></li>
<li><p>Jan Červenka +</p></li>
<li><p>Jan Škoda</p></li>
<li><p>Jane Chen +</p></li>
<li><p>Jean-Francois Zinque +</p></li>
<li><p>Jeanderson Barros Candido +</p></li>
<li><p>Jeff Reback</p></li>
<li><p>Jered Dominguez-Trujillo +</p></li>
<li><p>Jeremy Schendel</p></li>
<li><p>Jesse Farnham</p></li>
<li><p>Jiaxiang</p></li>
<li><p>Jihwan Song +</p></li>
<li><p>Joaquim L. Viegas +</p></li>
<li><p>Joel Nothman</p></li>
<li><p>John Bodley +</p></li>
<li><p>John Paton +</p></li>
<li><p>Jon Thielen +</p></li>
<li><p>Joris Van den Bossche</p></li>
<li><p>Jose Manuel Martí +</p></li>
<li><p>Joseph Gulian +</p></li>
<li><p>Josh Dimarsky</p></li>
<li><p>Joy Bhalla +</p></li>
<li><p>João Veiga +</p></li>
<li><p>Julian de Ruiter +</p></li>
<li><p>Justin Essert +</p></li>
<li><p>Justin Zheng</p></li>
<li><p>KD-dev-lab +</p></li>
<li><p>Kaiqi Dong</p></li>
<li><p>Karthik Mathur +</p></li>
<li><p>Kaushal Rohit +</p></li>
<li><p>Kee Chong Tan</p></li>
<li><p>Ken Mankoff +</p></li>
<li><p>Kendall Masse</p></li>
<li><p>Kenny Huynh +</p></li>
<li><p>Ketan +</p></li>
<li><p>Kevin Anderson +</p></li>
<li><p>Kevin Bowey +</p></li>
<li><p>Kevin Sheppard</p></li>
<li><p>Kilian Lieret +</p></li>
<li><p>Koki Nishihara +</p></li>
<li><p>Krishna Chivukula +</p></li>
<li><p>KrishnaSai2020 +</p></li>
<li><p>Lesley +</p></li>
<li><p>Lewis Cowles +</p></li>
<li><p>Linda Chen +</p></li>
<li><p>Linxiao Wu +</p></li>
<li><p>Lucca Delchiaro Costabile +</p></li>
<li><p>MBrouns +</p></li>
<li><p>Mabel Villalba</p></li>
<li><p>Mabroor Ahmed +</p></li>
<li><p>Madhuri Palanivelu +</p></li>
<li><p>Mak Sze Chun</p></li>
<li><p>Malcolm +</p></li>
<li><p>Marc Garcia</p></li>
<li><p>Marco Gorelli</p></li>
<li><p>Marian Denes +</p></li>
<li><p>Martin Bjeldbak Madsen +</p></li>
<li><p>Martin Durant +</p></li>
<li><p>Martin Fleischmann +</p></li>
<li><p>Martin Jones +</p></li>
<li><p>Martin Winkel</p></li>
<li><p>Martina Oefelein +</p></li>
<li><p>Marvzinc +</p></li>
<li><p>María Marino +</p></li>
<li><p>Matheus Cardoso +</p></li>
<li><p>Mathis Felardos +</p></li>
<li><p>Matt Roeschke</p></li>
<li><p>Matteo Felici +</p></li>
<li><p>Matteo Santamaria +</p></li>
<li><p>Matthew Roeschke</p></li>
<li><p>Matthias Bussonnier</p></li>
<li><p>Max Chen</p></li>
<li><p>Max Halford +</p></li>
<li><p>Mayank Bisht +</p></li>
<li><p>Megan Thong +</p></li>
<li><p>Michael Marino +</p></li>
<li><p>Miguel Marques +</p></li>
<li><p>Mike Kutzma</p></li>
<li><p>Mohammad Hasnain Mohsin Rajan +</p></li>
<li><p>Mohammad Jafar Mashhadi +</p></li>
<li><p>MomIsBestFriend</p></li>
<li><p>Monica +</p></li>
<li><p>Natalie Jann</p></li>
<li><p>Nate Armstrong +</p></li>
<li><p>Nathanael +</p></li>
<li><p>Nick Newman +</p></li>
<li><p>Nico Schlömer +</p></li>
<li><p>Niklas Weber +</p></li>
<li><p>ObliviousParadigm +</p></li>
<li><p>Olga Lyashevska +</p></li>
<li><p>OlivierLuG +</p></li>
<li><p>Pandas Development Team</p></li>
<li><p>Parallels +</p></li>
<li><p>Patrick +</p></li>
<li><p>Patrick Cando +</p></li>
<li><p>Paul Lilley +</p></li>
<li><p>Paul Sanders +</p></li>
<li><p>Pearcekieser +</p></li>
<li><p>Pedro Larroy +</p></li>
<li><p>Pedro Reys</p></li>
<li><p>Peter Bull +</p></li>
<li><p>Peter Steinbach +</p></li>
<li><p>Phan Duc Nhat Minh +</p></li>
<li><p>Phil Kirlin +</p></li>
<li><p>Pierre-Yves Bourguignon +</p></li>
<li><p>Piotr Kasprzyk +</p></li>
<li><p>Piotr Niełacny +</p></li>
<li><p>Prakhar Pandey</p></li>
<li><p>Prashant Anand +</p></li>
<li><p>Puneetha Pai +</p></li>
<li><p>Quang Nguyễn +</p></li>
<li><p>Rafael Jaimes III +</p></li>
<li><p>Rafif +</p></li>
<li><p>RaisaDZ +</p></li>
<li><p>Rakshit Naidu +</p></li>
<li><p>Ram Rachum +</p></li>
<li><p>Red +</p></li>
<li><p>Ricardo Alanis +</p></li>
<li><p>Richard Shadrach +</p></li>
<li><p>Rik-de-Kort</p></li>
<li><p>Robert de Vries</p></li>
<li><p>Robin to Roxel +</p></li>
<li><p>Roger Erens +</p></li>
<li><p>Rohith295 +</p></li>
<li><p>Roman Yurchak</p></li>
<li><p>Ror +</p></li>
<li><p>Rushabh Vasani</p></li>
<li><p>Ryan</p></li>
<li><p>Ryan Nazareth</p></li>
<li><p>SAI SRAVAN MEDICHERLA +</p></li>
<li><p>SHUBH CHATTERJEE +</p></li>
<li><p>Sam Cohan</p></li>
<li><p>Samira-g-js +</p></li>
<li><p>Sandu Ursu +</p></li>
<li><p>Sang Agung +</p></li>
<li><p>SanthoshBala18 +</p></li>
<li><p>Sasidhar Kasturi +</p></li>
<li><p>SatheeshKumar Mohan +</p></li>
<li><p>Saul Shanabrook</p></li>
<li><p>Scott Gigante +</p></li>
<li><p>Sebastian Berg +</p></li>
<li><p>Sebastián Vanrell</p></li>
<li><p>Sergei Chipiga +</p></li>
<li><p>Sergey +</p></li>
<li><p>ShilpaSugan +</p></li>
<li><p>Simon Gibbons</p></li>
<li><p>Simon Hawkins</p></li>
<li><p>Simon Legner +</p></li>
<li><p>Soham Tiwari +</p></li>
<li><p>Song Wenhao +</p></li>
<li><p>Souvik Mandal</p></li>
<li><p>Spencer Clark</p></li>
<li><p>Steffen Rehberg +</p></li>
<li><p>Steffen Schmitz +</p></li>
<li><p>Stijn Van Hoey</p></li>
<li><p>Stéphan Taljaard</p></li>
<li><p>SultanOrazbayev +</p></li>
<li><p>Sumanau Sareen</p></li>
<li><p>SurajH1 +</p></li>
<li><p>Suvayu Ali +</p></li>
<li><p>Terji Petersen</p></li>
<li><p>Thomas J Fan +</p></li>
<li><p>Thomas Li</p></li>
<li><p>Thomas Smith +</p></li>
<li><p>Tim Swast</p></li>
<li><p>Tobias Pitters +</p></li>
<li><p>Tom +</p></li>
<li><p>Tom Augspurger</p></li>
<li><p>Uwe L. Korn</p></li>
<li><p>Valentin Iovene +</p></li>
<li><p>Vandana Iyer +</p></li>
<li><p>Venkatesh Datta +</p></li>
<li><p>Vijay Sai Mutyala +</p></li>
<li><p>Vikas Pandey</p></li>
<li><p>Vipul Rai +</p></li>
<li><p>Vishwam Pandya +</p></li>
<li><p>Vladimir Berkutov +</p></li>
<li><p>Will Ayd</p></li>
<li><p>Will Holmgren</p></li>
<li><p>William +</p></li>
<li><p>William Ayd</p></li>
<li><p>Yago González +</p></li>
<li><p>Yosuke KOBAYASHI +</p></li>
<li><p>Zachary Lawrence +</p></li>
<li><p>Zaky Bilfagih +</p></li>
<li><p>Zeb Nicholls +</p></li>
<li><p>alimcmaster1</p></li>
<li><p>alm +</p></li>
<li><p>andhikayusup +</p></li>
<li><p>andresmcneill +</p></li>
<li><p>avinashpancham +</p></li>
<li><p>benabel +</p></li>
<li><p>bernie gray +</p></li>
<li><p>biddwan09 +</p></li>
<li><p>brock +</p></li>
<li><p>chris-b1</p></li>
<li><p>cleconte987 +</p></li>
<li><p>dan1261 +</p></li>
<li><p>david-cortes +</p></li>
<li><p>davidwales +</p></li>
<li><p>dequadras +</p></li>
<li><p>dhuettenmoser +</p></li>
<li><p>dilex42 +</p></li>
<li><p>elmonsomiat +</p></li>
<li><p>epizzigoni +</p></li>
<li><p>fjetter</p></li>
<li><p>gabrielvf1 +</p></li>
<li><p>gdex1 +</p></li>
<li><p>gfyoung</p></li>
<li><p>guru kiran +</p></li>
<li><p>h-vishal</p></li>
<li><p>iamshwin</p></li>
<li><p>jamin-aws-ospo +</p></li>
<li><p>jbrockmendel</p></li>
<li><p>jfcorbett +</p></li>
<li><p>jnecus +</p></li>
<li><p>kernc</p></li>
<li><p>kota matsuoka +</p></li>
<li><p>kylekeppler +</p></li>
<li><p>leandermaben +</p></li>
<li><p>link2xt +</p></li>
<li><p>manoj_koneni +</p></li>
<li><p>marydmit +</p></li>
<li><p>masterpiga +</p></li>
<li><p>maxime.song +</p></li>
<li><p>mglasder +</p></li>
<li><p>moaraccounts +</p></li>
<li><p>mproszewska</p></li>
<li><p>neilkg</p></li>
<li><p>nrebena</p></li>
<li><p>ossdev07 +</p></li>
<li><p>paihu</p></li>
<li><p>pan Jacek +</p></li>
<li><p>partev +</p></li>
<li><p>patrick +</p></li>
<li><p>pedrooa +</p></li>
<li><p>pizzathief +</p></li>
<li><p>proost</p></li>
<li><p>pvanhauw +</p></li>
<li><p>rbenes</p></li>
<li><p>rebecca-palmer</p></li>
<li><p>rhshadrach +</p></li>
<li><p>rjfs +</p></li>
<li><p>s-scherrer +</p></li>
<li><p>sage +</p></li>
<li><p>sagungrp +</p></li>
<li><p>salem3358 +</p></li>
<li><p>saloni30 +</p></li>
<li><p>smartswdeveloper +</p></li>
<li><p>smartvinnetou +</p></li>
<li><p>themien +</p></li>
<li><p>timhunderwood +</p></li>
<li><p>tolhassianipar +</p></li>
<li><p>tonywu1999</p></li>
<li><p>tsvikas</p></li>
<li><p>tv3141</p></li>
<li><p>venkateshdatta1993 +</p></li>
<li><p>vivikelapoutre +</p></li>
<li><p>willbowditch +</p></li>
<li><p>willpeppo +</p></li>
<li><p>za +</p></li>
<li><p>zaki-indra +</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev" href="v1.1.1.html" title="previous page"> <i class="fa-solid fa-angle-left"></i> <div class="prev-next-info"> <p class="prev-next-subtitle">上一页</p> <p class="prev-next-title">1.1.1 版本新增功能 (2020年8月20日)</p> </div> </a> <a class="right-next" href="v1.0.5.html" title="next page"> <div class="prev-next-info"> <p class="prev-next-subtitle">下一页</p> <p class="prev-next-title">1.0.5 版本新增功能 (2020年6月17日)</p> </div> <i class="fa-solid fa-angle-right"></i> </a></div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> 本页内容</div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#enhancements">改进</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#keyerrors-raised-by-loc-specify-missing-labels">loc 引起的 KeyError 现在指定缺失标签</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#all-dtypes-can-now-be-converted-to-stringdtype">所有 dtypes 现在都可以转换为 <code class="docutils literal notranslate"><span class="pre">StringDtype</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#non-monotonic-periodindex-partial-string-slicing">非单调 PeriodIndex 的部分字符串切片</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#comparing-two-dataframe-or-two-series-and-summarizing-the-differences">比较两个 <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> 或两个 <code class="docutils literal notranslate"><span class="pre">Series</span></code> 并总结差异</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#allow-na-in-groupby-key">允许 groupby 键中存在 NA</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#sorting-with-keys">按键排序</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#fold-argument-support-in-timestamp-constructor">Timestamp 构造函数支持 fold 参数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#parsing-timezone-aware-format-with-different-timezones-in-to-datetime">to_datetime 中解析带不同时区的时区感知格式</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#grouper-and-resample-now-supports-the-arguments-origin-and-offset">Grouper 和 resample 现在支持 origin 和 offset 参数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#fsspec-now-used-for-filesystem-handling">fsspec 现在用于文件系统处理</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#other-enhancements">其他改进</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#notable-bug-fixes">重要错误修复</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#multiindex-get-indexer-interprets-method-argument-correctly"><code class="docutils literal notranslate"><span class="pre">MultiIndex.get_indexer</span></code> 正确解释 <code class="docutils literal notranslate"><span class="pre">method</span></code> 参数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#failed-label-based-lookups-always-raise-keyerror">基于标签的查找失败始终引发 KeyError</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#failed-integer-lookups-on-multiindex-raise-keyerror">MultiIndex 上的整数查找失败引发 KeyError</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#dataframe-merge-preserves-right-frame-s-row-order"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code> 保留右侧数据帧的行顺序</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#assignment-to-multiple-columns-of-a-dataframe-when-some-columns-do-not-exist">当某些列不存在时，将值赋给 DataFrame 的多个列</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#consistency-across-groupby-reductions">groupby 聚合结果的一致性</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#dataframegroupby-agg-lost-results-with-as-index-false-when-relabeling-columns">当重新标记列时，<code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupby.agg()</span></code> 在 <code class="docutils literal notranslate"><span class="pre">as_index=False</span></code> 的情况下丢失结果</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#apply-and-applymap-on-dataframe-evaluates-first-row-column-only-once">DataFrame 上的 apply 和 applymap 只评估第一行/列一次</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#backwards-incompatible-api-changes">向后不兼容的 API 变更</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#added-check-freq-argument-to-testing-assert-frame-equal-and-testing-assert-series-equal">为 <code class="docutils literal notranslate"><span class="pre">testing.assert_frame_equal</span></code> 和 <code class="docutils literal notranslate"><span class="pre">testing.assert_series_equal</span></code> 添加了 <code class="docutils literal notranslate"><span class="pre">check_freq</span></code> 参数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#increased-minimum-versions-for-dependencies">提高了依赖项的最低版本要求</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#development-changes">开发变更</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#deprecations">弃用</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#performance-improvements">性能改进</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#bug-fixes">错误修复</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#categorical">Categorical</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#datetimelike">Datetimelike</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#timedelta">Timedelta</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#timezones">时区</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#numeric">数值</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#conversion">转换</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#strings">字符串</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#interval">区间</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#indexing">索引</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#missing">缺失值</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#multiindex">MultiIndex</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#io">I/O</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#plotting">绘图</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#groupby-resample-rolling">分组/重采样/滚动</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#reshaping">重塑</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#sparse">稀疏</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#extensionarray">扩展数组</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#other">其他</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="v1.1.0.html#contributors">贡献者</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/whatsnew/v1.1.0.rst.txt">
      <i class="fa-solid fa-file-lines"></i> 显示源文件</a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js%3Fdigest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js%3Fdigest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><p class="copyright">© 2025, pandas 经由 <a href="https://numfocus.org">NumFOCUS, Inc.</a> 提供。由 <a href="https://www.ovhcloud.com">OVHcloud</a> 托管。</p></div>
      
        <div class="footer-item">

  <p class="sphinx-version">使用 <a href="https://sphinx-doc.cn/">Sphinx</a> 8.1.3 创建。<br />
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">使用 <a href="https://pydata.sphinx-doc.cn/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4 构建。</p></div>
      
    </div>
  
</div>

  </footer>
  
</body></html>