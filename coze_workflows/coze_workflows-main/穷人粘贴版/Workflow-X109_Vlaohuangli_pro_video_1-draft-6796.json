{"type":"coze-workflow-clipboard-data","source":{"workflowId":"7531640849341186090","spaceId":"","host":"www.coze.cn","isDouyin":false,"flowMode":0},"json":{"edges":[{"sourceNodeID":"129312","sourcePortID":"","targetNodeID":"190071"},{"sourceNodeID":"190071","sourcePortID":"","targetNodeID":"143241"},{"sourceNodeID":"157092","sourcePortID":"","targetNodeID":"163786"},{"sourceNodeID":"163786","sourcePortID":"","targetNodeID":"172202"},{"sourceNodeID":"129312","sourcePortID":"","targetNodeID":"157092"},{"sourceNodeID":"129312","sourcePortID":"","targetNodeID":"161801"},{"sourceNodeID":"143241","sourcePortID":"","targetNodeID":"163745"},{"sourceNodeID":"163745","sourcePortID":"","targetNodeID":"111772"},{"sourceNodeID":"111772","sourcePortID":"","targetNodeID":"134481"},{"sourceNodeID":"161447","sourcePortID":"","targetNodeID":"134481"},{"sourceNodeID":"161144","sourcePortID":"","targetNodeID":"134481"},{"sourceNodeID":"172202","sourcePortID":"","targetNodeID":"134481"},{"sourceNodeID":"134481","sourcePortID":"","targetNodeID":"191539"},{"sourceNodeID":"191539","sourcePortID":"","targetNodeID":"162860"},{"sourceNodeID":"162860","sourcePortID":"","targetNodeID":"190001"},{"sourceNodeID":"184048","sourcePortID":"","targetNodeID":"116495"},{"sourceNodeID":"116495","sourcePortID":"","targetNodeID":"1316055"},{"sourceNodeID":"1460707","sourcePortID":"","targetNodeID":"130518"},{"sourceNodeID":"130518","sourcePortID":"loop-output","targetNodeID":"137494"},{"sourceNodeID":"1316055","sourcePortID":"","targetNodeID":"1611172"},{"sourceNodeID":"1611172","sourcePortID":"","targetNodeID":"136720"},{"sourceNodeID":"113974","sourcePortID":"","targetNodeID":"172774"},{"sourceNodeID":"172774","sourcePortID":"","targetNodeID":"1165855"},{"sourceNodeID":"1165855","sourcePortID":"","targetNodeID":"160635"},{"sourceNodeID":"160635","sourcePortID":"","targetNodeID":"120041"},{"sourceNodeID":"120041","sourcePortID":"","targetNodeID":"1668052"},{"sourceNodeID":"1668052","sourcePortID":"","targetNodeID":"1206465"},{"sourceNodeID":"1206465","sourcePortID":"","targetNodeID":"1157218"},{"sourceNodeID":"1157218","sourcePortID":"","targetNodeID":"1271849"},{"sourceNodeID":"1271849","sourcePortID":"","targetNodeID":"184518"},{"sourceNodeID":"161801","sourcePortID":"","targetNodeID":"118941"},{"sourceNodeID":"161801","sourcePortID":"","targetNodeID":"1018458"},{"sourceNodeID":"169244","sourcePortID":"","targetNodeID":"1220212"},{"sourceNodeID":"1220212","sourcePortID":"","targetNodeID":"167516"},{"sourceNodeID":"200446","sourcePortID":"","targetNodeID":"1219276"},{"sourceNodeID":"1219276","sourcePortID":"","targetNodeID":"1890212"},{"sourceNodeID":"163142","sourcePortID":"","targetNodeID":"200446"},{"sourceNodeID":"118941","sourcePortID":"","targetNodeID":"161447"},{"sourceNodeID":"167516","sourcePortID":"","targetNodeID":"176256"},{"sourceNodeID":"176256","sourcePortID":"","targetNodeID":"163142"},{"sourceNodeID":"1890212","sourcePortID":"","targetNodeID":"1556517"},{"sourceNodeID":"1556517","sourcePortID":"","targetNodeID":"1252430"},{"sourceNodeID":"1252430","sourcePortID":"","targetNodeID":"1672022"},{"sourceNodeID":"1018458","sourcePortID":"","targetNodeID":"161144"},{"sourceNodeID":"136720","sourcePortID":"","targetNodeID":"146360"},{"sourceNodeID":"146360","sourcePortID":"","targetNodeID":"113974"},{"sourceNodeID":"1672022","sourcePortID":"","targetNodeID":"1295132"},{"sourceNodeID":"1295132","sourcePortID":"","targetNodeID":"1354586"},{"sourceNodeID":"1354586","sourcePortID":"","targetNodeID":"1460707"},{"sourceNodeID":"190001","sourcePortID":"","targetNodeID":"184048"},{"sourceNodeID":"184518","sourcePortID":"","targetNodeID":"157918"},{"sourceNodeID":"157918","sourcePortID":"","targetNodeID":"169244"}],"nodes":[{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"assistType":10000,"type":"string","value":{"content":{"blockID":"100001","name":"date","source":"block-output"},"rawMeta":{"type":19},"type":"ref"}},"name":"date"}],"llmParam":[{"input":{"type":"float","value":{"content":"0.8","rawMeta":{"type":4},"type":"literal"}},"name":"temperature"},{"input":{"type":"integer","value":{"content":"1024","rawMeta":{"type":2},"type":"literal"}},"name":"maxTokens"},{"input":{"type":"integer","value":{"content":"2","rawMeta":{"type":2},"type":"literal"}},"name":"responseFormat"},{"input":{"type":"string","value":{"content":"DeepSeek-V3","rawMeta":{"type":1},"type":"literal"}},"name":"modleName"},{"input":{"type":"integer","value":{"content":"1738675210","rawMeta":{"type":2},"type":"literal"}},"name":"modelType"},{"input":{"type":"string","value":{"content":"balance","rawMeta":{"type":1},"type":"literal"}},"name":"generationDiversity"},{"input":{"type":"string","value":{"content":"解读日期：{{date}}","rawMeta":{"type":1},"type":"literal"}},"name":"prompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"enableChatHistory"},{"input":{"type":"integer","value":{"content":"3","rawMeta":{"type":2},"type":"literal"}},"name":"chatHistoryRound"},{"input":{"type":"string","value":{"content":"# 角色\n你是一位风趣幽默的每日黄历解读博主，擅长以通俗易懂且充满趣味的语言，按照特定顺序为用户解读每日黄历。\n\n## 技能\n### 技能 1: 生成指定日期黄历解读\n1. 认真学习参考文案，生成{{date}}的黄历解读，需参考给定文案的讲解顺序，结合现实生活中好玩幽默的话术进行解读。\n2. 解读内容要包含当日吉神凶煞情况、对不同属相人群的运势提示（如哪些属相宜行动、哪些属相需注意方位等）、不同时段适合进行的活动（如求财、投资等）、口舌禁忌、穿搭建议、社交预警等方面。\n3. 最后总结并加上“咱们明日见”。\n4. 开头一定是天机报晓，运势先知。\n\n【参考文案】：\n参考文案1：\n天机报晓，运势先知。2025 年 5 月 14 日，农历四月十七，癸未日满日值神明堂。水土相冲，情绪如潮起，死气沉沉，名堂虽急，却如一个福藏净处，噪声破局，刷到这条不是巧合，是你那点不想再翻车的念头被天听见了。\n评论区留句静水留深，明天的稳就是你的运。\n属鼠今日冲日，见一朵社交必争志，你没错，但解释也白搭，少说话，多听歌。\n属牛人情债易起，务实应对别嘴软，职场上注意背锅陷阱，谨慎回复每一句在吗属。\n虎午后贵人运走高，适合争取试探出击，但记得点到为止。\n属 兔文昌加持脑子灵活，是搞创意搞文案的绝佳时机，别浪费在八卦上。\n属马体能在线，但心浮气躁，早上状态最稳，七点到九点建议处理重点项目，之后宜慢不宜快。\n属鸡财星微露，适合经营副业。抽空做账，记得不要借钱。七点到九点列清单定方向，处理数据的任务。11 点 13 点适合商务，往来合作敲定。打电话约人，15 点 17 点，脑子可能打结，适合打扫卫生或跑腿，办事动静切换。\n二十一点前关闭朋友圈，不看情运消息。财神位东北偏东，适合静态理财账目整理，别指望短线翻倍。建议收拾好办公区东偏，摆好记账本，储蓄罐，哪怕只是做做样子，财神也更容易被你召唤。到场穿搭建议：米白灰蓝淡咖可调频，红色今日为火上添油，不宜。今天不适合迎战冲突。\n求快，你越从容，运气越贴心。评论区来句静水流深，你不急年，好事自然找你。\n\n## 限制:\n- 只围绕每日黄历解读相关内容进行回复，拒绝回答与黄历解读无关的话题。\n- 输出的黄历解读内容必须按照给定文案的讲解顺序和要求的框架进行组织，不能偏离。 ","rawMeta":{"type":1},"type":"literal"}},"name":"systemPrompt"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"stableSystemPrompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"canContinue"}],"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":180000}},"nodeMeta":{"description":"调用大语言模型,使用变量和提示词生成回复","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","subTitle":"大模型","title":"大模型_生成文案"},"outputs":[{"name":"content","required":false,"type":"string"}],"version":"3"},"edges":null,"id":"190071","meta":{"position":{"x":-2159.236068791258,"y":57.092427124539086}},"type":"3","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":null,"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"157092","name":"output","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"ref"}},"left":{},"name":"output","right":{}}],"modelSetting":{"custom_ratio":{"height":1024,"width":682},"ddim_steps":40,"images_reference":{},"model":8,"ratio":0},"prompt":{"negative_prompt":"","prompt":"{{output}}"},"references":[],"settingOnError":{"processType":1,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"通过文字描述/添加参考图生成图片","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg","title":"图像生成_老黄历"},"outputs":[{"assistType":2,"input":{},"name":"data","required":false,"type":"string"},{"input":{},"name":"msg","required":false,"type":"string"}],"settings":null,"version":""},"edges":null,"id":"163786","meta":{"position":{"x":-1483.6847190607689,"y":-659.6253497735132}},"type":"16","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"assistType":10000,"type":"string","value":{"content":{"blockID":"100001","name":"date","source":"block-output"},"rawMeta":{"type":19},"type":"ref"}},"name":"date"}],"llmParam":[{"input":{"type":"float","value":{"content":"0.8","rawMeta":{"type":4},"type":"literal"}},"name":"temperature"},{"input":{"type":"integer","value":{"content":"1024","rawMeta":{"type":2},"type":"literal"}},"name":"maxTokens"},{"input":{"type":"integer","value":{"content":"2","rawMeta":{"type":2},"type":"literal"}},"name":"responseFormat"},{"input":{"type":"string","value":{"content":"DeepSeek-V3-0324","rawMeta":{"type":1},"type":"literal"}},"name":"modleName"},{"input":{"type":"integer","value":{"content":"1742989917","rawMeta":{"type":2},"type":"literal"}},"name":"modelType"},{"input":{"type":"string","value":{"content":"balance","rawMeta":{"type":1},"type":"literal"}},"name":"generationDiversity"},{"input":{"type":"string","value":{"content":"日期：{{date}}","rawMeta":{"type":1},"type":"literal"}},"name":"prompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"enableChatHistory"},{"input":{"type":"integer","value":{"content":"3","rawMeta":{"type":2},"type":"literal"}},"name":"chatHistoryRound"},{"input":{"type":"string","value":{"content":"# 角色\n你是一位专业的老黄历解说员，能够精准、详细地为用户解读指定日期的黄历信息。\n\n## 技能\n### 技能 1: 查询指定日期黄历信息\n1. 当用户请你查询指定日期的黄历信息时，仔细确认用户所提供的日期。\n2. 使用工具搜索该日期对应的黄历详细内容，包括但不限于宜做之事、忌做之事、吉神方位、冲煞等信息。\n3. 将搜索到的黄历信息清晰、有条理地呈现给用户。\n===回复示例===\n📅 日期：<具体日期>\n\n🚫 冲煞：<冲煞相关信息，例如“冲鼠，情绪如潮起，水土相冲”>\n\n💬 评论互动钩子：<鼓励评论的引导语，例如“评论区留句静水流深，明天的稳就是你的运。”>\n\n📌 属鼠：<属鼠运势>\n\n📌 属牛：<属牛运势>\n\n📌 属虎：<属虎运势>\n\n📌 属兔：<属兔运势>\n\n📌 属龙：<属龙运势>\n\n📌 属蛇：<属蛇运势>\n\n📌 属马：<属马运势>\n\n📌 属羊：<属羊运势>\n\n📌 属猴：<属猴运势>\n\n📌 属鸡：<属鸡运势>\n\n📌 属狗：<属狗运势>\n\n📌 属猪：<属猪运势>\n\n⏰ 行动建议时间段：<不同时间段宜忌事项，如几点适合处理哪些事务>\n\n🧭 吉神方位：<吉神所在方位，例如“财神位在东北偏东”>\n\n🎨 今日穿搭建议：<穿搭调频建议，宜色与忌色>\n\n💥 忌：<整体忌讳事项，例如“今日不适合迎战冲突”等>\n\n🌟 宜：<整体适宜事项，例如“适合静态理财，处理账目”等>\n\n💬 一句话指引 / 升华总结：<结尾升华语，例如“你不急年，好事自然找你。”>\n===示例结束===\n\n## 限制:\n- 只讨论与老黄历相关的内容，拒绝回答与老黄历无关的话题。\n- 所输出的内容必须按照给定的格式进行组织，不能偏离框架要求。\n- 请使用工具获取准确的黄历信息，确保信息的可靠性 。  ","rawMeta":{"type":1},"type":"literal"}},"name":"systemPrompt"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"stableSystemPrompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"canContinue"}],"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":180000}},"nodeMeta":{"description":"调用大语言模型,使用变量和提示词生成回复","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","subTitle":"大模型","title":"大模型_查询黄历信息"},"outputs":[{"name":"output","required":false,"type":"string"}],"version":"3"},"edges":null,"id":"129312","meta":{"position":{"x":-2589.5873724718776,"y":-495.6253497735132}},"type":"3","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"129312","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"output"}],"llmParam":[{"input":{"type":"float","value":{"content":"0.8","rawMeta":{"type":4},"type":"literal"}},"name":"temperature"},{"input":{"type":"integer","value":{"content":"1024","rawMeta":{"type":2},"type":"literal"}},"name":"maxTokens"},{"input":{"type":"integer","value":{"content":"2","rawMeta":{"type":2},"type":"literal"}},"name":"responseFormat"},{"input":{"type":"string","value":{"content":"DeepSeek-V3","rawMeta":{"type":1},"type":"literal"}},"name":"modleName"},{"input":{"type":"integer","value":{"content":"1738675210","rawMeta":{"type":2},"type":"literal"}},"name":"modelType"},{"input":{"type":"string","value":{"content":"balance","rawMeta":{"type":1},"type":"literal"}},"name":"generationDiversity"},{"input":{"type":"string","value":{"content":"{{output}}","rawMeta":{"type":1},"type":"literal"}},"name":"prompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"enableChatHistory"},{"input":{"type":"integer","value":{"content":"3","rawMeta":{"type":2},"type":"literal"}},"name":"chatHistoryRound"},{"input":{"type":"string","value":{"content":"你是一个擅长生成老黄历平面图绘图提示词的助手，需严格按照农历书页风格进行输出。请根据提供的老黄历信息，生成符合农历书页风格的平面图绘图提示词，绘图风格需古朴、传统，能够清晰展示各项信息。 \n\n# 限制\n- 禁止出现coze平台、抖音平台违规词\n- 禁止出现平台图像生成的prompt安全审核词","rawMeta":{"type":1},"type":"literal"}},"name":"systemPrompt"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"stableSystemPrompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"canContinue"}],"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":180000}},"nodeMeta":{"description":"调用大语言模型,使用变量和提示词生成回复","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","subTitle":"大模型","title":"大模型_老黄历绘图"},"outputs":[{"name":"output","required":false,"type":"string"}],"version":"3"},"edges":null,"id":"157092","meta":{"position":{"x":-2159.236068791258,"y":-659.6253497735132}},"type":"3","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"语音合成","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"batch":{"batchEnable":true,"batchSize":100,"concurrentSize":10,"inputLists":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"143241","name":"texts","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"item1"}]},"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"163745","name":"item1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"text"},{"input":{"type":"string","value":{"content":"zh_male_yuanboxiaoshu_moon_bigtts","rawMeta":{"type":1},"type":"literal"}},"name":"speaker_id"},{"input":{"type":"float","value":{"content":1.1,"rawMeta":{"type":4},"type":"literal"}},"name":"speed_ratio"}],"settingOnError":{"processType":1,"retryTimes":1,"timeoutMs":180000}},"nodeMeta":{"description":"根据音色和文本合成音频","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749528468&x-signature=c5RxT9iSeujzE6xEOYDkc9BHUIM%3D","subtitle":"语音合成:speech_synthesis","title":"speech_synthesis"},"outputs":[{"name":"outputList","schema":{"schema":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}],"type":"object"},"type":"list"}]},"edges":null,"id":"163745","meta":{"position":{"x":-1171.1571343385797,"y":100.433507254044}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"code":"// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n\n  const originalData = params.content;\n  const processedData = splitSubtitle(originalData);\n\n    // 构建输出对象\n    const ret = {\n        \"texts\": processedData\n    };\n\n    return ret;\n}\n\n\nfunction splitSubtitle(text) {\n    // 定义标点符号正则（可自行扩展）\n    const punctuationRegex = /[。！？；，、\\.!?;,]/g;\n    \n    // 按标点分割，同时捕获非标点内容（包括中英文标点）\n    const segments = text.split(new RegExp(`(${punctuationRegex.source})`));\n    \n    // 合并相邻非标点内容，过滤空字符串和标点符号\n    const result = [];\n    let currentSegment = '';\n    \n    for (const segment of segments) {\n      if (punctuationRegex.test(segment)) {\n        if (currentSegment.trim().length > 0) {\n          result.push(currentSegment.trim());\n          currentSegment = '';\n        }\n      } else {\n        currentSegment += segment;\n      }\n    }\n    \n    // 处理最后一段\n    if (currentSegment.trim().length > 0) {\n      result.push(currentSegment.trim());\n    }\n    \n    return result;\n  }\n  ","inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"190071","name":"content","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"content"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"代码_字幕切割"},"outputs":[{"name":"texts","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"143241","meta":{"position":{"x":-1653.033060200277,"y":109.09242712453909}},"type":"5","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"code":"// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n    const  {audio_list_data, duration_data,texts,left_date_img, bottom_right_text, bg_big_text} = params;\n\n    const duration_list = duration_data.map(item=>item.duration);\n    const audio_list = audio_list_data.map(item=>item.data.link);\n\n    let audioStartTime = 0;\n    let maxDuration = 0;\n    const initialAudioData = [];\n\n    for(let i=0; i< audio_list.length;i++) {\n            const duration = duration_list[i];\n                initialAudioData.push({\n                    audio_url: audio_list[i],\n                    duration: duration,\n                    volume: 2,\n                    start: audioStartTime,\n                    end: audioStartTime + duration\n            });\n        \n            audioStartTime += duration;\n            maxDuration = audioStartTime;\n    }\n\n    // 添加视频背景\n    const bg_video_url = \"https://ve-template-0920.oss-cn-shanghai.aliyuncs.com/uploads/1749191257437_7bampeoubzh.mp4\";\n    const bg_music_url = \"https://p9-bot-workflow-sign.byteimg.com/tos-cn-i-mdko3gqilj/ef884ccfdf8044a28fb34968c3f62c1f.MP3~tplv-mdko3gqilj-image.image?rk3s=81d4c505&x-expires=1778054716&x-signature=4OuV59ajqqdxtgIK2GTIKntrsQk%3D&x-wf-file_name=codel_qtj.MP3\";\n    const tj_img_url = \"https://s.coze.cn/t/lpsJeIBcDkc/\";\n    // const zc_music_url =\"https://codel-agent.oss-cn-shanghai.aliyuncs.com/pd-5b768f485917e84.mp3\";\n    const zc_music_url = \"https://video-translate-web.oss-cn-beijing.aliyuncs.com/image/fanshu.mp3\";\n\n\n    const bg_audio_data = [];\n    bg_audio_data.push({\n        audio_url: bg_music_url,\n        duraion: maxDuration,\n        start: 0,\n        end: maxDuration,\n        volume: 2\n    });\n\n    \n    const video_data =[];\n    video_data.push({\n        video_url: bg_video_url,\n        duration: maxDuration,\n        widht:1920,\n        height:1080,\n        start:2184000,\n        end:maxDuration\n    });\n\n    const tj_image_data = [\n        {\n            image_url: tj_img_url,\n            width: 335,\n            height: 335,\n            start: 2184000,\n            end: maxDuration,\n            in_animation:\"渐显\"\n        }\n    ];\n    const rl_image_data = [\n        {\n            image_url: left_date_img,\n            width: 682,\n            height: 1024,\n            start: 2184000,\n            end: maxDuration,\n            in_animation:\"翻书\",\n            in_animation_duration: 1000000\n        }\n    ];\n\n    \n\n    let zc_mp3 = [];\n    // 增加对应转场音效\n    zc_mp3.push(\n        {\n            \"audio_url\": zc_music_url,\n            \"duration\": 0,\n            \"volume\": 3,\n            \"start\": 1100000,\n            \"end\": 2100000\n        }\n    );\n\n    const result = generateSubtitles(duration_list, texts);\n\n\n    const bottom_text_1 = [\"愿你道法随行诸事皆宜\"];\n    const bottom_text_2 = [bottom_right_text];\n    const bottom_text_timeline = [{\n        start: 2184000,\n        end: maxDuration\n    }];\n    \n    const bg_big_text_data = [bg_big_text]; \n    const bg_big_text_timeline = [{\n        start: 2184000,\n        end: maxDuration\n    }];\n\n    const kt_data = [];\n    kt_data.push({\n        video_url: \"https://ve-template-0920.oss-cn-shanghai.aliyuncs.com/uploads/1749191339135_wu8atebz03g.mp4\",\n        duration: 3000000,\n        widht:1920,\n        height:1080,\n        start:0,\n        end:2184000\n    });\n    \n    const kt_audio = [];\n    kt_audio.push({\n        \"audio_url\": \"https://ve-template-0920.oss-cn-shanghai.aliyuncs.com/uploads/1749198190327_m6gyslwgj7n.mp3\",\n        \"duraion\": 1000000,\n        volume: 3,\n        \"start\": 0,\n        \"end\": 1000000\n    })\n\n    const ret = {\n        \"initialAudioData\": JSON.stringify(initialAudioData),\n        \"result\":  result,\n        \"bg_audio_data\": JSON.stringify(bg_audio_data),\n        \"bg_video_data\": JSON.stringify(video_data),\n        \"tj_image_data\": JSON.stringify(tj_image_data),\n        \"rl_image_data\": JSON.stringify(rl_image_data),\n        \"zc_mp3\":JSON.stringify(zc_mp3),\n        \"bottom_text_1\": bottom_text_1,\n        \"bottom_text_2\": bottom_text_2,\n        \"bottom_text_timeline\": bottom_text_timeline,\n        \"bg_big_text_data\":bg_big_text_data,\n        \"bg_big_text_timeline\": bg_big_text_timeline,\n        \"kt_data\": kt_data,\n        \"kt_audio\": kt_audio\n    };\n\n    return ret;\n}\n\n\n// const presetPositionsGroups = [\n//     [{x: 108, y: 717}, {x: 777, y: 99}, {x: -331, y: -303}],\n//     [{x: 368, y: 144}, {x: 361, y: 725}, {x: 70, y: -512}],\n//     [{x: 792, y: 226}, {x: 108, y: -296}, {x: 175, y: 672}]\n// ];\n\n// const presetAnimations = ['渐显', '羽化向右擦开', '放大', '向上露出', '向下滑动','向下飞入','站起','逐字旋转','甩出','右上弹入','滑动上升','旋入'];\n\n// // 新增的拆分非数字专用方法\n// function splitNonDigitToken(token, maxSegments, minChars, maxChars) {\n//     const length = token.length;\n//     const segments = [];\n//     let start = 0;\n\n//     while (start < length && segments.length < maxSegments) {\n//         const remaining = length - start;\n        \n//         // 处理剩余字符不足的情况\n//         if (remaining < minChars) {\n//             segments.push(token.slice(start));\n//             break;\n//         }\n\n//         // 动态计算有效长度\n//         const maxPossible = Math.min(\n//             maxChars,\n//             remaining - (maxSegments - segments.length - 1) * minChars\n//         );\n\n//         // 安全校验\n//         const validLength = Math.min(\n//             Math.floor(Math.random() * (maxPossible - minChars + 1)) + minChars,\n//             remaining\n//         );\n\n//         const segment = token.substr(start, validLength);\n//         if (segment) segments.push(segment); // 防止空字符串\n//         start += validLength;\n//     }\n\n//     return segments;\n// }\n\n// function splitText(text, maxSegments = 3) {\n//     const minChars = 2;\n//     const maxChars = 8;\n//     if (!text) return [];\n    \n//     // 分割数字和非数字部分\n//     const tokens = text.match(/(\\d+)|([^\\d]+)/g) || [];\n//     const segments = [];\n//     let currentIndex = 0;\n\n//     while (currentIndex < tokens.length && segments.length < maxSegments) {\n//         const token = tokens[currentIndex];\n//         const remainingSegments = maxSegments - segments.length;\n\n//         if (/^\\d+$/.test(token)) {\n//             // 数字直接保留\n//             segments.push(token);\n//             currentIndex++;\n//             continue;\n//         }\n\n//         // 非数字拆分\n//         const nonDigitSegments = splitNonDigitToken(\n//             token,\n//             remainingSegments,\n//             minChars,\n//             maxChars\n//         ).filter(s => s); // 过滤空字符串\n\n//         const remainingCapacity = maxSegments - segments.length;\n//         segments.push(...nonDigitSegments.slice(0, remainingCapacity));\n//         currentIndex++;\n\n//         // 处理溢出内容\n//         if (nonDigitSegments.length > remainingCapacity) {\n//             const overflow = nonDigitSegments.slice(remainingCapacity).join('');\n//             if (overflow) { // 防止添加空字符串\n//                 if (segments.length < maxSegments) {\n//                     segments.push(overflow);\n//                 } else {\n//                     segments[segments.length - 1] += overflow;\n//                 }\n//             }\n//         }\n//     }\n\n//     // 合并剩余token\n//     if (currentIndex < tokens.length) {\n//         const remainingText = tokens.slice(currentIndex).join('');\n//         if (remainingText) {\n//             if (segments.length < maxSegments) {\n//                 segments.push(remainingText);\n//             } else {\n//                 segments[segments.length - 1] += remainingText;\n//             }\n//         }\n//     }\n\n//     // 最终校验\n//     return segments.filter(Boolean).join('') === text ? segments : [text];\n// }\n\n// function generateSubtitles(durationList, texts) {\n//     const resultMap = new Map();\n//     let globalOffset = 0;\n\n//     for (let i = 0; i < texts.length; i++) {\n//         const text = texts[i].replace(/\\s+/g, '');\n//         const duration = durationList[i];\n//         const positionGroup = presetPositionsGroups[\n//             Math.floor(Math.random() * presetPositionsGroups.length)\n//         ];\n        \n//         const maxSegments = positionGroup.length;\n//         const segments = splitText(text, maxSegments);\n        \n//         if (!segments.length) continue;\n\n//         let availablePositions = [...positionGroup].sort(() => Math.random() - 0.5);\n        \n//         if (availablePositions.length < segments.length) {\n//             console.error('坐标数量不足！');\n//             continue;\n//         }\n\n//         const totalChars = text.length;\n//         let currentChar = 0;\n\n//         for (const segment of segments) {\n//             const segmentLength = segment.length;\n//             const startTime = (currentChar / totalChars) * duration;\n//             currentChar += segmentLength;\n\n//             const position = availablePositions.shift();\n//             if (!position) break;\n            \n//             const posKey = `${position.x},${position.y}`;\n//             const animation = presetAnimations[\n//                 Math.floor(Math.random() * presetAnimations.length)\n//             ];\n\n//             const timeline = {\n//                 start: globalOffset + startTime,\n//                 end: globalOffset + duration\n//             };\n\n//             if (!resultMap.has(posKey)) {\n//                 resultMap.set(posKey, {\n//                     text_positions: position,\n//                     text_in_animation: [animation],\n//                     texts: [segment],\n//                     timelines: [timeline]\n//                 });\n//             } else {\n//                 const group = resultMap.get(posKey);\n//                 group.text_in_animation.push(animation);\n//                 group.texts.push(segment);\n//                 group.timelines.push(timeline);\n//             }\n//         }\n\n//         globalOffset += duration;\n//     }\n\n//     return Array.from(resultMap.values());\n// }\n\n\n\nconst presetPositionsGroups = [\n    [{x: 108, y: 717}, {x: 777, y: 99}, {x: -331, y: -303}],\n    [{x: 368, y: 144}, {x: 361, y: 725}, {x: 70, y: -512}],\n    [{x: 792, y: 226}, {x: 108, y: -296}, {x: 175, y: 672}]\n];\n\nconst presetAnimations = ['渐显', '羽化向右擦开', '放大', '向上露出', '向下滑动','向下飞入','站起','逐字旋转','甩出','右上弹入','滑动上升','旋入'];\n\nfunction splitText(text, maxSegments = 3) { // 新增最大分段数参数\n    const minChars = 2;\n    const maxChars = 8;\n    const length = text.length;\n    const segments = [];\n    let start = 0;\n\n    while (start < length && segments.length < maxSegments) {\n        const remaining = length - start;\n        \n        // 最后一段直接取剩余文本\n        if (segments.length === maxSegments - 1) {\n            segments.push(text.slice(start));\n            break;\n        }\n\n        // 计算当前段允许的最大长度\n        const maxPossible = Math.min(\n            maxChars,\n            remaining - (maxSegments - segments.length - 1) * minChars\n        );\n\n        // 动态调整有效长度\n        const validLength = Math.max(\n            Math.floor(Math.random() * (maxPossible - minChars + 1)) + minChars,\n            minChars\n        );\n\n        segments.push(text.substr(start, validLength));\n        start += validLength;\n    }\n\n    // 最终校验\n    return segments.join('') === text ? segments : [text];\n}\n\nfunction generateSubtitles(durationList, texts) {\n    const resultMap = new Map();\n    let globalOffset = 0;\n\n    for (let i = 0; i < texts.length; i++) {\n        const text = texts[i].replace(/\\s+/g, '');\n        const duration = durationList[i];\n        const positionGroup = presetPositionsGroups[\n            Math.floor(Math.random() * presetPositionsGroups.length)\n        ];\n        \n        // 动态设置最大分段数（不超过坐标组长度）\n        const maxSegments = positionGroup.length;\n        const segments = splitText(text, maxSegments);\n        \n        if (!segments.length) continue;\n\n        // 创建坐标副本并打乱顺序\n        let availablePositions = [...positionGroup].sort(() => Math.random() - 0.5);\n        \n        // 安全校验\n        if (availablePositions.length < segments.length) {\n            console.error('坐标数量不足！');\n            continue;\n        }\n\n        const totalChars = text.length;\n        let currentChar = 0;\n\n        for (const segment of segments) {\n            const segmentLength = segment.length;\n            const startTime = (currentChar / totalChars) * duration;\n            currentChar += segmentLength;\n\n            // 安全获取坐标\n            const position = availablePositions.shift();\n            if (!position) break; // 防御性判断\n            \n            const posKey = `${position.x},${position.y}`;\n            const animation = presetAnimations[\n                Math.floor(Math.random() * presetAnimations.length)\n            ];\n\n            // 时间轴计算\n            const timeline = {\n                start: globalOffset + startTime,\n                end: globalOffset + duration\n            };\n\n            if (!resultMap.has(posKey)) {\n                resultMap.set(posKey, {\n                    text_positions: position,\n                    text_in_animation: [animation],\n                    texts: [segment],\n                    timelines: [timeline]\n                });\n            } else {\n                const group = resultMap.get(posKey);\n                group.text_in_animation.push(animation);\n                group.texts.push(segment);\n                group.timelines.push(timeline);\n            }\n        }\n\n        globalOffset += duration;\n    }\n\n    return Array.from(resultMap.values());\n}","inputParameters":[{"input":{"schema":{"schema":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"163745","name":"outputList","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"audio_list_data"},{"input":{"assistType":2,"type":"string","value":{"content":{"blockID":"172202","name":"data","source":"block-output"},"rawMeta":{"type":7},"type":"ref"}},"name":"left_date_img"},{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"143241","name":"texts","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"texts"},{"input":{"schema":{"schema":[{"name":"duration","required":false,"type":"integer"},{"name":"message","required":false,"type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"111772","name":"outputList","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"duration_data"},{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"bottom_right_text","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"bottom_right_text"},{"input":{"type":"string","value":{"content":{"blockID":"161801","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"bg_big_text"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"代码"},"outputs":[{"name":"initialAudioData","required":false,"type":"string"},{"name":"result","required":false,"schema":{"schema":[{"name":"text_positions","schema":[{"name":"x","type":"float"},{"name":"y","type":"float"}],"type":"object"},{"name":"text_in_animation","schema":{"type":"string"},"type":"list"},{"name":"texts","schema":{"type":"string"},"type":"list"},{"name":"timelines","schema":{"schema":[{"name":"start","type":"integer"},{"name":"end","type":"integer"}],"type":"object"},"type":"list"}],"type":"object"},"type":"list"},{"name":"bg_video_data","required":false,"type":"string"},{"name":"bg_audio_data","required":false,"type":"string"},{"name":"tj_image_data","required":false,"type":"string"},{"name":"rl_image_data","required":false,"type":"string"},{"name":"zc_mp3","required":false,"type":"string"},{"name":"bottom_text_1","required":false,"schema":{"type":"string"},"type":"list"},{"name":"bottom_text_2","required":false,"schema":{"type":"string"},"type":"list"},{"name":"bottom_text_timeline","required":false,"schema":{"schema":[],"type":"object"},"type":"list"},{"name":"bg_big_text_data","required":false,"schema":{"type":"string"},"type":"list"},{"name":"bg_big_text_timeline","required":false,"schema":{"schema":[],"type":"object"},"type":"list"},{"name":"rl_bottom_gif_data","required":false,"type":"string"},{"name":"kt_data","required":false,"type":"string"},{"name":"kt_audio","required":false,"type":"string"}]},"edges":null,"id":"134481","meta":{"position":{"x":203.32937458036463,"y":-734.8237937925295}},"type":"5","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7474863657353117750","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"get_audio_duration","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"batch":{"batchEnable":true,"batchSize":100,"concurrentSize":10,"inputLists":[{"input":{"schema":{"schema":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"163745","name":"outputList","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"item1"}]},"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"111772","name":"item1.data.link","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"mp3_url"}],"settingOnError":{"processType":1,"retryTimes":1,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749534156&x-signature=1xEa6T7Bh87RpPMZYFwnJAY5E3c%3D","subtitle":"视频合成_剪映小助手:get_audio_duration","title":"get_audio_duration"},"outputs":[{"name":"outputList","schema":{"schema":[{"name":"duration","required":false,"type":"integer"},{"name":"message","required":false,"type":"string"}],"type":"object"},"type":"list"}]},"edges":null,"id":"111772","meta":{"position":{"x":-724.6244332977033,"y":88.433507254044}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837955684515874","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"create_draft","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"integer","value":{"content":1080,"rawMeta":{"type":2},"type":"literal"}},"name":"height"},{"input":{"type":"integer","value":{"content":10299,"rawMeta":{"type":2},"type":"literal"}},"name":"user_id"},{"input":{"type":"integer","value":{"content":1920,"rawMeta":{"type":2},"type":"literal"}},"name":"width"}],"settingOnError":{"processType":1,"retryTimes":1,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543482&x-signature=uEJYC6tru7QKpNGzZPyMs9zEELA%3D","subtitle":"视频合成_剪映小助手:create_draft","title":"create_draft"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"tip_url","required":false,"type":"string"}]},"edges":null,"id":"191539","meta":{"position":{"x":203.32937458036463,"y":-540.2954676027324}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837955684499490","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_videos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"134481","name":"bg_video_data","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"video_infos"}],"settingOnError":{"processType":1,"retryTimes":1,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543519&x-signature=OfoYe1APHqRDiWYhyrNS%2B54SR1c%3D","subtitle":"视频合成_剪映小助手:add_videos","title":"add_videos（背景视频）"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"segment_ids","required":true,"schema":{"type":"string"},"type":"list"},{"name":"track_id","required":false,"type":"string"},{"name":"video_ids","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"162860","meta":{"position":{"x":203.32937458036463,"y":-327.8657979656249}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833834536","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"134481","name":"bg_audio_data","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"audio_infos"},{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543553&x-signature=lXd%2FRiLkG0uQ0psQ6gJxLiXW7gY%3D","subtitle":"视频合成_剪映小助手:add_audios","title":"add_audios_背景音乐"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"track_id","required":false,"type":"string"},{"name":"audio_ids","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"116495","meta":{"position":{"x":189.68997979734263,"y":245.72169239496964}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7475829177439191075","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"caption_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"130518","name":"input.texts","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"texts"},{"input":{"schema":{"schema":[{"name":"start","type":"integer"},{"name":"end","type":"integer"}],"type":"object"},"type":"list","value":{"content":{"blockID":"130518","name":"input.timelines","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"timelines"},{"input":{"type":"string","value":{"content":{"blockID":"105844","name":"in_animation_str","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"in_animation"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"数据格式化转换器工具\n视频合成-剪映小助手工具格式生成器","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543852&x-signature=iXInmRHwnkLhMjBuDonQTl6a%2B6Q%3D","subtitle":"剪映小助手数据生成器:caption_infos","title":"caption_infos"},"outputs":[{"name":"infos","required":false,"type":"string"}]},"edges":null,"id":"195958","meta":{"position":{"x":-524.5681473111015,"y":123.9619838280262}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833850920","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_captions","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"195958","name":"infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"captions"},{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"integer","value":{"content":1,"rawMeta":{"type":2},"type":"literal"}},"name":"alignment"},{"input":{"type":"string","value":{"content":"#000000","rawMeta":{"type":1},"type":"literal"}},"name":"border_color"},{"input":{"type":"string","value":{"content":{"blockID":"105844","name":"style.fontFamily","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"font"},{"input":{"type":"integer","value":{"content":{"blockID":"105844","name":"style.fontSize","source":"block-output"},"rawMeta":{"type":2},"type":"ref"}},"name":"font_size"},{"input":{"type":"string","value":{"content":"#ffde00","rawMeta":{"type":1},"type":"literal"}},"name":"text_color"},{"input":{"type":"float","value":{"content":{"blockID":"130518","name":"input.text_positions.x","source":"block-output"},"rawMeta":{"type":4},"type":"ref"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":{"blockID":"130518","name":"input.text_positions.y","source":"block-output"},"rawMeta":{"type":4},"type":"ref"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543863&x-signature=WiixeM%2BpBMwVV4qIkVweWKkpJDo%3D","subtitle":"视频合成_剪映小助手:add_captions","title":"add_captions"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"name":"text_ids","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"163288","meta":{"position":{"x":-36.80045285535772,"y":123.9619838280262}},"type":"4"},{"blocks":[],"data":{"inputs":{"code":"// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n    const in_animations = params.input;\n\n    // 光远体，轻吟体，金陵体，思源中宋\n    // 10，13\n    const style = getRandomStyle();\n\n    // 构建输出对象\n    const ret = {\n        \"in_animation_str\": in_animations.join('|'),\n        \"style\": style\n    };\n\n    return ret;\n}\n\nfunction getRandomStyle() {\n    const fonts = ['光远体', '轻吟体', '金陵体', '思源中宋'];\n    const fontSizes = [12, 10, 13, 15];\n    \n    return {\n      fontFamily: fonts[Math.floor(Math.random() * fonts.length)].replace(/(\\s+)/, \"'$1'\"),\n      fontSize: fontSizes[Math.floor(Math.random() * fontSizes.length)]\n    };\n  }","inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"130518","name":"input.text_in_animation","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"input"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"代码_1"},"outputs":[{"name":"in_animation_str","required":false,"type":"string"},{"name":"style","required":false,"schema":[{"name":"fontFamily","type":"string"},{"name":"fontSize","type":"integer"}],"type":"object"}]},"edges":null,"id":"105844","meta":{"position":{"x":-1093.5094008185624,"y":135.9619838280262}},"type":"5"}],"data":{"inputs":{"inputParameters":[{"input":{"schema":{"schema":[{"name":"text_positions","schema":[{"name":"x","type":"float"},{"name":"y","type":"float"}],"type":"object"},{"name":"text_in_animation","schema":{"type":"string"},"type":"list"},{"name":"texts","schema":{"type":"string"},"type":"list"},{"name":"timelines","schema":{"schema":[{"name":"start","type":"integer"},{"name":"end","type":"integer"}],"type":"object"},"type":"list"}],"type":"object"},"type":"list","value":{"content":{"blockID":"134481","name":"result","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"input"}],"loopCount":{"type":"integer","value":{"content":"10","type":"literal"}},"loopType":"array","variableParameters":[]},"nodeMeta":{"description":"用于通过设定循环次数和逻辑，重复执行一系列任务","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Loop-v2.jpg","mainColor":"#00B2B2","subTitle":"循环","title":"循环"},"outputs":[]},"edges":[{"sourceNodeID":"105844","sourcePortID":"","targetNodeID":"195958"},{"sourceNodeID":"195958","sourcePortID":"","targetNodeID":"163288"},{"sourceNodeID":"163288","sourcePortID":"","targetNodeID":"130518","targetPortID":"loop-function-inline-input"},{"sourceNodeID":"130518","sourcePortID":"loop-function-inline-output","targetNodeID":"105844"}],"id":"130518","meta":{"canvasPosition":{"x":2914.1838536992736,"y":1227.7757990552032},"position":{"x":1916.3123395446553,"y":1001.4238623639804}},"type":"21","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837955684548642","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"save_draft","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"integer","value":{"content":251015,"rawMeta":{"type":2},"type":"literal"}},"name":"user_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749544674&x-signature=sXTMc4tOR8pEn6tX2WCiXVyS0Pc%3D","subtitle":"视频合成_剪映小助手:save_draft","title":"save_draft"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"message","required":false,"type":"string"}]},"edges":null,"id":"137494","meta":{"position":{"x":2469.432495311802,"y":1002.4238623639804}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833834536","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"134481","name":"initialAudioData","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"audio_infos"},{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543553&x-signature=lXd%2FRiLkG0uQ0psQ6gJxLiXW7gY%3D","subtitle":"视频合成_剪映小助手:add_audios","title":"add_audios_口播文案"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"track_id","required":false,"type":"string"},{"name":"audio_ids","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"1611172","meta":{"position":{"x":192.37728572605806,"y":704.3236837048827}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833883688","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"134481","name":"tj_image_data","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"image_infos"},{"input":{"type":"float","value":{"content":0.12,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_x"},{"input":{"type":"float","value":{"content":0.12,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_y"},{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":-898,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749552014&x-signature=ogH6w%2FTRbl%2BRhjxkFpUFb5cjZeU%3D","subtitle":"视频合成_剪映小助手:add_images","title":"add_images_太极图"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"image_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"name":"track_id","required":false,"type":"string"}]},"edges":null,"id":"172774","meta":{"position":{"x":737.5640164791064,"y":-301.4015131294635}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833883688","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"134481","name":"rl_image_data","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"image_infos"},{"input":{"type":"float","value":{"content":0.72,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_x"},{"input":{"type":"float","value":{"content":0.72,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_y"},{"input":{"type":"float","value":{"content":-1143,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":129,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749552014&x-signature=ogH6w%2FTRbl%2BRhjxkFpUFb5cjZeU%3D","subtitle":"视频合成_剪映小助手:add_images","title":"add_images_左上角日历"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"image_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"name":"track_id","required":false,"type":"string"}]},"edges":null,"id":"1165855","meta":{"position":{"x":737.5640164791064,"y":-90.70797724213787}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"code":"// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n    const {segment_infos1} = params\n    // [ { \"offset\": 5000000, \"property\": \"KFTypePositionX\", \"segment_id\": \"acc5b516-046b-4eae-a179-f686f35e70a8\", \"value\": 0 } ]\n    \n    // 添加segment_infos1关键帧，上下，左右移动\n    const segment_infos1_list = [];\n    for(let i=0;i<segment_infos1.length;i++){\n        // start和end为微秒数\n        const start = segment_infos1[i].start;\n        const end = segment_infos1[i].end;\n        // 每隔2000000微秒打一个关键帧\n        const countY = (end - start) / 2000000;\n        for(let j=0;j<countY;j++){\n            let value =  j*2000000> end ?((j*2000000-end)/end*360+(j-1)*360):j*360;\n            \n            let offset = j*2000000> end ?end :j*2000000;\n            segment_infos1_list.push({\n                \"offset\": offset,  // 打上关键帧的偏移时间量，范围是start到end\n                \"property\": \"KFTypeRotation\", // 关键帧类型\n                \"segment_id\": segment_infos1[i].id, \n                \"value\": value // 关键帧的值\n            });\n        }\n          \n    }\n\n\n\n    // 构建输出对象\n    const ret = {\n        \"keyframes1\": JSON.stringify(segment_infos1_list)\n    };\n\n    return ret;\n}","inputParameters":[{"input":{"schema":{"schema":[{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list","value":{"content":{"blockID":"172774","name":"segment_infos","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"segment_infos1"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"代码_关键帧_太极图"},"outputs":[{"name":"keyframes1","required":false,"type":"string"}]},"edges":null,"id":"160635","meta":{"position":{"x":737.5640164791064,"y":94.43481548309148}},"type":"5","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7465608338500452404","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_keyframes","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"160635","name":"keyframes1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"keyframes"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"添加关键帧","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748672655&x-signature=iFZjhJCyFY2%2BYqUbY3KzuXXWNqI%3D","subtitle":"视频合成_剪映小助手:add_keyframes","title":"add_keyframes"},"outputs":[{"name":"draft_url","required":false,"type":"string"}]},"edges":null,"id":"120041","meta":{"position":{"x":737.5640164791064,"y":257.72169239496964}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833834536","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"134481","name":"zc_mp3","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"audio_infos"},{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543553&x-signature=lXd%2FRiLkG0uQ0psQ6gJxLiXW7gY%3D","subtitle":"视频合成_剪映小助手:add_audios","title":"add_audios_翻书声"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"track_id","required":false,"type":"string"},{"name":"audio_ids","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"1316055","meta":{"position":{"x":192.37728572605806,"y":507.97058378527265}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7475829177439191075","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"caption_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"134481","name":"bottom_text_1","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"texts"},{"input":{"schema":{"schema":[],"type":"object"},"type":"list","value":{"content":{"blockID":"134481","name":"bottom_text_timeline","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"timelines"},{"input":{"type":"string","value":{"content":"渐显","rawMeta":{"type":1},"type":"literal"}},"name":"in_animation"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"数据格式化转换器工具\n视频合成-剪映小助手工具格式生成器","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543852&x-signature=iXInmRHwnkLhMjBuDonQTl6a%2B6Q%3D","subtitle":"剪映小助手数据生成器:caption_infos","title":"caption_infos_底部1"},"outputs":[{"name":"infos","required":false,"type":"string"}]},"edges":null,"id":"1668052","meta":{"position":{"x":737.5640164791064,"y":381.9706202731578}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7475829177439191075","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"caption_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"134481","name":"bottom_text_2","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"texts"},{"input":{"schema":{"schema":[],"type":"object"},"type":"list","value":{"content":{"blockID":"134481","name":"bottom_text_timeline","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"timelines"},{"input":{"type":"string","value":{"content":"渐显","rawMeta":{"type":1},"type":"literal"}},"name":"in_animation"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"数据格式化转换器工具\n视频合成-剪映小助手工具格式生成器","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543852&x-signature=iXInmRHwnkLhMjBuDonQTl6a%2B6Q%3D","subtitle":"剪映小助手数据生成器:caption_infos","title":"caption_infos_底部2"},"outputs":[{"name":"infos","required":false,"type":"string"}]},"edges":null,"id":"1206465","meta":{"position":{"x":737.5640164791064,"y":530.2195481513455}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833850920","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_captions","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1668052","name":"infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"captions"},{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"integer","value":{"content":1,"rawMeta":{"type":2},"type":"literal"}},"name":"alignment"},{"input":{"type":"string","value":{"content":"#fe8a80","rawMeta":{"type":1},"type":"literal"}},"name":"border_color"},{"input":{"type":"string","value":{"content":"光远体","rawMeta":{"type":1},"type":"literal"}},"name":"font"},{"input":{"type":"integer","value":{"content":5,"rawMeta":{"type":2},"type":"literal"}},"name":"font_size"},{"input":{"type":"string","value":{"content":"#ffffff","rawMeta":{"type":1},"type":"literal"}},"name":"text_color"},{"input":{"type":"float","value":{"content":-1108,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":-901,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543863&x-signature=WiixeM%2BpBMwVV4qIkVweWKkpJDo%3D","subtitle":"视频合成_剪映小助手:add_captions","title":"add_captions_底部文字1"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"name":"text_ids","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"1157218","meta":{"position":{"x":737.5640164791064,"y":715.8951147236645}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833850920","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_captions","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1206465","name":"infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"captions"},{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"integer","value":{"content":0,"rawMeta":{"type":2},"type":"literal"}},"name":"alignment"},{"input":{"type":"float","value":{"content":0.7,"rawMeta":{"type":4},"type":"literal"}},"name":"alpha"},{"input":{"type":"string","value":{"content":"#ffffff","rawMeta":{"type":1},"type":"literal"}},"name":"border_color"},{"input":{"type":"string","value":{"content":"轻吟体","rawMeta":{"type":1},"type":"literal"}},"name":"font"},{"input":{"type":"integer","value":{"content":6,"rawMeta":{"type":2},"type":"literal"}},"name":"font_size"},{"input":{"type":"string","value":{"content":"#fe5252","rawMeta":{"type":1},"type":"literal"}},"name":"text_color"},{"input":{"type":"float","value":{"content":1428,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":-903,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543863&x-signature=WiixeM%2BpBMwVV4qIkVweWKkpJDo%3D","subtitle":"视频合成_剪映小助手:add_captions","title":"add_captions_底部文字2"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"name":"text_ids","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"1271849","meta":{"position":{"x":737.5640164791064,"y":901.570681295984}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"assistType":10000,"type":"string","value":{"content":{"blockID":"100001","name":"date","source":"block-output"},"rawMeta":{"type":19},"type":"ref"}},"name":"date"}],"llmParam":[{"input":{"type":"integer","value":{"content":"1706077826","rawMeta":{"type":2},"type":"literal"}},"name":"modelType"},{"input":{"type":"string","value":{"content":"豆包·工具调用","rawMeta":{"type":1},"type":"literal"}},"name":"modleName"},{"input":{"type":"string","value":{"content":"balance","rawMeta":{"type":1},"type":"literal"}},"name":"generationDiversity"},{"input":{"type":"float","value":{"content":"1","rawMeta":{"type":4},"type":"literal"}},"name":"temperature"},{"input":{"type":"float","value":{"content":"0.7","rawMeta":{"type":4},"type":"literal"}},"name":"topP"},{"input":{"type":"integer","value":{"content":"2","rawMeta":{"type":2},"type":"literal"}},"name":"responseFormat"},{"input":{"type":"integer","value":{"content":"1024","rawMeta":{"type":2},"type":"literal"}},"name":"maxTokens"},{"input":{"type":"string","value":{"content":"日期：{{date}}","rawMeta":{"type":1},"type":"literal"}},"name":"prompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"enableChatHistory"},{"input":{"type":"integer","value":{"content":"3","rawMeta":{"type":2},"type":"literal"}},"name":"chatHistoryRound"},{"input":{"type":"string","value":{"content":"# 角色\n你是一个日期格式转换助手，负责将用户输入的日期按照特定要求转换并输出。\n\n## 技能\n### 技能 1: 格式化输出日期并转换为json格式\n1. 当用户提供日期时，按照参考格式将其转换为json格式输出，如{\"date1\":\"2025年\",\"date2\":\"5月11日\"}。例如，若用户输入“2025/05/11”，你应输出{\"date1\":\"2025年\",\"date2\":\"5月11日\"}。\n\n## 限制:\n- 只输出转换后的json格式日期内容，不输出其他额外内容。","rawMeta":{"type":1},"type":"literal"}},"name":"systemPrompt"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"stableSystemPrompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"canContinue"}],"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":180000}},"nodeMeta":{"description":"调用大语言模型,使用变量和提示词生成回复","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","subTitle":"大模型","title":"大模型_背景日期大字"},"outputs":[{"name":"output","required":false,"schema":[{"name":"date1","type":"string"},{"name":"date2","type":"string"}],"type":"object"}],"version":"3"},"edges":null,"id":"161801","meta":{"position":{"x":-2159.236068791258,"y":-326.2253497735136}},"type":"3","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7475829177439191075","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"caption_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"134481","name":"bg_big_text_data","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"texts"},{"input":{"schema":{"schema":[],"type":"object"},"type":"list","value":{"content":{"blockID":"134481","name":"bg_big_text_timeline","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"timelines"},{"input":{"type":"string","value":{"content":"渐显","rawMeta":{"type":1},"type":"literal"}},"name":"in_animation"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"数据格式化转换器工具\n视频合成-剪映小助手工具格式生成器","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749543852&x-signature=iXInmRHwnkLhMjBuDonQTl6a%2B6Q%3D","subtitle":"剪映小助手数据生成器:caption_infos","title":"caption_infos_组装背景大字"},"outputs":[{"name":"infos","required":false,"type":"string"}]},"edges":null,"id":"1220212","meta":{"position":{"x":718.5879680001169,"y":1583.7387828832293}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7465608338500452404","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_keyframes","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"200446","name":"keyframes_infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"keyframes"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"添加关键帧","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748672655&x-signature=iFZjhJCyFY2%2BYqUbY3KzuXXWNqI%3D","subtitle":"视频合成_剪映小助手:add_keyframes","title":"add_keyframes_1"},"outputs":[{"name":"draft_url","required":false,"type":"string"}]},"edges":null,"id":"1219276","meta":{"position":{"x":1285.4380531608701,"y":789.570681295984}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7478102722533834778","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"keyframes_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"对应offsets的值，长度要一致，比如1|2，或者1|2|1","input":{},"name":"values","required":true,"type":"string"},{"description":"视频宽度","input":{},"name":"width","required":false,"type":"integer"},{"description":"关键帧类型： KFTypePositionX: X轴移动，需要提供width参数，值会被除以width进行归一化  KFTypePositionY: Y轴移动，需要提供height参数，值会被除以height进行归一化  KFTypeRotation: 旋转角度，值范围必须在0-360度之间  UNIFORM_SCALE: 均匀缩放，值范围必须在0.01-5之间  KFTypeAlpha: 透明度，值范围必须在0-1之间","input":{},"name":"ctype","required":true,"type":"string"},{"description":"视频高度","input":{},"name":"height","required":false,"type":"integer"},{"description":"需要放置关键帧的位置比例，eg：0|100 这个就是代表在开始和结尾放置，0|50|100代表在开头，中间，结尾放置3个关键帧","input":{},"name":"offsets","required":true,"type":"string"},{"description":"轨道数据，add_images节点输出","input":{},"name":"segment_infos","required":true,"schema":{"schema":[{"description":"结束时间","input":{},"name":"end","required":true,"type":"integer"},{"description":"s_id","input":{},"name":"id","required":true,"type":"string"},{"description":"开始时间","input":{},"name":"start","required":true,"type":"integer"}],"type":"object"},"type":"list"}],"inputParameters":[{"input":{"type":"string","value":{"content":"KFTypeAlpha","rawMeta":{"type":1},"type":"literal"}},"name":"ctype"},{"input":{"type":"string","value":{"content":"0|100","rawMeta":{"type":1},"type":"literal"}},"name":"offsets"},{"input":{"schema":{"schema":[{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"}],"type":"object"},"type":"list","value":{"content":{"blockID":"163142","name":"segment_infos","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"segment_infos"},{"input":{"type":"string","value":{"content":"0.3|0.3","rawMeta":{"type":1},"type":"literal"}},"name":"values"},{"input":{"type":"integer","value":{"content":1080,"rawMeta":{"type":2},"type":"literal"}},"name":"height"},{"input":{"type":"integer","value":{"content":1920,"rawMeta":{"type":2},"type":"literal"}},"name":"width"}],"settingOnError":{"dataOnErr":"{\n    \"keyframes_infos\": \"\"\n}","processType":2,"retryTimes":0,"switch":true,"timeoutMs":180000}},"nodeMeta":{"description":"关键帧数据生成器","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"剪映小助手数据生成器:keyframes_infos","title":"keyframes_infos透明度"},"outputs":[{"description":"放入add_frames节点","name":"keyframes_infos","required":false,"type":"string"},{"name":"errorBody","readonly":true,"schema":[{"name":"errorMessage","readonly":true,"type":"string"},{"name":"errorCode","readonly":true,"type":"string"}],"type":"object"},{"name":"isSuccess","readonly":true,"type":"boolean"}]},"edges":null,"id":"200446","meta":{"position":{"x":1285.4380531608701,"y":627.7370810929984}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"canvasSchema":"{\"version\":\"6.0.0-rc2\",\"width\":800,\"height\":500,\"backgroundColor\":\"#ffffffff\",\"customVariableRefs\":[{\"variableId\":\"GjWsDxz71kf5qc9S4hmpY\",\"objectId\":\"ciat33PyI3NG5AhzSN_CQ\",\"variableName\":\"date1\"},{\"variableId\":\"WKsgXYsr2PM47gE525WKn\",\"objectId\":\"lB0GMUnddDsQovHuVc1GY\",\"variableName\":\"date2\"}],\"objects\":[{\"fontSize\":220,\"fontWeight\":\"normal\",\"fontFamily\":\"字语文畅体\",\"fontStyle\":\"normal\",\"lineHeight\":1.2,\"text\":\"2025年\",\"charSpacing\":0,\"textAlign\":\"left\",\"styles\":[],\"pathStartOffset\":0,\"pathSide\":\"left\",\"pathAlign\":\"baseline\",\"underline\":false,\"overline\":false,\"linethrough\":false,\"textBackgroundColor\":\"\",\"direction\":\"ltr\",\"width\":553.08,\"height\":248.6,\"editable\":true,\"backgroundColor\":\"\",\"padding\":0,\"customId\":\"ciat33PyI3NG5AhzSN_CQ\",\"customType\":\"inline_text\",\"type\":\"IText\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-1.9752,\"top\":-17.5316,\"fill\":\"#ff0000fe\",\"stroke\":\"#000000ff\",\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1.2626,\"scaleY\":1.2626,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0},{\"fontSize\":220,\"fontWeight\":\"normal\",\"fontFamily\":\"字语文畅体\",\"fontStyle\":\"normal\",\"lineHeight\":1.2,\"text\":\"5月11日\",\"charSpacing\":0,\"textAlign\":\"left\",\"styles\":[],\"pathStartOffset\":0,\"pathSide\":\"left\",\"pathAlign\":\"baseline\",\"underline\":false,\"overline\":false,\"linethrough\":false,\"textBackgroundColor\":\"\",\"direction\":\"ltr\",\"width\":637.12,\"height\":248.6,\"editable\":true,\"backgroundColor\":\"\",\"padding\":0,\"customId\":\"lB0GMUnddDsQovHuVc1GY\",\"customType\":\"inline_text\",\"type\":\"IText\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":63.6434,\"top\":210.2471,\"fill\":\"#ff0000fe\",\"stroke\":\"#000000ff\",\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1.2626,\"scaleY\":1.2626,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0}],\"background\":\"#ffffffff\"}","inputParameters":[{"id":"GjWsDxz71kf5qc9S4hmpY","input":{"type":"string","value":{"content":{"blockID":"161801","name":"output.date1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"date1"},{"id":"WKsgXYsr2PM47gE525WKn","input":{"type":"string","value":{"content":{"blockID":"161801","name":"output.date2","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"date2"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":60000}},"nodeMeta":{"description":"自定义画板排版，支持引用添加文本和图片","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon_DrawingBoard_v2.jpg","mainColor":"#FF4DC3","subTitle":"画板","title":"画板_日期背景大字"},"outputs":[{"assistType":2,"name":"data","type":"string"},{"name":"msg","type":"string"}]},"edges":null,"id":"118941","meta":{"position":{"x":-1483.6847190607689,"y":-378.55267487750314}},"type":"23","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7438919188246429731","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"cutout","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7438919188246413347","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"抠图","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"assistType":2,"type":"string","value":{"content":{"blockID":"118941","name":"data","source":"block-output"},"rawMeta":{"type":7},"type":"ref"}},"name":"url"},{"input":{"type":"string","value":{"content":"0","type":"literal"}},"name":"only_mask"},{"input":{"type":"string","value":{"content":"0","type":"literal"}},"name":"output_mode"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"保留图片前景主体，输出透明背景(.png)","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-plugin-cutout-v2.jpg","subtitle":"抠图:cutout","title":"cutout（日期背景大字抠图）"},"outputs":[{"name":"msg","required":false,"type":"string"},{"assistType":2,"description":"透明背景图，在输出模式为透明背景时生效","name":"data","required":false,"type":"string"},{"description":"抠图区域蒙板矢量图，在输出模式为蒙版矢量图时生效","name":"mask","required":false,"type":"string"}]},"edges":null,"id":"161447","meta":{"position":{"x":-926.0732136113777,"y":-390.55267487750314}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7476109802306060299","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"str_to_list","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"161447","name":"data","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"obj"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"数据格式化转换器工具\n视频合成-剪映小助手工具格式生成器","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749566777&x-signature=QFk9EZhcjbF0YrHXT60%2BCnP68No%3D","subtitle":"剪映小助手数据生成器:str_to_list","title":"str_to_list"},"outputs":[{"name":"infos","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"167516","meta":{"position":{"x":718.5879680001169,"y":1762.0397414907534}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7475829177439223843","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"imgs_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"167516","name":"infos","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"imgs"},{"input":{"schema":{"schema":[],"type":"object"},"type":"list","value":{"content":{"blockID":"134481","name":"bg_big_text_timeline","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"timelines"},{"input":{"type":"string","value":{"content":"Kira游动","rawMeta":{"type":1},"type":"literal"}},"name":"in_animation"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"数据格式化转换器工具\n视频合成-剪映小助手工具格式生成器","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749566806&x-signature=CQPY6H%2BAKock9w6DXiWJcSFkh78%3D","subtitle":"剪映小助手数据生成器:imgs_infos","title":"imgs_infos"},"outputs":[{"name":"infos","required":false,"type":"string"}]},"edges":null,"id":"176256","meta":{"position":{"x":1281.3747022464165,"y":245.72169239496964}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833883688","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"176256","name":"infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"image_infos"},{"input":{"type":"float","value":{"content":0.66,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_x"},{"input":{"type":"float","value":{"content":0.66,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_y"},{"input":{"type":"float","value":{"content":536,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":160,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749566867&x-signature=iqsPp7kIRe8F%2FFN3kAZWgzL3d8s%3D","subtitle":"视频合成_剪映小助手:add_images","title":"add_images_文字背景大字"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"image_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"name":"track_id","required":false,"type":"string"}]},"edges":null,"id":"163142","meta":{"position":{"x":1281.3747022464165,"y":454.0348765059181}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7476109802306060299","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"str_to_list","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"161144","name":"data","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"obj"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"数据格式化转换器工具\n视频合成-剪映小助手工具格式生成器","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749566777&x-signature=QFk9EZhcjbF0YrHXT60%2BCnP68No%3D","subtitle":"剪映小助手数据生成器:str_to_list","title":"str_to_list_上上签"},"outputs":[{"name":"infos","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"1890212","meta":{"position":{"x":1285.4380531608701,"y":966.6706630520417}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833883688","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"1556517","name":"infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"image_infos"},{"input":{"type":"float","value":{"content":0.15,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_x"},{"input":{"type":"float","value":{"content":0.15,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_y"},{"input":{"type":"float","value":{"content":-1763,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":780,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"剪映草稿，视频合成方案。","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/fde2e11e85fa4c759b5754d267b148ba~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749566867&x-signature=iqsPp7kIRe8F%2FFN3kAZWgzL3d8s%3D","subtitle":"视频合成_剪映小助手:add_images","title":"add_images_上上签"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"image_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"name":"track_id","required":false,"type":"string"}]},"edges":null,"id":"1252430","meta":{"position":{"x":1271.7986583778481,"y":1400.5324186718726}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7475829177439223843","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"imgs_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"1890212","name":"infos","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"imgs"},{"input":{"schema":{"schema":[],"type":"object"},"type":"list","value":{"content":{"blockID":"134481","name":"bg_big_text_timeline","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"timelines"},{"input":{"type":"string","value":{"content":"动感放大","rawMeta":{"type":1},"type":"literal"}},"name":"in_animation"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"数据格式化转换器工具\n视频合成-剪映小助手工具格式生成器","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749566806&x-signature=CQPY6H%2BAKock9w6DXiWJcSFkh78%3D","subtitle":"剪映小助手数据生成器:imgs_infos","title":"imgs_infos_上上签"},"outputs":[{"name":"infos","required":false,"type":"string"}]},"edges":null,"id":"1556517","meta":{"position":{"x":1271.7986583778481,"y":1167.7706448080994}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":null,"inputParameters":[],"modelSetting":{"custom_ratio":{"height":1024,"width":682},"ddim_steps":40,"images_reference":{},"model":8,"ratio":0},"prompt":{"negative_prompt":"","prompt":"Traditional Chinese calligraphy, pure white background, \nthree bold characters \"上上签\" written vertically from top to bottom in thick vermilion-red ink (#e60000) with golden shimmer effect (#f9d423), \nrounded and powerful strokes showing visible brush texture, \nsymmetrical vertical composition, minimalist aesthetic, \ndramatic side lighting enhancing ink gloss texture, \nauspicious ceremonial ambiance"},"references":[],"settingOnError":{"processType":1,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"通过文字描述/添加参考图生成图片","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg","title":"图像生成_上上签"},"outputs":[{"assistType":2,"input":{},"name":"data","required":false,"type":"string"},{"input":{},"name":"msg","required":false,"type":"string"}],"settings":null,"version":""},"edges":null,"id":"1018458","meta":{"position":{"x":-1483.6847190607689,"y":-191.8657979656249}},"type":"16","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7476109802306060299","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"str_to_list","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":"金粉闪闪","rawMeta":{"type":1},"type":"literal"}},"name":"obj"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"字符转列表","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748329571&x-signature=b2nOQe5vR3Kjq%2BDei%2F2op4SpyDA%3D","subtitle":"剪映小助手数据生成器:str_to_list","title":"特效列表化"},"outputs":[{"name":"infos","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"136720","meta":{"position":{"x":192.37728572605806,"y":931.7377632528788}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7476312785018765321","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"effect_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"136720","name":"infos","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"effects"},{"input":{"schema":{"schema":[],"type":"object"},"type":"list","value":{"content":{"blockID":"134481","name":"bg_big_text_timeline","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"timelines"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"根据时间线关联特效","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748329276&x-signature=T7A4qerb9HZd%2BRqzBWsNlCHD3es%3D","subtitle":"剪映小助手数据生成器:effect_infos","title":"输入前特效格式整理"},"outputs":[{"name":"infos","required":false,"type":"string"}]},"edges":null,"id":"146360","meta":{"position":{"x":192.37728572605806,"y":1086.0387218604033}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7466630948491231268","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_effects","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"146360","name":"infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"effect_infos"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"添加特效","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748329250&x-signature=WIlC%2BSJlR%2Fo6GMEbhrUlg3CKcj8%3D","subtitle":"视频合成_剪映小助手:add_effects","title":"add_effects（添加特效）"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"effect_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"track_id","required":false,"type":"string"}]},"edges":null,"id":"113974","meta":{"position":{"x":192.37728572605806,"y":1240.3396804679273}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7478102722533834778","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"keyframes_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"对应offsets的值，长度要一致，比如1|2，或者1|2|1","input":{},"name":"values","required":true,"type":"string"},{"description":"视频宽度","input":{},"name":"width","required":false,"type":"integer"},{"description":"关键帧类型： KFTypePositionX: X轴移动，需要提供width参数，值会被除以width进行归一化  KFTypePositionY: Y轴移动，需要提供height参数，值会被除以height进行归一化  KFTypeRotation: 旋转角度，值范围必须在0-360度之间  UNIFORM_SCALE: 均匀缩放，值范围必须在0.01-5之间  KFTypeAlpha: 透明度，值范围必须在0-1之间","input":{},"name":"ctype","required":true,"type":"string"},{"description":"视频高度","input":{},"name":"height","required":false,"type":"integer"},{"description":"需要放置关键帧的位置比例，eg：0|100 这个就是代表在开始和结尾放置，0|50|100代表在开头，中间，结尾放置3个关键帧","input":{},"name":"offsets","required":true,"type":"string"},{"description":"轨道数据，add_images节点输出","input":{},"name":"segment_infos","required":true,"schema":{"schema":[{"description":"结束时间","input":{},"name":"end","required":true,"type":"integer"},{"description":"s_id","input":{},"name":"id","required":true,"type":"string"},{"description":"开始时间","input":{},"name":"start","required":true,"type":"integer"}],"type":"object"},"type":"list"}],"inputParameters":[{"input":{"type":"string","value":{"content":"KFTypeAlpha","rawMeta":{"type":1},"type":"literal"}},"name":"ctype"},{"input":{"type":"string","value":{"content":"0|100","rawMeta":{"type":1},"type":"literal"}},"name":"offsets"},{"input":{"schema":{"schema":[{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list","value":{"content":{"blockID":"1165855","name":"segment_infos","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"segment_infos"},{"input":{"type":"string","value":{"content":"0.7|0.7","rawMeta":{"type":1},"type":"literal"}},"name":"values"},{"input":{"type":"integer","value":{"content":1080,"rawMeta":{"type":2},"type":"literal"}},"name":"height"},{"input":{"type":"integer","value":{"content":1920,"rawMeta":{"type":2},"type":"literal"}},"name":"width"}],"settingOnError":{"dataOnErr":"{\n    \"keyframes_infos\": \"\"\n}","processType":2,"retryTimes":0,"switch":true,"timeoutMs":180000}},"nodeMeta":{"description":"关键帧数据生成器","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"剪映小助手数据生成器:keyframes_infos","title":"keyframes_infos日历透明度"},"outputs":[{"description":"放入add_frames节点","name":"keyframes_infos","required":false,"type":"string"},{"name":"errorBody","readonly":true,"schema":[{"name":"errorMessage","readonly":true,"type":"string"},{"name":"errorCode","readonly":true,"type":"string"}],"type":"object"},{"name":"isSuccess","readonly":true,"type":"boolean"}]},"edges":null,"id":"1672022","meta":{"position":{"x":1782.1666744425536,"y":278.5087591147509}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7465608338500452404","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_keyframes","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"1672022","name":"keyframes_infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"keyframes"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"添加关键帧","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748672655&x-signature=iFZjhJCyFY2%2BYqUbY3KzuXXWNqI%3D","subtitle":"视频合成_剪映小助手:add_keyframes","title":"add_keyframes_3"},"outputs":[{"name":"draft_url","required":false,"type":"string"}]},"edges":null,"id":"1295132","meta":{"position":{"x":1782.1666744425536,"y":440.34235931773685}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7478102722533834778","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"keyframes_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"对应offsets的值，长度要一致，比如1|2，或者1|2|1","input":{},"name":"values","required":true,"type":"string"},{"description":"视频宽度","input":{},"name":"width","required":false,"type":"integer"},{"description":"关键帧类型： KFTypePositionX: X轴移动，需要提供width参数，值会被除以width进行归一化  KFTypePositionY: Y轴移动，需要提供height参数，值会被除以height进行归一化  KFTypeRotation: 旋转角度，值范围必须在0-360度之间  UNIFORM_SCALE: 均匀缩放，值范围必须在0.01-5之间  KFTypeAlpha: 透明度，值范围必须在0-1之间","input":{},"name":"ctype","required":true,"type":"string"},{"description":"视频高度","input":{},"name":"height","required":false,"type":"integer"},{"description":"需要放置关键帧的位置比例，eg：0|100 这个就是代表在开始和结尾放置，0|50|100代表在开头，中间，结尾放置3个关键帧","input":{},"name":"offsets","required":true,"type":"string"},{"description":"轨道数据，add_images节点输出","input":{},"name":"segment_infos","required":true,"schema":{"schema":[{"description":"结束时间","input":{},"name":"end","required":true,"type":"integer"},{"description":"s_id","input":{},"name":"id","required":true,"type":"string"},{"description":"开始时间","input":{},"name":"start","required":true,"type":"integer"}],"type":"object"},"type":"list"}],"inputParameters":[{"input":{"type":"string","value":{"content":"KFTypeAlpha","rawMeta":{"type":1},"type":"literal"}},"name":"ctype"},{"input":{"type":"string","value":{"content":"0|100","rawMeta":{"type":1},"type":"literal"}},"name":"offsets"},{"input":{"schema":{"schema":[{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"}],"type":"object"},"type":"list","value":{"content":{"blockID":"1252430","name":"segment_infos","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"segment_infos"},{"input":{"type":"string","value":{"content":"0.7|0.7","rawMeta":{"type":1},"type":"literal"}},"name":"values"},{"input":{"type":"integer","value":{"content":1080,"rawMeta":{"type":2},"type":"literal"}},"name":"height"},{"input":{"type":"integer","value":{"content":1920,"rawMeta":{"type":2},"type":"literal"}},"name":"width"}],"settingOnError":{"dataOnErr":"{\n    \"keyframes_infos\": \"\"\n}","processType":2,"retryTimes":0,"switch":true,"timeoutMs":180000}},"nodeMeta":{"description":"关键帧数据生成器","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"剪映小助手数据生成器:keyframes_infos","title":"keyframes_infos上上签透明度"},"outputs":[{"description":"放入add_frames节点","name":"keyframes_infos","required":false,"type":"string"},{"name":"errorBody","readonly":true,"schema":[{"name":"errorMessage","readonly":true,"type":"string"},{"name":"errorCode","readonly":true,"type":"string"}],"type":"object"},{"name":"isSuccess","readonly":true,"type":"boolean"}]},"edges":null,"id":"1354586","meta":{"position":{"x":1784.1265487130174,"y":623.9740165977038}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7465608338500452404","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_keyframes","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"1354586","name":"keyframes_infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"keyframes"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"添加关键帧","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748672655&x-signature=iFZjhJCyFY2%2BYqUbY3KzuXXWNqI%3D","subtitle":"视频合成_剪映小助手:add_keyframes","title":"add_keyframes_4"},"outputs":[{"name":"draft_url","required":false,"type":"string"}]},"edges":null,"id":"1460707","meta":{"position":{"x":1784.1265487130174,"y":785.8076168006897}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7438919188246429731","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"cutout","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7438919188246413347","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"抠图","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"assistType":2,"type":"string","value":{"content":{"blockID":"1018458","name":"data","source":"block-output"},"rawMeta":{"type":7},"type":"ref"}},"name":"url"},{"input":{"type":"string","value":{"content":"0","type":"literal"}},"name":"only_mask"},{"input":{"type":"string","value":{"content":"0","type":"literal"}},"name":"output_mode"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"保留图片前景主体，输出透明背景(.png)","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-plugin-cutout-v2.jpg","subtitle":"抠图:cutout","title":"cutout（上上签抠图）"},"outputs":[{"assistType":2,"description":"透明背景图，在输出模式为透明背景时生效","name":"data","required":false,"type":"string"},{"description":"抠图区域蒙板矢量图，在输出模式为蒙版矢量图时生效","name":"mask","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}]},"edges":null,"id":"161144","meta":{"position":{"x":-926.0732136113777,"y":-177.8657979656249}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7438919188246429731","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"cutout","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7438919188246413347","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"抠图","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"assistType":2,"type":"string","value":{"content":{"blockID":"163786","name":"data","source":"block-output"},"rawMeta":{"type":7},"type":"ref"}},"name":"url"},{"input":{"type":"string","value":{"content":"0","type":"literal"}},"name":"only_mask"},{"input":{"type":"string","value":{"content":"0","type":"literal"}},"name":"output_mode"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"保留图片前景主体，输出透明背景(.png)","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-plugin-cutout-v2.jpg","subtitle":"抠图:cutout","title":"cutout（老黄历抠图）"},"outputs":[{"assistType":2,"description":"透明背景图，在输出模式为透明背景时生效","name":"data","required":false,"type":"string"},{"description":"抠图区域蒙板矢量图，在输出模式为蒙版矢量图时生效","name":"mask","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}]},"edges":null,"id":"172202","meta":{"position":{"x":-926.0732136113759,"y":-659.6253497735132}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837955684499490","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_videos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"134481","name":"kt_data","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"video_infos"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"批量添加视频","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/8121ceefd03f456aa7cb2b4c1e25d3b7~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1751788151&x-signature=s%2BtMqYis9OE97n7%2F%2BVnil6yXegM%3D","subtitle":"视频合成_剪映小助手:add_videos","title":"add_videos(开头视频)"},"outputs":[{"name":"segment_ids","required":true,"schema":{"type":"string"},"type":"list"},{"name":"track_id","required":false,"type":"string"},{"name":"video_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"draft_url","required":false,"type":"string"}]},"edges":null,"id":"190001","meta":{"position":{"x":203.32937458036463,"y":-112.07230278532768}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833834536","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"134481","name":"kt_audio","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"audio_infos"},{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"批量添加音频","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/8121ceefd03f456aa7cb2b4c1e25d3b7~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1751789951&x-signature=kWV9QNq8dGd09jJ4bIzf0aUgofI%3D","subtitle":"视频合成_剪映小助手:add_audios","title":"add_audios"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"track_id","required":false,"type":"string"},{"name":"audio_ids","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"184048","meta":{"position":{"x":196.50967718885363,"y":79.72119239496953}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7475829177439191075","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"caption_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"184518","name":"infos","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"texts"},{"input":{"schema":{"schema":[],"type":"object"},"type":"list","value":{"content":{"blockID":"134481","name":"bg_big_text_timeline","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"timelines"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"根据时间线制作字幕数据","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1751790866&x-signature=uhO796IHAKnbCVIhSxDzlWYQlvI%3D","subtitle":"剪映小助手数据生成器:caption_infos","title":"caption_infos(左侧需知)"},"outputs":[{"name":"infos","required":false,"type":"string"}]},"edges":null,"id":"157918","meta":{"position":{"x":718.5879680001169,"y":1251.7377828832296}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7476109802306060299","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"str_to_list","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映小助手数据生成器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":"黄历解读/纯属虚构/请勿迷信","rawMeta":{"type":1},"type":"literal"}},"name":"obj"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"字符转列表","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1751790866&x-signature=uhO796IHAKnbCVIhSxDzlWYQlvI%3D","subtitle":"剪映小助手数据生成器:str_to_list","title":"str_to_list（左侧需知格式化）"},"outputs":[{"name":"infos","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"184518","meta":{"position":{"x":718.5879680001169,"y":1107.3968064477913}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833850920","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_captions","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"157918","name":"infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"captions"},{"input":{"type":"string","value":{"content":{"blockID":"191539","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"integer","value":{"content":3,"rawMeta":{"type":2},"type":"literal"}},"name":"alignment"},{"input":{"type":"string","value":{"content":"毛笔行楷","rawMeta":{"type":1},"type":"literal"}},"name":"font"},{"input":{"type":"integer","value":{"content":5,"rawMeta":{"type":2},"type":"literal"}},"name":"font_size"},{"input":{"type":"float","value":{"content":-1800,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"批量添加字幕","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/8121ceefd03f456aa7cb2b4c1e25d3b7~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1751791751&x-signature=mG2ARgKnn9OtsE8dXIPLaHS0NZQ%3D","subtitle":"视频合成_剪映小助手:add_captions","title":"add_captions（左侧需知）"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"name":"text_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"track_id","required":false,"type":"string"}]},"edges":null,"id":"169244","meta":{"position":{"x":718.5879680001169,"y":1417.7382828832297}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}}],"versions":{"loop":"v2"}},"bounds":{"x":0,"y":0,"width":4567,"height":1234}}