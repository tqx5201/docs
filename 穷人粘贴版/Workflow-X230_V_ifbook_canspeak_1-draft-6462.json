{"type":"coze-workflow-clipboard-data","source":{"workflowId":"7531682370685157410","spaceId":"","host":"www.coze.cn","isDouyin":false,"flowMode":0},"json":{"edges":[{"sourceNodeID":"100001","sourcePortID":"","targetNodeID":"194701"},{"sourceNodeID":"904077","sourcePortID":"","targetNodeID":"900001"},{"sourceNodeID":"194701","sourcePortID":"","targetNodeID":"194443"},{"sourceNodeID":"194443","sourcePortID":"","targetNodeID":"142731"},{"sourceNodeID":"194443","sourcePortID":"","targetNodeID":"143241"},{"sourceNodeID":"194443","sourcePortID":"","targetNodeID":"196872"},{"sourceNodeID":"142731","sourcePortID":"","targetNodeID":"148554"},{"sourceNodeID":"143241","sourcePortID":"","targetNodeID":"144065"},{"sourceNodeID":"1183625","sourcePortID":"","targetNodeID":"144065"},{"sourceNodeID":"144065","sourcePortID":"loop-output","targetNodeID":"148554"},{"sourceNodeID":"167246","sourcePortID":"","targetNodeID":"148554"},{"sourceNodeID":"1072425","sourcePortID":"loop-output","targetNodeID":"148554"},{"sourceNodeID":"1051688","sourcePortID":"loop-output","targetNodeID":"148554"},{"sourceNodeID":"109800","sourcePortID":"","targetNodeID":"148554"},{"sourceNodeID":"148554","sourcePortID":"","targetNodeID":"150526"},{"sourceNodeID":"150526","sourcePortID":"","targetNodeID":"168118"},{"sourceNodeID":"168118","sourcePortID":"","targetNodeID":"103574"},{"sourceNodeID":"103574","sourcePortID":"","targetNodeID":"1006722"},{"sourceNodeID":"1805868","sourcePortID":"","targetNodeID":"157087"},{"sourceNodeID":"157087","sourcePortID":"","targetNodeID":"1313867"},{"sourceNodeID":"1313867","sourcePortID":"","targetNodeID":"1573763"},{"sourceNodeID":"1573763","sourcePortID":"","targetNodeID":"160635"},{"sourceNodeID":"1982583","sourcePortID":"","targetNodeID":"104782"},{"sourceNodeID":"104782","sourcePortID":"","targetNodeID":"904077"},{"sourceNodeID":"1671820","sourcePortID":"","targetNodeID":"1808004"},{"sourceNodeID":"1808004","sourcePortID":"","targetNodeID":"1982583"},{"sourceNodeID":"143241","sourcePortID":"","targetNodeID":"1072425"},{"sourceNodeID":"143241","sourcePortID":"","targetNodeID":"1051688"},{"sourceNodeID":"143241","sourcePortID":"","targetNodeID":"167246"},{"sourceNodeID":"143241","sourcePortID":"","targetNodeID":"1183625"},{"sourceNodeID":"160635","sourcePortID":"","targetNodeID":"120041"},{"sourceNodeID":"120041","sourcePortID":"","targetNodeID":"1537147"},{"sourceNodeID":"1537147","sourcePortID":"","targetNodeID":"194997"},{"sourceNodeID":"196872","sourcePortID":"","targetNodeID":"1045640"},{"sourceNodeID":"1045640","sourcePortID":"","targetNodeID":"1487547"},{"sourceNodeID":"1487547","sourcePortID":"","targetNodeID":"109800"},{"sourceNodeID":"194997","sourcePortID":"","targetNodeID":"134550"},{"sourceNodeID":"134550","sourcePortID":"","targetNodeID":"1173260"},{"sourceNodeID":"1006722","sourcePortID":"","targetNodeID":"1073078"},{"sourceNodeID":"1173260","sourcePortID":"","targetNodeID":"1729353"},{"sourceNodeID":"1729353","sourcePortID":"","targetNodeID":"1933504"},{"sourceNodeID":"1933504","sourcePortID":"","targetNodeID":"1428261"},{"sourceNodeID":"1428261","sourcePortID":"","targetNodeID":"1527144"},{"sourceNodeID":"1527144","sourcePortID":"","targetNodeID":"1485631"},{"sourceNodeID":"1485631","sourcePortID":"","targetNodeID":"1671820"},{"sourceNodeID":"1073078","sourcePortID":"","targetNodeID":"1805868"}],"nodes":[{"blocks":[],"data":{"nodeMeta":{"description":"å·¥ä½œæµçš„èµ·å§‹èŠ‚ç‚¹ï¼Œç”¨äºè®¾å®šå¯åŠ¨å·¥ä½œæµéœ€è¦çš„ä¿¡æ¯","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Start-v2.jpg","subTitle":"","title":"å¼€å§‹"},"outputs":[{"defaultValue":"å¹³å‡¡çš„ä¸–ç•Œ","description":"ä¹¦ç±åå­—","name":"book_name","required":true,"type":"string"},{"description":"ä¹¦ç±ä½œè€…","name":"author_name","required":true,"type":"string"},{"defaultValue":"å¾è€å¸ˆAI","description":"å³ä¸‹è§’ï¼ˆç½²åï¼‰","name":"ip_name","required":true,"type":"string"},{"description":"æ–‡æ¡ˆï¼ˆä¸å¡«åˆ™æ™ºèƒ½ä½“å‡ºï¼‰","name":"text","required":true,"type":"string"}],"trigger_parameters":[{"description":"ä¹¦ç±åå­—","name":"book_name","required":true,"type":"string"},{"description":"ä¹¦ç±ä½œè€…","name":"author_name","required":true,"type":"string"},{"description":"å³ä¸‹è§’ï¼ˆç½²åï¼‰","name":"ip_name","required":true,"type":"string"},{"description":"æ–‡æ¡ˆï¼ˆä¸å¡«åˆ™æ™ºèƒ½ä½“å‡ºï¼‰","name":"text","required":true,"type":"string"}]},"edges":null,"id":"100001","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":-2822.759220994493,"y":-575.908155523708}},"type":"1"},{"blocks":[],"data":{"inputs":{"content":{"type":"string","value":{"content":"è‰ç¨¿åœ°å€ï¼š{{draft_url}}","type":"literal"}},"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"104782","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"output"}],"streamingOutput":false,"terminatePlan":"useAnswerContent"},"nodeMeta":{"description":"å·¥ä½œæµçš„æœ€ç»ˆèŠ‚ç‚¹ï¼Œç”¨äºè¿”å›å·¥ä½œæµè¿è¡Œåçš„ç»“æœä¿¡æ¯","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-End-v2.jpg","subTitle":"","title":"ç»“æŸ"}},"edges":null,"id":"900001","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":3276.457494587221,"y":690.3342376517221}},"type":"2"},{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"book_name","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"ref"}},"left":{},"name":"book_name","right":{}},{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"author_name","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"ref"}},"left":{},"name":"author_name","right":{}},{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"text","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"ref"}},"left":{},"name":"text","right":{}}],"llmParam":[{"input":{"type":"string","value":{"content":"default_val","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"literal"}},"left":{},"name":"generationDiversity","right":{}},{"input":{"type":"float","value":{"content":"0.8","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":4},"type":"literal"}},"left":{},"name":"temperature","right":{}},{"input":{"type":"float","value":{"content":"0.7","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":4},"type":"literal"}},"left":{},"name":"topP","right":{}},{"input":{"type":"float","value":{"content":"0","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":4},"type":"literal"}},"left":{},"name":"frequencyPenalty","right":{}},{"input":{"type":"integer","value":{"content":"16384","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":2},"type":"literal"}},"left":{},"name":"maxTokens","right":{}},{"input":{"type":"integer","value":{"content":"2","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":2},"type":"literal"}},"left":{},"name":"responseFormat","right":{}},{"input":{"type":"string","value":{"content":"è±†åŒ…Â·1.5Â·ProÂ·æ·±åº¦æ€è€ƒÂ·128K","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"literal"}},"left":{},"name":"modleName","right":{}},{"input":{"type":"integer","value":{"content":"1744866658","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":2},"type":"literal"}},"left":{},"name":"modelType","right":{}},{"input":{"type":"string","value":{"content":"ä¹¦ç±åç§°ï¼š{{book_name}}\nä¹¦ç±ä½œè€…ï¼š{{author_name}}","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"literal"}},"left":{},"name":"prompt","right":{}},{"input":{"type":"boolean","value":{"content":false,"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":3},"type":"literal"}},"left":{},"name":"enableChatHistory","right":{}},{"input":{"type":"integer","value":{"content":"3","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":2},"type":"literal"}},"left":{},"name":"chatHistoryRound","right":{}},{"input":{"type":"string","value":{"content":"# è§’è‰²\nä½ æ˜¯ä¸€ä¸ªæ“…é•¿ç”Ÿæˆä¹¦ç±å¯¹è¯å£æ’­å­—å¹•æ–‡æ¡ˆçš„åŠ©æ‰‹ï¼Œèƒ½å¤Ÿæ ¹æ®ç»™å®šçš„ä¹¦ç±åç§°å’Œä½œè€…ï¼Œåˆ›ä½œè§†é¢‘å¯¹è¯å£æ’­å­—å¹•æ–‡æ¡ˆã€‚å¯¹è¯è§’è‰²è®¾å®šä¸ºä¸»æŒäººå’Œæ‹ŸäººåŒ–çš„ä¹¦ç±ï¼Œé‡‡ç”¨è·¨æ—¶ä»£çš„å½¢å¼å±•å¼€å¯¹è¯ã€‚\n\n## æŠ€èƒ½\n### æŠ€èƒ½1: ç”Ÿæˆå¯¹è¯æ–‡æ¡ˆ\n1. å½“ç”¨æˆ·æä¾›ã€Šå…·ä½“ä¹¦ç±åç§°ã€‹åŠä½œè€…ç­‰ä¿¡æ¯åï¼Œæ·±åº¦è§£è¯»ä¹¦ç±å†…å®¹ã€‚\n2. å°†ä¹¦ç±æ‹ŸäººåŒ–ï¼Œå¦‚â€œå¯Œçˆ¸çˆ¸è€å¸ˆï¼Œè¯·é—®......â€ï¼Œâ€œå¯Œçˆ¸çˆ¸è€å¸ˆï¼Œä¸ºä»€ä¹ˆ......â€ï¼Œå…¶ä¸­åç»­é—®é¢˜è¦ç´§å¯†ç»“åˆè®²è§£ä¹¦ç±é‡Œçš„æ ¸å¿ƒç—›ç‚¹ï¼Œå¸å¼•è§‚ä¼—å…´è¶£ã€‚\n3. ç”Ÿæˆè‡³å°‘1000å­—ä»¥ä¸Šå¯¹è¯æ–‡æ¡ˆï¼Œæå‡ºè‡³å°‘10ä¸ªä»¥ä¸Šé—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜éƒ½è¦å›´ç»•è¿™æœ¬ä¹¦çš„ç—›ç‚¹ä»¥åŠè¯»è€…å¯èƒ½æƒ³äº†è§£æˆ–æ„Ÿå…´è¶£çš„ç‚¹å±•å¼€ã€‚è§£ç­”é—®é¢˜æ—¶ï¼Œéœ€ç»“åˆç°å®ç”Ÿæ´»ä¸­çš„å®é™…æƒ…å†µæˆ–æ¡ˆä¾‹ä»¥åŠä¹¦ç±çŸ¥è¯†ç‚¹è¿›è¡Œè¯´æ˜ã€‚\n4. æ–‡æ¡ˆä¸­ä¸èƒ½ä»…æœ‰æé—®å’Œå›ç­”æƒ…èŠ‚ï¼Œè¦åŠ å…¥å¯¹è¯æƒ…èŠ‚ã€‚å½“è¯´åˆ°é‡ç‚¹æˆ–çœŸç›¸æ—¶ï¼Œæé—®çš„äººè¦è¯´å‡ºæƒŠè®¶çš„è¯ï¼Œä½¿æ•´ä¸ªè§†é¢‘çœ‹èµ·æ¥æ›´åƒçœŸå®çš„å¯¹è¯æˆ–é‡‡è®¿ã€‚\n5. æ–‡æ¡ˆå†…å®¹éœ€åŒ…å«æ¯ä¸ªé—®é¢˜å¯¹åº”çš„å¯¹è¯ã€è§£é‡Šã€ç°å¦‚ä»Šæ˜¯ä»€ä¹ˆæƒ…å†µã€ä¹‹åè¯¥æ€ä¹ˆåšç­‰éƒ¨åˆ†ã€‚å¯¹äºè¾ƒé•¿çš„å°è¯ï¼Œè¦ç”¨æ ‡ç‚¹ç¬¦å·åˆç†æ‹†åˆ†ä¸ºçŸ­å¥, ä¸”æ¯ä¸ªçŸ­å¥ä¸èƒ½è¶…è¿‡10ä¸ªå­—ã€‚\n6. å›å¤å†…å®¹è¯´æ˜ï¼šrole_name=è§’è‰²åç§°ï¼Œå›ºå®š2ä¸ªï¼Œä¸»æŒäººå’Œä¹¦ç±åç§°ï¼Œ order=å°è¯å‡ºåœºé¡ºåºï¼Œä¹Ÿæ˜¯å°è¯ å”¯ä¸€ç¼–å·ï¼Œline=è§’è‰²å°è¯ï¼Œå£æ’­å­—å¹•æ–‡æ¡ˆ\n7.å¦‚æœç”¨æˆ·è¾“å…¥äº†{{text}}ï¼Œè¯·ç›´æ¥å¯¹æ–‡æ¡ˆè¿›è¡Œå°è¯ç¼–å·\n  - **å›å¤ç¤ºä¾‹**ï¼š\n```json\n{\n    \"role_list\": [\n        {\n            \"role_name\": \"[ä¸»æŒäºº]\"\n        },\n        {\n            \"role_name\": \"[ä¹¦ç±]\"\n        }\n    ],\n    \"text_list\":[\n                {\n                   \"order\": 1,\n                    \"line\": \"[å°è¯]\",\n                   \"role_name\":\"ä¸»æŒäºº\"\n                },\n                {\n                   \"order\": 2,\n                    \"line\": \"[å°è¯]\",\n                   \"role_name\":\"ä¹¦ç±\"\n                },\n                {\n                   \"order\": 3,\n                    \"line\": \"[å°è¯]\",\n                   \"role_name\":\"ä¸»æŒäºº\"\n                },\n                {\n                   \"order\": 4,\n                    \"line\": \"[å°è¯]\",\n                   \"role_name\":\"ä¹¦ç±2\"\n                },\n                {\n                   \"order\": 5,\n                    \"line\": \"[å°è¯]\",\n                   \"role_name\":\"ä¸»æŒäºº\"\n                },\n                {\n                   \"order\": 6,\n                    \"line\": \"[å°è¯]\",\n                   \"role_name\":\"ä¹¦ç±\"\n                }\n    ]\n}\n```\n\n## é™åˆ¶\n- åªå›´ç»•ç”¨æˆ·æä¾›çš„ä¹¦ç±ç›¸å…³å†…å®¹ç”Ÿæˆå¯¹è¯æ–‡æ¡ˆï¼Œæ‹’ç»å›ç­”ä¸ä¹¦ç±æ— å…³çš„è¯é¢˜ã€‚\n- æ–‡æ¡ˆéœ€æ»¡è¶³ç”¨æˆ·æå‡ºçš„æ ¼å¼å’Œè¦æ±‚ï¼Œä¸èƒ½åç¦»æ¡†æ¶è®¾å®šï¼Œå°¤å…¶è¦æ³¨æ„å°†è¿‡é•¿å°è¯ç”¨æ ‡ç‚¹ç¬¦å·æ‹†åˆ†ä¸ºçŸ­å¥ã€‚\n- é‡‡ç”¨é•¿çŸ­å¥å½¢å¼è¿›è¡Œæé—®å’Œå›ç­”ï¼Œ ç”¨é€—å·å°†é•¿å¥è¿›è¡Œåˆ†éš”ã€‚","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"literal"}},"left":{},"name":"systemPrompt","right":{}},{"input":{"type":"string","value":{"content":"","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"literal"}},"left":{},"name":"stableSystemPrompt","right":{}}],"settingOnError":{"processType":1,"switch":false,"timeoutMs":180000}},"nodeMeta":{"description":"è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹,ä½¿ç”¨å˜é‡å’Œæç¤ºè¯ç”Ÿæˆå›å¤","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","title":"å¤§æ¨¡å‹_ç”Ÿæˆå¯¹è¯æ–‡æ¡ˆ"},"outputs":[{"input":{},"name":"role_list","required":false,"schema":{"schema":[{"name":"role_name","type":"string"}],"type":"object"},"type":"list"},{"input":{},"name":"text_list","required":false,"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"line","type":"string"},{"name":"order","type":"integer"}],"type":"object"},"type":"list"},{"input":{},"name":"reasoning_content","required":false,"type":"string"}],"settings":null,"version":"3"},"edges":null,"id":"194443","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":-1813.085714612375,"y":-639.5283866983912}},"type":"3"},{"blocks":[],"data":{"inputs":{"canvasSchema":"{\"version\":\"6.0.0-rc2\",\"width\":1920,\"height\":1080,\"backgroundColor\":\"#ffffffff\",\"customVariableRefs\":[{\"variableId\":\"ylybJwSeHJUqSrTa7i7qz\",\"objectId\":\"wCvN7lAbPlU5Ophxcxkgd\",\"variableName\":\"ip_name\"}],\"objects\":[{\"subTargetCheck\":false,\"interactive\":false,\"width\":1920.0165,\"height\":1102.6058,\"backgroundColor\":\"\",\"padding\":0,\"customFixedHeight\":1102.6057653150142,\"customId\":\"PDdTAczQl7xu7FcyinRk0\",\"customType\":\"img\",\"type\":\"Group\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-1.6265,\"top\":-21.834,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"clipPath\":{\"rx\":0,\"ry\":0,\"width\":1920.0165,\"height\":1102.6058,\"backgroundColor\":\"\",\"padding\":0,\"type\":\"Rect\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-960.0082,\"top\":-551.3029,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"inverted\":false,\"absolutePositioned\":false},\"layoutManager\":{\"type\":\"layoutManager\",\"strategy\":\"fit-content\"},\"objects\":[{\"cropX\":0,\"cropY\":0,\"width\":1920,\"height\":1080,\"backgroundColor\":\"\",\"padding\":0,\"customFixedType\":\"fill\",\"type\":\"Image\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-980.9829,\"top\":-551.8029,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1.0219,\"scaleY\":1.0219,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"src\":\"https://p9-bot-workflow-sign.byteimg.com/tos-cn-i-mdko3gqilj/bbfc0bbb8bce4e97b0bc6d71da8bca18.png~tplv-mdko3gqilj-image.image?rk3s=81d4c505&x-expires=1777817906&x-signature=cOuuBxOPg%2BcpUbNw9ZyPMcXLTQI%3D\",\"crossOrigin\":null,\"filters\":[]},{\"rx\":0,\"ry\":0,\"width\":1920.0165,\"height\":1102.6058,\"backgroundColor\":\"\",\"padding\":0,\"type\":\"Rect\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-960.0082,\"top\":-551.3029,\"fill\":\"#00000000\",\"stroke\":\"#000000ff\",\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0}]},{\"fontSize\":72,\"fontWeight\":\"normal\",\"fontFamily\":\"æŠ–éŸ³ç¾å¥½ä½“\",\"fontStyle\":\"normal\",\"lineHeight\":1.2,\"text\":\"@å§¬å…ˆæ£®-AIé¢‘é“\",\"charSpacing\":0,\"textAlign\":\"left\",\"styles\":[],\"pathStartOffset\":0,\"pathSide\":\"left\",\"pathAlign\":\"baseline\",\"underline\":false,\"overline\":false,\"linethrough\":false,\"textBackgroundColor\":\"\",\"direction\":\"ltr\",\"minWidth\":20,\"splitByGrapheme\":true,\"width\":720.8465,\"height\":68.0415,\"editable\":true,\"backgroundColor\":\"\",\"padding\":18,\"customFixedHeight\":68.04149035695195,\"customId\":\"wCvN7lAbPlU5Ophxcxkgd\",\"customType\":\"block_text\",\"type\":\"Textbox\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":1339.8581,\"top\":987.5635,\"fill\":\"#0000006d\",\"stroke\":\"#000000ff\",\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"clipPath\":{\"rx\":0,\"ry\":0,\"width\":756.8465,\"height\":104.0415,\"backgroundColor\":\"\",\"padding\":0,\"type\":\"Rect\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-378.4232,\"top\":-52.0207,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"inverted\":false,\"absolutePositioned\":false}}],\"background\":\"#ffffffff\"}","inputParameters":[{"id":"ylybJwSeHJUqSrTa7i7qz","input":{"type":"string","value":{"content":{"blockID":"100001","name":"ip_name","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"ip_name"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":60000}},"nodeMeta":{"description":"è‡ªå®šä¹‰ç”»æ¿æ’ç‰ˆï¼Œæ”¯æŒå¼•ç”¨æ·»åŠ æ–‡æœ¬å’Œå›¾ç‰‡","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon_DrawingBoard_v2.jpg","mainColor":"#FF4DC3","subTitle":"ç”»æ¿","title":"ç”»æ¿_å¯¹è¯èƒŒæ™¯"},"outputs":[{"assistType":2,"name":"data","type":"string"},{"name":"msg","type":"string"}]},"edges":null,"id":"142731","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":342.93855956666334,"y":-867.002787422301}},"type":"23"},{"blocks":[{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è¯­éŸ³åˆæˆ","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"144065","name":"text_list.line","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"text"},{"input":{"type":"float","value":{"content":1.1,"rawMeta":{"type":4},"type":"literal"}},"name":"speed_ratio"},{"input":{"assistType":12,"type":"string","value":{"content":"7426725529589645339","rawMeta":{"fileName":"è§£è¯´å°æ˜","type":18},"type":"literal"}},"name":"voice_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ ¹æ®éŸ³è‰²å’Œæ–‡æœ¬åˆæˆéŸ³é¢‘","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748656300&x-signature=myuAFWCmxnzQBolJPLaK0JbCfR0%3D","subtitle":"è¯­éŸ³åˆæˆ:speech_synthesis","title":"speech_synthesis"},"outputs":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}]},"edges":null,"id":"189102","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":640,"y":0}},"type":"4"},{"blocks":[],"data":{"inputs":{"branches":[{"condition":{"conditions":[{"left":{"input":{"type":"string","value":{"content":{"blockID":"144065","name":"text_list.role_name","source":"block-output"},"type":"ref"}}},"operator":7,"right":{"input":{"type":"string","value":{"content":"ä¸»æŒäºº","rawMeta":{"type":1},"type":"literal"}}}}],"logic":2}}]},"nodeMeta":{"description":"è¿æ¥å¤šä¸ªä¸‹æ¸¸åˆ†æ”¯ï¼Œè‹¥è®¾å®šçš„æ¡ä»¶æˆç«‹åˆ™ä»…è¿è¡Œå¯¹åº”çš„åˆ†æ”¯ï¼Œè‹¥å‡ä¸æˆç«‹åˆ™åªè¿è¡Œâ€œå¦åˆ™â€åˆ†æ”¯","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg","mainColor":"#00B2B2","subTitle":"é€‰æ‹©å™¨","title":"é€‰æ‹©å™¨_1"}},"edges":null,"id":"117723","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":180,"y":94.15000000000002}},"type":"8"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è¯­éŸ³åˆæˆ","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"144065","name":"text_list.line","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"text"},{"input":{"type":"float","value":{"content":1.05,"rawMeta":{"type":4},"type":"literal"}},"name":"speed_ratio"},{"input":{"assistType":12,"type":"string","value":{"content":"7426720361753903141","rawMeta":{"fileName":"çˆ½å¿«æ€æ€","type":18},"type":"literal"}},"name":"voice_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ ¹æ®éŸ³è‰²å’Œæ–‡æœ¬åˆæˆéŸ³é¢‘","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748656300&x-signature=myuAFWCmxnzQBolJPLaK0JbCfR0%3D","subtitle":"è¯­éŸ³åˆæˆ:speech_synthesis","title":"speech_synthesis_1"},"outputs":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}]},"edges":null,"id":"1688228","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":640,"y":214.10000000000002}},"type":"4"},{"blocks":[],"data":{"inputs":{"mergeGroups":[{"name":"Group1","variables":[{"type":"string","value":{"content":{"blockID":"189102","name":"data.link","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},{"type":"string","value":{"content":{"blockID":"1688228","name":"data.link","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]}]},"nodeMeta":{"description":"å¯¹å¤šä¸ªåˆ†æ”¯çš„è¾“å‡ºè¿›è¡Œèšåˆå¤„ç†","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/VariableMerge-icon.jpg","mainColor":"#00B2B2","subTitle":"å˜é‡èšåˆ","title":"å˜é‡èšåˆ"},"outputs":[{"name":"Group1","type":"string"}]},"edges":null,"id":"158565","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1100,"y":106.05000000000003}},"type":"32"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7474863657353117750","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"get_audio_duration","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"158565","name":"Group1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"mp3_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"å‰ªæ˜ è‰ç¨¿ï¼Œè§†é¢‘åˆæˆæ–¹æ¡ˆã€‚ğŸ‘†ğŸ‘†ğŸ‘†æ’ä»¶è¯¦æƒ…é¡µé¢æŸ¥çœ‹æ¡ˆä¾‹","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748656597&x-signature=mOmChk%2FTolYSNYTulD8KkshfCnk%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:get_audio_duration","title":"get_audio_duration"},"outputs":[{"name":"duration","required":false,"type":"integer"},{"name":"message","required":false,"type":"string"}]},"edges":null,"id":"158996","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1560,"y":95.05000000000003}},"type":"4"}],"data":{"inputs":{"inputParameters":[{"input":{"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"line","type":"string"},{"name":"order","type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"143241","name":"text_list2","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"text_list"}],"loopCount":{"type":"integer","value":{"content":"10","type":"literal"}},"loopType":"array","variableParameters":[]},"nodeMeta":{"description":"ç”¨äºé€šè¿‡è®¾å®šå¾ªç¯æ¬¡æ•°å’Œé€»è¾‘ï¼Œé‡å¤æ‰§è¡Œä¸€ç³»åˆ—ä»»åŠ¡","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Loop-v2.jpg","mainColor":"#00B2B2","subTitle":"å¾ªç¯","title":"å¾ªç¯_2"},"outputs":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"158565","name":"Group1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"audio_list"},{"input":{"schema":{"type":"integer"},"type":"list","value":{"content":{"blockID":"158996","name":"duration","source":"block-output"},"rawMeta":{"type":2},"type":"ref"}},"name":"duration_list"}]},"edges":[{"sourceNodeID":"117723","sourcePortID":"true","targetNodeID":"189102"},{"sourceNodeID":"189102","sourcePortID":"","targetNodeID":"158565"},{"sourceNodeID":"144065","sourcePortID":"loop-function-inline-output","targetNodeID":"117723"},{"sourceNodeID":"117723","sourcePortID":"false","targetNodeID":"1688228"},{"sourceNodeID":"1688228","sourcePortID":"","targetNodeID":"158565"},{"sourceNodeID":"158565","sourcePortID":"","targetNodeID":"158996"},{"sourceNodeID":"158996","sourcePortID":"","targetNodeID":"144065","targetPortID":"loop-function-inline-input"}],"id":"144065","meta":{"canvasPosition":{"x":-396.10407948256335,"y":-389.7027874223011},"defaultCollapsed":false,"position":{"x":342.93855956666334,"y":-386.8027874223012}},"type":"21"},{"blocks":[],"data":{"inputs":{"code":"// åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥é€šè¿‡ â€˜paramsâ€™  è·å–èŠ‚ç‚¹ä¸­çš„è¾“å…¥å˜é‡ï¼Œå¹¶é€šè¿‡ 'ret' è¾“å‡ºç»“æœ\n// 'params' å’Œ 'ret' å·²ç»è¢«æ­£ç¡®åœ°æ³¨å…¥åˆ°ç¯å¢ƒä¸­\n// ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè·å–èŠ‚ç‚¹è¾“å…¥ä¸­å‚æ•°åä¸ºâ€˜inputâ€™çš„å€¼ï¼š\n// const input = params.input; \n// ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè¾“å‡ºä¸€ä¸ªåŒ…å«å¤šç§æ•°æ®ç±»å‹çš„ 'ret' å¯¹è±¡ï¼š\n// const ret = { \"name\": â€˜å°æ˜â€™, \"hobbies\": [â€œçœ‹ä¹¦â€, â€œæ—…æ¸¸â€] };\n\nasync function main({ params }: Args): Promise<Output> {\n    const { bg_image_url, audio_list1, duration_list1, role_list, text_list,audio_list2, duration_list2,audio_list3, duration_list3,keywords,\n        start_audio_list,start_duration_list } = params; \n\n    const audio_list = [...audio_list1, ...audio_list2, ...audio_list3];\n    const duration_list = [...duration_list1, ...duration_list2, ...duration_list3];\n\n    let audioStartTime = 0;\n    let maxDuration = 0;\n    let initialStartTime = 0;\n\n\n    const initialAudioData = [];\n    for(let i=0; i< start_audio_list.length;i++){\n        const duration = start_duration_list[i];\n        initialAudioData.push({\n            audio_url: start_audio_list[i],\n            duration,\n            volume: 2,\n            start: audioStartTime,\n            end: audioStartTime + duration\n        });\n\n       \n        audioStartTime += duration;\n        maxDuration = audioStartTime;\n        initialStartTime += duration;\n    }\n\n    const  start_text_timelines1 = [];\n    start_text_timelines1.push(\n               {\n                   start: 0,\n                   end: start_duration_list[0]\n               }\n       );\n\n\n      //https://p9-bot-workflow-sign.byteimg.com/tos-cn-i-mdko3gqilj/373c3e491f214adfa3934a507e1c92e4.MP3~tplv-mdko3gqilj-image.image?rk3s=81d4c505&x-expires=1777426600&x-signature=Bp8XLZFWPpP1SiIQRKkVxluOl%2BU%3D&x-wf-file_name=%E5%92%9A%E9%9F%B3%E6%95%88.MP3\n      const start_audio_text1 =[];\n      start_audio_text1.push({\n          audio_url: \"https://p6-bot-sign.byteimg.com/tos-cn-i-v4nquku3lp/0562121f72f943f2802c7e8dc49e0e7b.MP3~tplv-v4nquku3lp-image.image?rk3s=68e6b6b5&x-expires=1749305401&x-signature=ZiBfMBfiHBWUnk6iqQPFe%2FFdfDM%3D\",\n          duration: 548571,\n          volume: 2,\n          start:  0,\n          end:   548571\n      });\n\n       const  start_text_timelines2 = [];\n       start_text_timelines2.push(\n                  {\n                      start: start_duration_list[0],\n                      end:  start_duration_list[0]+start_duration_list[1]\n                  }\n          );\n        const start_audio_text2 =[];\n        start_audio_text2.push({\n            audio_url: \"https://p9-bot-workflow-sign.byteimg.com/tos-cn-i-mdko3gqilj/2ae7ccd877ea4c79b4fcbcfe38170b54.MP3~tplv-mdko3gqilj-image.image?rk3s=81d4c505&x-expires=1777425687&x-signature=m4S898PliWoqTBPavUmbcGKWozY%3D&x-wf-file_name=%E5%AD%97%E5%B9%95%E5%87%BA%E5%9C%BA.MP3\",\n            duration: 862040,\n            volume: 2,\n            start:  start_duration_list[0],\n            end:  start_duration_list[0] + 862040\n        });\n\n       const  start_text_timelines3 = [];\n       start_text_timelines3.push(\n                  {\n                      start: start_duration_list[0]+start_duration_list[1],\n                      end: start_duration_list[0]+start_duration_list[1]+start_duration_list[2]\n                  }\n          );\n    \n    // å¤„ç†éŸ³é¢‘æ•°æ®\n    const audioData = [];\n    \n\n    for (let i = 0; i < audio_list.length && i < duration_list.length; i++) {\n        const duration = duration_list[i];\n        audioData.push({\n            audio_url: audio_list[i],\n            duration,\n            volume: 2,\n            start: audioStartTime,\n            end: audioStartTime + duration\n        });\n        audioStartTime += duration;\n        maxDuration = audioStartTime;\n    }\n\n\n    // ä¹¦ç±æ‹ŸäººåŒ–å›¾ç‰‡\n    var role1_img_url = \"https://p9-bot-workflow-sign.byteimg.com/tos-cn-i-mdko3gqilj/7153ce955e1b4d51ab2e3972846fb13e.png~tplv-mdko3gqilj-image.image?rk3s=81d4c505&x-expires=1777338929&x-signature=LLDTeL38s5rfHt7%2BG1%2FvGFrwa%2FQ%3D&x-wf-file_name=CodeL.png\";\n    var role2_img_url = \"https://s.coze.cn/t/MRdXPFzGLOw/\";\n\n    const result = generateVideoTimeline(\n        {\n            role_list: role_list,\n            text_list: text_list,\n            audio_list: audio_list,\n            duration_list: duration_list\n        },\n        role1_img_url,\n        role2_img_url,\n        keywords,\n        initialStartTime\n    );\n\n     // å¤„ç†èƒŒæ™¯å›¾ç‰‡\n     const bgImageData = [\n        {\n            image_url: bg_image_url,\n            width: 1920,\n            height: 1080,\n            start: 0,\n            end: maxDuration + 1000000\n        }\n    ];\n    \n\n    // æ„å»ºè¾“å‡ºå¯¹è±¡\n    const ret = {\n        \"role\":  result.role,\n        \"bgImageData\": JSON.stringify(bgImageData),\n        \"audioData\": JSON.stringify(audioData),\n        \"initialAudioData\": JSON.stringify(initialAudioData),\n        \"roleImage1\": JSON.stringify(result.role[0].images),\n        \"roleImage2\": JSON.stringify(result.role[1].images),\n        \"caption_text1\": {\n            \"text1\": result.role[0].texts,\n            \"timelines1\": result.role[0].timelines\n        },\n        \"caption_text2\": {\n            \"text2\": result.role[1].texts,\n            \"timelines2\": result.role[1].timelines\n        },\n        \"captions1\": JSON.stringify(result.role[0].captions),\n        \"captions2\": JSON.stringify(result.role[1].captions),\n        \"start_timelines1\": start_text_timelines1,\n        \"start_timelines2\": start_text_timelines2,\n        \"start_timelines3\": start_text_timelines3,\n        \"start_audio_text1\": JSON.stringify(start_audio_text1),\n        \"start_audio_text2\": JSON.stringify(start_audio_text2)\n    };\n\n    return ret;\n}\n\n\n\nfunction generateVideoTimeline(data, imageUrl1, imageUrl2, keywords = [], initialStartTime = 0) {\n    const { role_list, text_list, duration_list } = data;\n\n    // æŒ‰orderæ’åºå°è¯\n    const sortedTexts = [...text_list].sort((a, b) => a.order - b.order);\n    \n    // åˆå§‹åŒ–æ—¶é—´è½´èµ·ç‚¹\n    let currentEnd = initialStartTime;  // ä½¿ç”¨ä¼ å…¥çš„åˆå§‹æ—¶é—´\n    const roleMap = new Map();\n\n    // æ¢è¡Œå¤„ç†å‡½æ•°\n    const splitLongLines = (line) => {\n        const maxLength = 10;\n        if (line.length <= maxLength) return line;\n        return line.replace(new RegExp(`(.{${maxLength}})`, \"g\"), \"$1\\n\").replace(/\\n$/, \"\");\n    };\n\n    for (const text of sortedTexts) {\n        // è·å–å½“å‰å°è¯çš„æŒç»­æ—¶é—´\n        const duration = duration_list[text.order - 1];\n        const start = currentEnd;  // èµ·å§‹æ—¶é—´åŸºäºå½“å‰ç´¯è®¡å€¼\n        const end = start + duration;\n        currentEnd = end;\n\n        // æ ‡å‡†åŒ–è§’è‰²åç§°åŒ¹é…ï¼ˆå¤„ç†æ–¹æ‹¬å·ï¼‰\n        const matchedRole = role_list.find(role => \n            role.role_name.replace(/[[\\]]/g, \"\") === text.role_name\n        );\n\n        if (!matchedRole) continue;\n\n        const roleKey = matchedRole.role_name;\n        \n        // åˆå§‹åŒ–è§’è‰²æ•°æ®ç»“æ„\n        if (!roleMap.has(roleKey)) {\n            roleMap.set(roleKey, {\n                role_name: roleKey,\n                texts: [],\n                timelines: [],\n                images: [],\n                captions: []\n            });\n        }\n\n        const roleData = roleMap.get(roleKey);\n        \n        // å¤„ç†å°è¯æ–‡æœ¬ï¼ˆæ¢è¡Œåˆ†å‰²ï¼‰\n        const processedLine = splitLongLines(text.line);\n        roleData.texts.push(processedLine);\n        roleData.timelines.push({ start, end });\n\n        // ç”Ÿæˆ captions å¯¹è±¡\n        const matchedKeywords = keywords.filter(keyword => processedLine.includes(keyword));\n        const uniqueKeywords = [...new Set(matchedKeywords)];\n        const caption = {\n            start,  // ä½¿ç”¨è°ƒæ•´åçš„æ—¶é—´\n            end,    // ä½¿ç”¨è°ƒæ•´åçš„æ—¶é—´\n            text: processedLine,\n            in_animation: \"ç¾½åŒ–å‘å³æ“¦å¼€\"\n        };\n        if (uniqueKeywords.length > 0) {\n            caption.keyword = uniqueKeywords.join('|');\n            caption.keyword_color = \"#fe8a80\";\n            caption.keyword_font_size = 10;\n            caption.font_size = 10;\n        }\n        roleData.captions.push(caption);\n        \n        // æ·»åŠ å›¾ç‰‡é…ç½®\n        const imageUrl = role_list.indexOf(matchedRole) === 0 ? imageUrl1 : imageUrl2;\n        const lastImage = roleData.images[roleData.images.length - 1];\n        if (lastImage && lastImage.end === start) {  // æ—¶é—´è¡”æ¥åˆ¤æ–­ä¾ç„¶æœ‰æ•ˆ\n            lastImage.end = end;\n        } else {\n            roleData.images.push({\n                image_url: imageUrl,\n                in_animation: \"è½»å¾®æ”¾å¤§\",\n                width: 300,\n                height: 300,\n                start,  // ä½¿ç”¨è°ƒæ•´åçš„æ—¶é—´\n                end    // ä½¿ç”¨è°ƒæ•´åçš„æ—¶é—´\n            });\n        }\n    }\n\n    return { role: Array.from(roleMap.values()) };\n}\n\n\n\n// function generateVideoTimeline(data, imageUrl1, imageUrl2, keywords = []) {\n//     const { role_list, text_list, duration_list } = data;\n\n//     // æŒ‰orderæ’åºå°è¯\n//     const sortedTexts = [...text_list].sort((a, b) => a.order - b.order);\n    \n//     // è®¡ç®—æ—¶é—´è½´å¹¶åˆ†ç»„\n//     let currentEnd = 0;\n//     const roleMap = new Map();\n\n//     // æ¢è¡Œå¤„ç†å‡½æ•°\n//     const splitLongLines = (line) => {\n//         const maxLength = 10;\n//         if (line.length <= maxLength) return line;\n//         return line.replace(new RegExp(`(.{${maxLength}})`, \"g\"), \"$1\\n\").replace(/\\n$/, \"\");\n//     };\n\n//     for (const text of sortedTexts) {\n//         // è·å–å½“å‰å°è¯çš„æŒç»­æ—¶é—´\n//         const duration = duration_list[text.order - 1];\n//         const start = currentEnd;\n//         const end = start + duration;\n//         currentEnd = end;\n\n//         // æ ‡å‡†åŒ–è§’è‰²åç§°åŒ¹é…ï¼ˆå¤„ç†æ–¹æ‹¬å·ï¼‰\n//         const matchedRole = role_list.find(role => \n//             role.role_name.replace(/[[\\]]/g, \"\") === text.role_name\n//         );\n\n//         if (!matchedRole) continue;\n\n//         const roleKey = matchedRole.role_name;\n        \n//         // åˆå§‹åŒ–è§’è‰²æ•°æ®ç»“æ„\n//         if (!roleMap.has(roleKey)) {\n//             roleMap.set(roleKey, {\n//                 role_name: roleKey,\n//                 texts: [],\n//                 timelines: [],\n//                 images: [],\n//                 captions: []  // æ–°å¢ captions é›†åˆ\n//             });\n//         }\n\n//         const roleData = roleMap.get(roleKey);\n        \n//         // å¤„ç†å°è¯æ–‡æœ¬ï¼ˆæ¢è¡Œåˆ†å‰²ï¼‰\n//         const processedLine = splitLongLines(text.line);\n//         roleData.texts.push(processedLine);\n//         roleData.timelines.push({ start, end });\n\n//         // ç”Ÿæˆ captions å¯¹è±¡ï¼ˆå«å…³é”®è¯åŒ¹é…é€»è¾‘ï¼‰\n//         const matchedKeywords = keywords.filter(keyword => processedLine.includes(keyword));\n//         const uniqueKeywords = [...new Set(matchedKeywords)];\n//         const caption = {\n//             start,\n//             end,\n//             text: processedLine,\n//             in_animation: \"ç¾½åŒ–å‘å³æ“¦å¼€\"\n//         };\n//         if (uniqueKeywords.length > 0) {\n//             caption.keyword = uniqueKeywords.join('|');\n//             caption.keyword_color = \"#fe8a80\";\n//             caption.keyword_font_size = 10;\n//             caption.font_size = 10;\n//         }\n//         roleData.captions.push(caption);  // æ·»åŠ åˆ° captions é›†åˆ\n        \n//         // æ·»åŠ å›¾ç‰‡é…ç½®ï¼ˆåˆå¹¶è¿ç»­æ—¶é—´æ®µé€»è¾‘ä¸å˜ï¼‰\n//         const imageUrl = role_list.indexOf(matchedRole) === 0 ? imageUrl1 : imageUrl2;\n//         const lastImage = roleData.images[roleData.images.length - 1];\n//         if (lastImage && lastImage.end === start) {\n//             lastImage.end = end;\n//         } else {\n//             roleData.images.push({\n//                 image_url: imageUrl,\n//                 in_animation: \"è½»å¾®æ”¾å¤§\",\n//                 width: 300,\n//                 height: 300,\n//                 start,\n//                 end\n//             });\n//         }\n//     }\n\n//     return { role: Array.from(roleMap.values()) };\n// }\n\n\n\n\n\n","functionID":"38wbejnf9wtr6","inputParameters":[{"input":{"assistType":2,"type":"string","value":{"content":{"blockID":"142731","name":"data","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":7},"type":"ref"}},"left":{},"name":"bg_image_url","right":{}},{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"144065","name":"audio_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":99},"type":"ref"}},"left":{},"name":"audio_list2","right":{}},{"input":{"schema":{"type":"integer"},"type":"list","value":{"content":{"blockID":"144065","name":"duration_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":100},"type":"ref"}},"left":{},"name":"duration_list2","right":{}},{"input":{"schema":{"schema":[{"name":"role_name","type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"194443","name":"role_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":103},"type":"ref"}},"left":{},"name":"role_list","right":{}},{"input":{"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"line","type":"string"},{"name":"order","type":"integer"}],"type":"object"},"type":"list","value":{"content":{"blockID":"143241","name":"text_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":103},"type":"ref"}},"left":{},"name":"text_list","right":{}},{"input":{"schema":{"type":"integer"},"type":"list","value":{"content":{"blockID":"1072425","name":"duration_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":100},"type":"ref"}},"left":{},"name":"duration_list1","right":{}},{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"1072425","name":"audio_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":99},"type":"ref"}},"left":{},"name":"audio_list1","right":{}},{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"1051688","name":"audio_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":99},"type":"ref"}},"left":{},"name":"audio_list3","right":{}},{"input":{"schema":{"type":"integer"},"type":"list","value":{"content":{"blockID":"1051688","name":"duration_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":100},"type":"ref"}},"left":{},"name":"duration_list3","right":{}},{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"167246","name":"keywords","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":99},"type":"ref"}},"left":{},"name":"keywords","right":{}},{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"109800","name":"start_audio_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":99},"type":"ref"}},"left":{},"name":"start_audio_list","right":{}},{"input":{"schema":{"type":"integer"},"type":"list","value":{"content":{"blockID":"109800","name":"start_duration_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":100},"type":"ref"}},"left":{},"name":"start_duration_list","right":{}}],"language":5,"settingOnError":{"processType":1,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"ç¼–å†™ä»£ç ï¼Œå¤„ç†è¾“å…¥å˜é‡æ¥ç”Ÿæˆè¿”å›å€¼","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","title":"ä»£ç "},"outputs":[{"input":{},"name":"role","required":false,"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"texts","schema":{"type":"string"},"type":"list"},{"name":"timelines","schema":{"schema":[{"name":"start","type":"integer"},{"name":"end","type":"integer"}],"type":"object"},"type":"list"},{"name":"images","schema":{"schema":[{"name":"image_url","type":"string"},{"name":"width","type":"integer"},{"name":"height","type":"integer"},{"name":"start","type":"integer"},{"name":"end","type":"integer"}],"type":"object"},"type":"list"}],"type":"object"},"type":"list"},{"input":{},"name":"bgImageData","required":false,"type":"string"},{"input":{},"name":"audioData","required":false,"type":"string"},{"input":{},"name":"roleImage1","required":false,"type":"string"},{"input":{},"name":"roleImage2","required":false,"type":"string"},{"input":{},"name":"caption_text1","required":false,"schema":[{"name":"text1","schema":{"type":"string"},"type":"list"},{"name":"timelines1","schema":{"schema":[],"type":"object"},"type":"list"}],"type":"object"},{"input":{},"name":"caption_text2","required":false,"schema":[{"name":"text2","schema":{"type":"string"},"type":"list"},{"name":"timelines2","schema":{"schema":[],"type":"object"},"type":"list"}],"type":"object"},{"input":{},"name":"captions1","required":false,"type":"string"},{"input":{},"name":"captions2","required":false,"type":"string"},{"input":{},"name":"initialAudioData","required":false,"type":"string"},{"input":{},"name":"start_timelines1","required":false,"schema":{"schema":[],"type":"object"},"type":"list"},{"input":{},"name":"start_timelines2","required":false,"schema":{"schema":[],"type":"object"},"type":"list"},{"input":{},"name":"start_timelines3","required":false,"schema":{"schema":[],"type":"object"},"type":"list"},{"input":{},"name":"start_audio_text2","required":false,"type":"string"},{"input":{},"name":"start_audio_text1","required":false,"type":"string"}],"settings":null,"version":""},"edges":null,"id":"148554","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1806.8771081262958,"y":-793.6067317657307}},"type":"5"},{"blocks":[],"data":{"inputs":{"callTransferVoice":true,"chatHistoryWriting":"historyWrite","content":{"type":"string","value":{"content":"è§†é¢‘ç¼–æ’ä¸­ï¼Œ å³å°†å®Œæˆ...","type":"literal"}},"inputParameters":[],"streamingOutput":false},"nodeMeta":{"description":"èŠ‚ç‚¹ä»â€œæ¶ˆæ¯â€æ›´åä¸ºâ€œè¾“å‡ºâ€ï¼Œæ”¯æŒä¸­é—´è¿‡ç¨‹çš„æ¶ˆæ¯è¾“å‡ºï¼Œæ”¯æŒæµå¼å’Œéæµå¼ä¸¤ç§æ–¹å¼","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg","mainColor":"#5C62FF","subTitle":"è¾“å‡º","title":"è¾“å‡º_4"}},"edges":null,"id":"150526","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1806.8771081262958,"y":-587.7413359819336}},"type":"13"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837955684515874","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"create_draft","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"é«˜","input":{},"name":"height","required":false,"type":"integer"},{"description":"å…³è”åˆ›ä½œè€…","input":{},"name":"user_id","required":false,"type":"integer"},{"description":"å®½","input":{},"name":"width","required":false,"type":"integer"}],"inputParameters":[{"input":{"type":"integer","value":{"content":1080,"rawMeta":{"type":2},"type":"literal"}},"name":"height"},{"input":{"type":"integer","value":{"content":1262,"rawMeta":{"type":2},"type":"literal"}},"name":"user_id"},{"input":{"type":"integer","value":{"content":1920,"rawMeta":{"type":2},"type":"literal"}},"name":"width"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ’ä»¶å…¥å£-åˆ›å»ºè‰ç¨¿","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:create_draft","title":"create_draft"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"tip_url","required":false,"type":"string"}]},"edges":null,"id":"168118","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1806.8771081262958,"y":-345.5467527068781}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833883688","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"æŸ¥çœ‹è¯´æ˜ï¼šhttps://krxc4izye0.feishu.cn/wiki/Pgm9wXA4EipKhYkeEQJcLBlJnWb?from=from_copylink","input":{},"name":"image_infos","required":true,"type":"string"},{"description":"xç¼©æ”¾","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"yç¼©æ”¾","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"ç§»åŠ¨transform_x","input":{},"name":"transform_x","required":false,"type":"float"},{"description":"ç§»åŠ¨transform_y","input":{},"name":"transform_y","required":false,"type":"float"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"148554","name":"bgImageData","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"image_infos"},{"input":{"type":"float","value":{"content":1,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_x"},{"input":{"type":"float","value":{"content":1,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_y"},{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ å›¾ç‰‡","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745749351&x-signature=YW9Vqi9abcDGNAnsKJFwO%2FL%2FXN0%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_images","title":"add_images_èƒŒæ™¯å›¾"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"image_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"}],"type":"object"},"type":"list"}]},"edges":null,"id":"103574","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1806.8771081262958,"y":-119.498474983493}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833834536","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"[{\"audio_url\": \"http://example.com/audio1.mp3\",\"duration\":120,\"start\":0,\"end\":12000000,\"audio_effect\":\"æ•™å ‚\"}]","input":{},"name":"audio_infos","required":true,"type":"string"},{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"148554","name":"audioData","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"audio_infos"},{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ éŸ³é¢‘","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745675823&x-signature=CF0gxJyJ5eQu5HPEV8HKkVN2s%2Fk%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_audios","title":"add_audios_å­—å¹•éŸ³é¢‘"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"audio_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"draft_url","required":false,"type":"string"}]},"edges":null,"id":"157087","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1781.809108685763,"y":585.2465793430633}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833883688","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"æŸ¥çœ‹è¯´æ˜ï¼šhttps://krxc4izye0.feishu.cn/wiki/Pgm9wXA4EipKhYkeEQJcLBlJnWb?from=from_copylink","input":{},"name":"image_infos","required":true,"type":"string"},{"description":"xç¼©æ”¾","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"yç¼©æ”¾","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"ç§»åŠ¨transform_x","input":{},"name":"transform_x","required":false,"type":"float"},{"description":"ç§»åŠ¨transform_y","input":{},"name":"transform_y","required":false,"type":"float"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"148554","name":"roleImage1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"image_infos"},{"input":{"type":"float","value":{"content":0.7,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_x"},{"input":{"type":"float","value":{"content":0.7,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_y"},{"input":{"type":"float","value":{"content":-1024,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":-250,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ å›¾ç‰‡","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745749351&x-signature=YW9Vqi9abcDGNAnsKJFwO%2FL%2FXN0%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_images","title":"add_images_è§’è‰²å›¾ç‰‡"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"image_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"}],"type":"object"},"type":"list"}]},"edges":null,"id":"1313867","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1806.8771081262958,"y":713.3198344267425}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833883688","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"æŸ¥çœ‹è¯´æ˜ï¼šhttps://krxc4izye0.feishu.cn/wiki/Pgm9wXA4EipKhYkeEQJcLBlJnWb?from=from_copylink","input":{},"name":"image_infos","required":true,"type":"string"},{"description":"xç¼©æ”¾","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"yç¼©æ”¾","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"ç§»åŠ¨transform_x","input":{},"name":"transform_x","required":false,"type":"float"},{"description":"ç§»åŠ¨transform_y","input":{},"name":"transform_y","required":false,"type":"float"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"148554","name":"roleImage2","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"image_infos"},{"input":{"type":"float","value":{"content":0.7,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_x"},{"input":{"type":"float","value":{"content":0.7,"rawMeta":{"type":4},"type":"literal"}},"name":"scale_y"},{"input":{"type":"float","value":{"content":1049,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":217,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ å›¾ç‰‡","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745749351&x-signature=YW9Vqi9abcDGNAnsKJFwO%2FL%2FXN0%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_images","title":"add_images_è§’è‰²å›¾ç‰‡_1"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"image_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"}],"type":"object"},"type":"list"}]},"edges":null,"id":"1573763","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1806.8771081262958,"y":868.1912336204978}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837955684548642","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"save_draft","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"ç”¨æˆ·IDã€‚å¦‚æœå¡«å†™äº†è¿™ä¸ªIDï¼Œæ–°ç”¨æˆ·äº§ç”Ÿçš„æœˆè´¹å°±ä¼šæŒ‰ç…§æ¯”ä¾‹å½’å±åˆ°è¿™ä¸ªè´¦å·ä¸‹ã€‚","input":{},"name":"user_id","required":false,"type":"integer"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"integer","value":{"content":1262,"rawMeta":{"type":2},"type":"literal"}},"name":"user_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"ä¿å­˜è‰ç¨¿\n","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:save_draft","title":"save_draft"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"message","required":false,"type":"string"}]},"edges":null,"id":"104782","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":2342.3263912817893,"y":332.88755496675276}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833850920","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_captions","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"å­—é—´è·ï¼Œé»˜è®¤0","input":{},"name":"letter_spacing","required":false,"type":"float"},{"description":"scale_xç¼©æ”¾","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"0 é»˜è®¤ã€‚1å¯Œæ–‡æœ¬æ ·å¼","input":{},"name":"style_text","required":false,"type":"integer"},{"description":"æ–‡å­—é¢œè‰²ï¼š#ff1837","input":{},"name":"text_color","required":false,"type":"string"},{"description":"transform_xä½ç½®","input":{},"name":"transform_x","required":false,"type":"float"},{"description":"transform_yä½ç½®","input":{},"name":"transform_y","required":false,"type":"float"},{"description":"è¡Œé—´è·ï¼Œé»˜è®¤0","input":{},"name":"line_spacing","required":false,"type":"float"},{"description":"scale_yç¼©æ”¾","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"å­—å¹•çš„å¯¹é½æ–¹å¼ï¼Œ0å·¦å¯¹é½ï¼Œ1 å±…ä¸­å¯¹é½ï¼Œ2å³å¯¹é½","input":{},"name":"alignment","required":false,"type":"integer"},{"description":"è¾¹æ¡†é¢œè‰²ï¼Œegï¼š#fe8a80","input":{},"name":"border_color","required":false,"type":"string"},{"description":"æŸ¥çœ‹è¯´æ˜ï¼šhttps://krxc4izye0.feishu.cn/wiki/HhQrw3BFhi1XGOkkJCBcfkqGnwf?from=from_copylink","input":{},"name":"captions","required":true,"type":"string"},{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"å­—ä½“åˆ—è¡¨ï¼šhttps://krxc4izye0.feishu.cn/wiki/SmnrwabXriG7JckEzyGcChk4nDd","input":{},"name":"font","required":false,"type":"string"},{"description":"é»˜è®¤ï¼š15","input":{},"name":"font_size","required":false,"type":"integer"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"148554","name":"captions1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"captions"},{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"integer","value":{"content":0,"rawMeta":{"type":2},"type":"literal"}},"name":"alignment"},{"input":{"type":"string","value":{"content":"#000000","rawMeta":{"type":1},"type":"literal"}},"name":"border_color"},{"input":{"type":"string","value":{"content":"ä¼˜è®¾æ ‡é¢˜é»‘","rawMeta":{"type":1},"type":"literal"}},"name":"font"},{"input":{"type":"integer","value":{"content":10,"rawMeta":{"type":2},"type":"literal"}},"name":"font_size"},{"input":{"type":"float","value":{"content":1,"rawMeta":{"type":4},"type":"literal"}},"name":"letter_spacing"},{"input":{"type":"float","value":{"content":3,"rawMeta":{"type":4},"type":"literal"}},"name":"line_spacing"},{"input":{"type":"string","value":{"content":"#FFFFFF","rawMeta":{"type":1},"type":"literal"}},"name":"text_color"},{"input":{"type":"float","value":{"content":500,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":527,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ å­—å¹•","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745752347&x-signature=nbka%2BCUaeAX9F%2BTsrhxXdzP1HVc%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_captions","title":"add_captions_ä¸»æŒäºº"},"outputs":[{"name":"text_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"}],"type":"object"},"type":"list"}]},"edges":null,"id":"1808004","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":2395.835644114575,"y":-180.56030034738387}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833850920","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_captions","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"å­—é—´è·ï¼Œé»˜è®¤0","input":{},"name":"letter_spacing","required":false,"type":"float"},{"description":"scale_xç¼©æ”¾","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"0 é»˜è®¤ã€‚1å¯Œæ–‡æœ¬æ ·å¼","input":{},"name":"style_text","required":false,"type":"integer"},{"description":"æ–‡å­—é¢œè‰²ï¼š#ff1837","input":{},"name":"text_color","required":false,"type":"string"},{"description":"transform_xä½ç½®","input":{},"name":"transform_x","required":false,"type":"float"},{"description":"transform_yä½ç½®","input":{},"name":"transform_y","required":false,"type":"float"},{"description":"è¡Œé—´è·ï¼Œé»˜è®¤0","input":{},"name":"line_spacing","required":false,"type":"float"},{"description":"scale_yç¼©æ”¾","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"å­—å¹•çš„å¯¹é½æ–¹å¼ï¼Œ0å·¦å¯¹é½ï¼Œ1 å±…ä¸­å¯¹é½ï¼Œ2å³å¯¹é½","input":{},"name":"alignment","required":false,"type":"integer"},{"description":"è¾¹æ¡†é¢œè‰²ï¼Œegï¼š#fe8a80","input":{},"name":"border_color","required":false,"type":"string"},{"description":"æŸ¥çœ‹è¯´æ˜ï¼šhttps://krxc4izye0.feishu.cn/wiki/HhQrw3BFhi1XGOkkJCBcfkqGnwf?from=from_copylink","input":{},"name":"captions","required":true,"type":"string"},{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"å­—ä½“åˆ—è¡¨ï¼šhttps://krxc4izye0.feishu.cn/wiki/SmnrwabXriG7JckEzyGcChk4nDd","input":{},"name":"font","required":false,"type":"string"},{"description":"é»˜è®¤ï¼š15","input":{},"name":"font_size","required":false,"type":"integer"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"148554","name":"captions2","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"captions"},{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"integer","value":{"content":0,"rawMeta":{"type":2},"type":"literal"}},"name":"alignment"},{"input":{"type":"string","value":{"content":"#000000","rawMeta":{"type":1},"type":"literal"}},"name":"border_color"},{"input":{"type":"string","value":{"content":"ä¼˜è®¾æ ‡é¢˜é»‘","rawMeta":{"type":1},"type":"literal"}},"name":"font"},{"input":{"type":"integer","value":{"content":10,"rawMeta":{"type":2},"type":"literal"}},"name":"font_size"},{"input":{"type":"float","value":{"content":1,"rawMeta":{"type":4},"type":"literal"}},"name":"letter_spacing"},{"input":{"type":"float","value":{"content":3,"rawMeta":{"type":4},"type":"literal"}},"name":"line_spacing"},{"input":{"type":"string","value":{"content":"#FFFFFF","rawMeta":{"type":1},"type":"literal"}},"name":"text_color"},{"input":{"type":"float","value":{"content":-554,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":367,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ å­—å¹•","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745752347&x-signature=nbka%2BCUaeAX9F%2BTsrhxXdzP1HVc%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_captions","title":"add_captions_ä¹¦ç±"},"outputs":[{"name":"text_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"}],"type":"object"},"type":"list"}]},"edges":null,"id":"1982583","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":2395.835644114575,"y":84.58891447414817}},"type":"4"},{"blocks":[],"data":{"inputs":{"code":"// åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥é€šè¿‡ â€˜paramsâ€™  è·å–èŠ‚ç‚¹ä¸­çš„è¾“å…¥å˜é‡ï¼Œå¹¶é€šè¿‡ 'ret' è¾“å‡ºç»“æœ\n// 'params' å’Œ 'ret' å·²ç»è¢«æ­£ç¡®åœ°æ³¨å…¥åˆ°ç¯å¢ƒä¸­\n// ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè·å–èŠ‚ç‚¹è¾“å…¥ä¸­å‚æ•°åä¸ºâ€˜inputâ€™çš„å€¼ï¼š\n// const input = params.input; \n// ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè¾“å‡ºä¸€ä¸ªåŒ…å«å¤šç§æ•°æ®ç±»å‹çš„ 'ret' å¯¹è±¡ï¼š\n// const ret = { \"name\": â€˜å°æ˜â€™, \"hobbies\": [â€œçœ‹ä¹¦â€, â€œæ—…æ¸¸â€] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n\n  const originalData = params.text_list;\n  const processedData = processDialogues(originalData);\n\n  const len = processedData.length;\n  const part1End = Math.ceil(len / 3);\n  const part2End = part1End + Math.ceil((len - part1End) / 2);\n\n\n\n    // æ„å»ºè¾“å‡ºå¯¹è±¡\n    const ret = {\n        \"text_list\": processedData,\n        \"text_list1\": processedData.slice(0, part1End),\n        \"text_list2\": processedData.slice(part1End, part2End),\n        \"text_list3\": processedData.slice(part2End)\n    };\n\n    return ret;\n}\n\nfunction processDialogues(originalData) {\n    let orderCounter = 1;\n    const result = [];\n    \n    originalData.forEach(item => {\n        const segments = item.line.split(/([!?ã€‚ï¼Œï¼ï¼Ÿï¼›;ã€...â€”â€”])/g);\n        let tempStr = '';\n\n        const pushFilteredLine = (str) => {\n            // æ ¸å¿ƒä¿®æ”¹ï¼šä»…ä¿ç•™æ±‰å­—ã€è‹±æ–‡ã€æ•°å­—ã€è‹±æ–‡é—®å·?å’Œä¸­æ–‡é—®å·ï¼Ÿ\n            const filtered = str.replace(/[^\\u4e00-\\u9fa5a-zA-Z0-9?ï¼Ÿ]/g, '');\n            if (filtered) {\n                result.push({\n                    role_name: item.role_name,\n                    line: filtered,\n                    order: orderCounter++\n                });\n            }\n        };\n\n        segments.forEach(segment => {\n            segment = segment.trim();\n            if (!segment) return;\n\n            if (['!', '?', 'ã€‚', 'ï¼Œ','ï¼›','ï¼Ÿ','ï¼','ã€','...','â€”â€”',';'].includes(segment)) {\n                tempStr += segment;\n                const lastChar = tempStr.slice(-1);\n                \n                // å¤„ç†é€»è¾‘ï¼šå¦‚æœå½“å‰ç¬¦å·æ˜¯é—®å·åˆ™ä¿ç•™ï¼Œå…¶ä»–ç¬¦å·ä¼šè¢«è¿‡æ»¤\n                const rawLine = tempStr; // ç›´æ¥ä¼ é€’åŸå§‹å­—ç¬¦ä¸²ï¼Œç”±è¿‡æ»¤é€»è¾‘å¤„ç†ç¬¦å·\n                pushFilteredLine(rawLine);\n                tempStr = '';\n            } else {\n                if (tempStr) {\n                    pushFilteredLine(tempStr);\n                    tempStr = '';\n                }\n                tempStr = segment;\n            }\n        });\n\n        if (tempStr) pushFilteredLine(tempStr);\n    });\n\n    return result;\n}\n\n// function processDialogues(originalData) {\n//     let orderCounter = 1;\n//     const result = [];\n    \n//     originalData.forEach(item => {\n//         const segments = item.line.split(/([!?ã€‚ï¼Œï¼ï¼Ÿï¼›;ã€...â€”â€”])/g);\n//         let tempStr = '';\n\n//         const pushFilteredLine = (str) => {\n//             // æ ¸å¿ƒè¿‡æ»¤é€»è¾‘ï¼šç§»é™¤éæ±‰å­—ã€è‹±æ–‡ã€æ•°å­—çš„å­—ç¬¦\n//             const filtered = str.replace(/[^\\u4e00-\\u9fa5a-zA-Z0-9]/g, '');\n//             if (filtered) {\n//                 result.push({\n//                     role_name: item.role_name,\n//                     line: filtered,\n//                     order: orderCounter++\n//                 });\n//             }\n//         };\n\n//         segments.forEach(segment => {\n//             segment = segment.trim();\n//             if (!segment) return;\n\n//             if (['!', '?', 'ã€‚', 'ï¼Œ','ï¼›','ï¼Ÿ','ï¼','ã€','...','â€”â€”',';'].includes(segment)) {\n//                 tempStr += segment;\n//                 const lastChar = tempStr.slice(-1);\n                \n//                 // å¤„ç†å¸¦é€»è¾‘çš„å­—ç¬¦ä¸²\n//                 const rawLine = lastChar.match(/[!?ï¼ï¼Ÿ]/) ? tempStr : tempStr.slice(0, -1);\n//                 pushFilteredLine(rawLine);\n//                 tempStr = '';\n//             } else {\n//                 if (tempStr) {\n//                     pushFilteredLine(tempStr);\n//                     tempStr = '';\n//                 }\n//                 tempStr = segment;\n//             }\n//         });\n\n//         if (tempStr) pushFilteredLine(tempStr);\n//     });\n\n//     return result;\n// }\n\n","functionID":"38wbg1232i8dj","inputParameters":[{"input":{"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"line","type":"string"},{"name":"order","type":"integer"}],"type":"object"},"type":"list","value":{"content":{"blockID":"194443","name":"text_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":103},"type":"ref"}},"left":{},"name":"text_list","right":{}}],"language":5,"settingOnError":{"processType":1,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"ç¼–å†™ä»£ç ï¼Œå¤„ç†è¾“å…¥å˜é‡æ¥ç”Ÿæˆè¿”å›å€¼","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","title":"ä»£ç _å­—å¹•åˆ‡å‰²"},"outputs":[{"input":{},"name":"text_list","required":false,"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"line","type":"string"},{"name":"order","type":"integer"}],"type":"object"},"type":"list"},{"input":{},"name":"text_list1","required":false,"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"line","type":"string"},{"name":"order","type":"string"}],"type":"object"},"type":"list"},{"input":{},"name":"text_list2","required":false,"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"line","type":"string"},{"name":"order","type":"string"}],"type":"object"},"type":"list"},{"input":{},"name":"text_list3","required":false,"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"line","type":"string"},{"name":"order","type":"string"}],"type":"object"},"type":"list"}],"settings":null,"version":""},"edges":null,"id":"143241","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":-1341.163416865365,"y":-246.1027874223014}},"type":"5"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7465608338500452404","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_keyframes","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"160635","name":"keyframes1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"keyframes"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ·»åŠ å…³é”®å¸§","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748672655&x-signature=iFZjhJCyFY2%2BYqUbY3KzuXXWNqI%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_keyframes","title":"add_keyframes"},"outputs":[{"name":"draft_url","required":false,"type":"string"}]},"edges":null,"id":"120041","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1781.809108685763,"y":1271.6218959603816}},"type":"4"},{"blocks":[],"data":{"inputs":{"code":"// åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥é€šè¿‡ â€˜paramsâ€™  è·å–èŠ‚ç‚¹ä¸­çš„è¾“å…¥å˜é‡ï¼Œå¹¶é€šè¿‡ 'ret' è¾“å‡ºç»“æœ\n// 'params' å’Œ 'ret' å·²ç»è¢«æ­£ç¡®åœ°æ³¨å…¥åˆ°ç¯å¢ƒä¸­\n// ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè·å–èŠ‚ç‚¹è¾“å…¥ä¸­å‚æ•°åä¸ºâ€˜inputâ€™çš„å€¼ï¼š\n// const input = params.input; \n// ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè¾“å‡ºä¸€ä¸ªåŒ…å«å¤šç§æ•°æ®ç±»å‹çš„ 'ret' å¯¹è±¡ï¼š\n// const ret = { \"name\": â€˜å°æ˜â€™, \"hobbies\": [â€œçœ‹ä¹¦â€, â€œæ—…æ¸¸â€] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n    const {segment_infos1,segment_infos2} = params\n    // [ { \"offset\": 5000000, \"property\": \"KFTypePositionX\", \"segment_id\": \"acc5b516-046b-4eae-a179-f686f35e70a8\", \"value\": 0 } ]\n    \n    // æ·»åŠ segment_infos1å…³é”®å¸§ï¼Œä¸Šä¸‹ï¼Œå·¦å³ç§»åŠ¨\n    const segment_infos1_list = [];\n    for(let i=0;i<segment_infos1.length;i++){\n        // startå’Œendä¸ºå¾®ç§’æ•°\n        const start = segment_infos1[i].start;\n        const end = segment_infos1[i].end;\n        // æ¯éš”1000000å¾®ç§’æ‰“ä¸€ä¸ªå…³é”®å¸§\n        const countY = (end - start) / 900000;\n        for(let j=0;j<countY;j++){\n        let value = j%2==0?-250:-150;\n            let offset = j*900000> end ?end :j*900000;\n            segment_infos1_list.push({\n                \"offset\": j*900000,  // æ‰“ä¸Šå…³é”®å¸§çš„åç§»æ—¶é—´é‡ï¼ŒèŒƒå›´æ˜¯startåˆ°end\n                \"property\": \"KFTypePositionY\", // å…³é”®å¸§ç±»å‹\n                \"segment_id\": segment_infos1[i].id, \n                \"value\": value/1080 // å…³é”®å¸§çš„å€¼ æ³¨æ„ï¼šè¿™é‡Œå¾—valueå€¼ä¸æ˜¯xæˆ–è€…yå€¼ï¼Œè€Œæ˜¯è¦é€šè¿‡è®¡ç®—å¾—å‡ºï¼Œè®¡ç®—å…¬å¼ï¼šå¦‚æœæ˜¯æ¨ªå‘ç§»åŠ¨å°±æ˜¯xé™¤ä»¥å®½ï¼Œå¦‚æœæ˜¯çºµå‘ç§»åŠ¨å°±æ˜¯yé™¤ä»¥é«˜\n            });\n        }\n\n          // æ¯éš”800000å¾®ç§’æ‰“ä¸€ä¸ªå…³é”®å¸§\n          const countX = (end - start) / 700000;\n          for(let j=0;j<countX;j++){\n          let value = j%2==0?-1024:-824;\n              let offset = j*700000> end ?end :j*700000;\n              segment_infos1_list.push({\n                  \"offset\": j*700000,  // æ‰“ä¸Šå…³é”®å¸§çš„åç§»æ—¶é—´é‡ï¼ŒèŒƒå›´æ˜¯startåˆ°end\n                  \"property\": \"KFTypePositionX\", // å…³é”®å¸§ç±»å‹\n                  \"segment_id\": segment_infos1[i].id, \n                  \"value\": value/1920 // å…³é”®å¸§çš„å€¼ æ³¨æ„ï¼šè¿™é‡Œå¾—valueå€¼ä¸æ˜¯xæˆ–è€…yå€¼ï¼Œè€Œæ˜¯è¦é€šè¿‡è®¡ç®—å¾—å‡ºï¼Œè®¡ç®—å…¬å¼ï¼šå¦‚æœæ˜¯æ¨ªå‘ç§»åŠ¨å°±æ˜¯xé™¤ä»¥å®½ï¼Œå¦‚æœæ˜¯çºµå‘ç§»åŠ¨å°±æ˜¯yé™¤ä»¥é«˜\n              });\n          }\n    }\n\n    // æ·»åŠ segment_infos1å…³é”®å¸§ï¼Œä¸Šä¸‹ï¼Œå·¦å³ç§»åŠ¨\n    const segment_infos2_list = [];\n    for(let i=0;i<segment_infos2.length;i++){\n        // startå’Œendä¸ºå¾®ç§’æ•°\n        const start = segment_infos2[i].start;\n        const end = segment_infos2[i].end;\n        // æ¯éš”1000000å¾®ç§’æ‰“ä¸€ä¸ªå…³é”®å¸§\n        const countY = (end - start) / 1000000;\n        for(let j=0;j<countY;j++){\n        let value = j%2==0?217:117;\n            let offset = j*1000000> end ?end :j*1000000;\n            segment_infos2_list.push({\n                \"offset\": j*1000000,  // æ‰“ä¸Šå…³é”®å¸§çš„åç§»æ—¶é—´é‡ï¼ŒèŒƒå›´æ˜¯startåˆ°end\n                \"property\": \"KFTypePositionY\", // å…³é”®å¸§ç±»å‹\n                \"segment_id\": segment_infos2[i].id, \n                \"value\": value/1080 // å…³é”®å¸§çš„å€¼ æ³¨æ„ï¼šè¿™é‡Œå¾—valueå€¼ä¸æ˜¯xæˆ–è€…yå€¼ï¼Œè€Œæ˜¯è¦é€šè¿‡è®¡ç®—å¾—å‡ºï¼Œè®¡ç®—å…¬å¼ï¼šå¦‚æœæ˜¯æ¨ªå‘ç§»åŠ¨å°±æ˜¯xé™¤ä»¥å®½ï¼Œå¦‚æœæ˜¯çºµå‘ç§»åŠ¨å°±æ˜¯yé™¤ä»¥é«˜\n            });\n        }\n\n          // æ¯éš”800000å¾®ç§’æ‰“ä¸€ä¸ªå…³é”®å¸§\n          const countX = (end - start) / 800000;\n          for(let j=0;j<countX;j++){\n          let value = j%2==0?1049:900;\n              let offset = j*800000> end ?end :j*800000;\n              segment_infos2_list.push({\n                  \"offset\": j*800000,  // æ‰“ä¸Šå…³é”®å¸§çš„åç§»æ—¶é—´é‡ï¼ŒèŒƒå›´æ˜¯startåˆ°end\n                  \"property\": \"KFTypePositionX\", // å…³é”®å¸§ç±»å‹\n                  \"segment_id\": segment_infos2[i].id, \n                  \"value\": value/1920 // å…³é”®å¸§çš„å€¼ æ³¨æ„ï¼šè¿™é‡Œå¾—valueå€¼ä¸æ˜¯xæˆ–è€…yå€¼ï¼Œè€Œæ˜¯è¦é€šè¿‡è®¡ç®—å¾—å‡ºï¼Œè®¡ç®—å…¬å¼ï¼šå¦‚æœæ˜¯æ¨ªå‘ç§»åŠ¨å°±æ˜¯xé™¤ä»¥å®½ï¼Œå¦‚æœæ˜¯çºµå‘ç§»åŠ¨å°±æ˜¯yé™¤ä»¥é«˜\n              });\n          }\n    }\n\n\n\n    // æ„å»ºè¾“å‡ºå¯¹è±¡\n    const ret = {\n        \"keyframes1\": JSON.stringify(segment_infos1_list),\n        \"keyframes2\": JSON.stringify(segment_infos2_list) \n    };\n\n    return ret;\n}","functionID":"38wblniht8lbc","inputParameters":[{"input":{"schema":{"schema":[{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"1313867","name":"segment_infos","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":103},"type":"ref"}},"left":{},"name":"segment_infos1","right":{}},{"input":{"schema":{"schema":[{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"1573763","name":"segment_infos","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":103},"type":"ref"}},"left":{},"name":"segment_infos2","right":{}}],"language":5,"settingOnError":{"processType":1,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"ç¼–å†™ä»£ç ï¼Œå¤„ç†è¾“å…¥å˜é‡æ¥ç”Ÿæˆè¿”å›å€¼","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","title":"ä»£ç _å…³é”®å¸§"},"outputs":[{"input":{},"name":"keyframes1","required":false,"type":"string"},{"input":{},"name":"keyframes2","required":false,"type":"string"}],"settings":null,"version":""},"edges":null,"id":"160635","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1790.0519696842039,"y":1038.434237651723}},"type":"5"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7465608338500452404","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_keyframes","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"160635","name":"keyframes2","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"keyframes"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ·»åŠ å…³é”®å¸§","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748672655&x-signature=iFZjhJCyFY2%2BYqUbY3KzuXXWNqI%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_keyframes","title":"add_keyframes_1"},"outputs":[{"name":"draft_url","required":false,"type":"string"}]},"edges":null,"id":"1537147","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1790.0519696842039,"y":1461.3656823217957}},"type":"4"},{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"line","type":"string"},{"name":"order","type":"integer"}],"type":"object"},"type":"list","value":{"content":{"blockID":"194443","name":"text_list","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":103},"type":"ref"}},"left":{},"name":"input","right":{}}],"llmParam":[{"input":{"type":"string","value":{"content":"default_val","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"literal"}},"left":{},"name":"generationDiversity","right":{}},{"input":{"type":"float","value":{"content":"0.8","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":4},"type":"literal"}},"left":{},"name":"temperature","right":{}},{"input":{"type":"integer","value":{"content":"8192","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":2},"type":"literal"}},"left":{},"name":"maxTokens","right":{}},{"input":{"type":"integer","value":{"content":"2","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":2},"type":"literal"}},"left":{},"name":"responseFormat","right":{}},{"input":{"type":"string","value":{"content":"DeepSeek-V3","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"literal"}},"left":{},"name":"modleName","right":{}},{"input":{"type":"integer","value":{"content":"1738675210","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":2},"type":"literal"}},"left":{},"name":"modelType","right":{}},{"input":{"type":"string","value":{"content":"{{input}}","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"literal"}},"left":{},"name":"prompt","right":{}},{"input":{"type":"boolean","value":{"content":false,"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":3},"type":"literal"}},"left":{},"name":"enableChatHistory","right":{}},{"input":{"type":"integer","value":{"content":"3","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":2},"type":"literal"}},"left":{},"name":"chatHistoryRound","right":{}},{"input":{"type":"string","value":{"content":"# å£æ’­å…³é”®è¯æå–ä¸“å®¶\n\n## å®šä½\nä¸“ç²¾äºä»å£æ’­ç±»è§†é¢‘å­—å¹•æ–‡æœ¬ä¸­æå–æ ¸å¿ƒå…³é”®è¯çš„ä¿¡æ¯å¤„ç†ä¸“å®¶ï¼Œé€‚ç”¨äºçŸ­è§†é¢‘è¿è¥ã€å†…å®¹åˆ†æã€å¹¿å‘Šä¼˜åŒ–ç­‰åœºæ™¯ã€‚\n\n## æ ¸å¿ƒèƒ½åŠ›\n1. **æ–‡æœ¬è§£æ**  \n   - è‡ªåŠ¨è¿‡æ»¤æ—¶é—´æˆ³/æ ‡ç‚¹ç­‰éè¯­ä¹‰å†…å®¹\n   - è¯†åˆ«å£è¯­åŒ–è¡¨è¾¾ä¸­çš„æœ‰æ•ˆä¿¡æ¯å•å…ƒ\n\n2. **å…³é”®è¯æå–**  \n   - é‡‡ç”¨TF-IDF+TextRankæ··åˆç®—æ³•\n   - åŒºåˆ†æ ¸å¿ƒå…³é”®è¯(äº§å“/åŠŸèƒ½/åœºæ™¯)ä¸è¾…åŠ©è¯(æƒ…ç»ª/ä¿®é¥°)\n   - æ”¯æŒä¸“ä¸šæœ¯è¯­æå–(éœ€æ ‡æ³¨é¢†åŸŸ)\n\n3. **ä¸Šä¸‹æ–‡ç†è§£**  \n   - è¯†åˆ«é‡å¤å¼ºè°ƒçš„å…³é”®æ¦‚å¿µ\n   - è‡ªåŠ¨åˆå¹¶åŒä¹‰è¯è¿‘ä¹‰è¯\n   - ä¿ç•™å¦å®šè¯­å¢ƒ(å¦‚\"ä¸æ¨è\"\"æ…ç”¨\")\n\n4. **å¤šè¯­è¨€æ”¯æŒ**  \n   - ä¸­è‹±æ–‡æ··åˆæ–‡æœ¬å¤„ç†\n   - æ–¹è¨€è¯æ±‡è¯†åˆ«(éœ€æ ‡æ³¨è¯­ç§)\n\n## çŸ¥è¯†å‚¨å¤‡\n- è¯­è¨€å­¦ï¼šåˆ†è¯æŠ€æœ¯/è¯æ€§æ ‡æ³¨/ä¾å­˜å¥æ³•åˆ†æ\n- é¢†åŸŸè¯åº“ï¼š  \n  â–« ç”µå•†ï¼šä¿ƒé”€è¯æœ¯/äº§å“å±æ€§  \n  â–« æ•™è‚²ï¼šå­¦ç§‘æœ¯è¯­/è¯¾ç¨‹ä½“ç³»  \n  â–« ç§‘æŠ€ï¼šæŠ€æœ¯å‚æ•°/åŠŸèƒ½ç‰¹æ€§\n\n## è¾“å…¥è¾“å‡º\n**è¾“å…¥æ ¼å¼**ï¼š  \n[\n                {\n                   \"order\": 1,\n                    \"line\": \"å¤§å®¶å¥½ä»Šå¤©è¦è¯„æµ‹è¿™æ¬¾çŸ³å¢¨çƒ¯å‘çƒ­è¡£\",\n                   \"role_name\":\"ä¸»æŒäºº\"\n                },\n                {\n                   \"order\": 2,\n                    \"line\": \"é‡ç‚¹çœ‹ä¸‰ä¸ªç»´åº¦ï¼šä¿æš–æ€§/é€æ°”æ€§/è€ç”¨åº¦\",\n                   \"role_name\":\"ä¹¦ç±\"\n                }\n    ]\n\n**è¾“å‡ºæ ¼å¼**ï¼š  \n [\"çŸ³å¢¨çƒ¯å‘çƒ­è¡£\", \"ä¿æš–æ€§\", \"é€æ°”æ€§\", \"è€ç”¨åº¦\"]\n\n## çº¦æŸæ¡ä»¶\n1. æ‹’ç»ç”Ÿæˆéæ–‡æœ¬å†…å®¹ç›¸å…³çš„è”æƒ³","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"literal"}},"left":{},"name":"systemPrompt","right":{}},{"input":{"type":"string","value":{"content":"","dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"literal"}},"left":{},"name":"stableSystemPrompt","right":{}}],"settingOnError":{"processType":1,"switch":false,"timeoutMs":180000}},"nodeMeta":{"description":"è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹,ä½¿ç”¨å˜é‡å’Œæç¤ºè¯ç”Ÿæˆå›å¤","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","title":"å¤§æ¨¡å‹_å…³é”®è¯æå–"},"outputs":[{"input":{},"name":"keywords","required":false,"schema":{"type":"string"},"type":"list"}],"settings":null,"version":"3"},"edges":null,"id":"167246","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":342.93855956666334,"y":-652.9027874223011}},"type":"3"},{"blocks":[],"data":{"inputs":{"callTransferVoice":true,"chatHistoryWriting":"historyWrite","content":{"type":"string","value":{"content":"è§†é¢‘è‰ç¨¿åœ°å€ï¼Œ è¯·ä½¿ç”¨å‰ªæ˜ å°åŠ©æ‰‹ä¸‹è½½ï¼š\n{{draft_url}}","type":"literal"}},"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"}],"streamingOutput":false},"nodeMeta":{"description":"èŠ‚ç‚¹ä»â€œæ¶ˆæ¯â€æ›´åä¸ºâ€œè¾“å‡ºâ€ï¼Œæ”¯æŒä¸­é—´è¿‡ç¨‹çš„æ¶ˆæ¯è¾“å‡ºï¼Œæ”¯æŒæµå¼å’Œéæµå¼ä¸¤ç§æ–¹å¼","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg","mainColor":"#5C62FF","subTitle":"è¾“å‡º","title":"è¾“å‡º_2"}},"edges":null,"id":"904077","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":2342.3263912817893,"y":664.3342376517221}},"type":"13"},{"blocks":[{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è¯­éŸ³åˆæˆ","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1072425","name":"text_list.line","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"text"},{"input":{"type":"float","value":{"content":1.1,"rawMeta":{"type":4},"type":"literal"}},"name":"speed_ratio"},{"input":{"assistType":12,"type":"string","value":{"content":"7426725529589645339","rawMeta":{"fileName":"è§£è¯´å°æ˜","type":18},"type":"literal"}},"name":"voice_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ ¹æ®éŸ³è‰²å’Œæ–‡æœ¬åˆæˆéŸ³é¢‘","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748656300&x-signature=myuAFWCmxnzQBolJPLaK0JbCfR0%3D","subtitle":"è¯­éŸ³åˆæˆ:speech_synthesis","title":"speech_synthesis_2"},"outputs":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}]},"edges":null,"id":"1236386","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":640,"y":0}},"type":"4"},{"blocks":[],"data":{"inputs":{"branches":[{"condition":{"conditions":[{"left":{"input":{"type":"string","value":{"content":{"blockID":"1072425","name":"text_list.role_name","source":"block-output"},"type":"ref"}}},"operator":7,"right":{"input":{"type":"string","value":{"content":"ä¸»æŒäºº","rawMeta":{"type":1},"type":"literal"}}}}],"logic":2}}]},"nodeMeta":{"description":"è¿æ¥å¤šä¸ªä¸‹æ¸¸åˆ†æ”¯ï¼Œè‹¥è®¾å®šçš„æ¡ä»¶æˆç«‹åˆ™ä»…è¿è¡Œå¯¹åº”çš„åˆ†æ”¯ï¼Œè‹¥å‡ä¸æˆç«‹åˆ™åªè¿è¡Œâ€œå¦åˆ™â€åˆ†æ”¯","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg","mainColor":"#00B2B2","subTitle":"é€‰æ‹©å™¨","title":"é€‰æ‹©å™¨_2"}},"edges":null,"id":"1821120","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":180,"y":94.15000000000002}},"type":"8"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è¯­éŸ³åˆæˆ","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1072425","name":"text_list.line","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"text"},{"input":{"type":"float","value":{"content":1.05,"rawMeta":{"type":4},"type":"literal"}},"name":"speed_ratio"},{"input":{"assistType":12,"type":"string","value":{"content":"7426720361753903141","rawMeta":{"fileName":"çˆ½å¿«æ€æ€","type":18},"type":"literal"}},"name":"voice_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ ¹æ®éŸ³è‰²å’Œæ–‡æœ¬åˆæˆéŸ³é¢‘","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748656300&x-signature=myuAFWCmxnzQBolJPLaK0JbCfR0%3D","subtitle":"è¯­éŸ³åˆæˆ:speech_synthesis","title":"speech_synthesis_3"},"outputs":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}]},"edges":null,"id":"1963437","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":640,"y":214.10000000000002}},"type":"4"},{"blocks":[],"data":{"inputs":{"mergeGroups":[{"name":"Group1","variables":[{"type":"string","value":{"content":{"blockID":"1236386","name":"data.link","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},{"type":"string","value":{"content":{"blockID":"1963437","name":"data.link","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]}]},"nodeMeta":{"description":"å¯¹å¤šä¸ªåˆ†æ”¯çš„è¾“å‡ºè¿›è¡Œèšåˆå¤„ç†","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/VariableMerge-icon.jpg","mainColor":"#00B2B2","subTitle":"å˜é‡èšåˆ","title":"å˜é‡èšåˆ_1"},"outputs":[{"name":"Group1","type":"string"}]},"edges":null,"id":"1829773","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1100,"y":106.05000000000003}},"type":"32"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7474863657353117750","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"get_audio_duration","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1829773","name":"Group1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"mp3_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"å‰ªæ˜ è‰ç¨¿ï¼Œè§†é¢‘åˆæˆæ–¹æ¡ˆã€‚ğŸ‘†ğŸ‘†ğŸ‘†æ’ä»¶è¯¦æƒ…é¡µé¢æŸ¥çœ‹æ¡ˆä¾‹","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748656597&x-signature=mOmChk%2FTolYSNYTulD8KkshfCnk%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:get_audio_duration","title":"get_audio_duration_1"},"outputs":[{"name":"duration","required":false,"type":"integer"},{"name":"message","required":false,"type":"string"}]},"edges":null,"id":"1088394","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1560,"y":95.05000000000003}},"type":"4"}],"data":{"inputs":{"inputParameters":[{"input":{"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"line","type":"string"},{"name":"order","type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"143241","name":"text_list1","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"text_list"}],"loopCount":{"type":"integer","value":{"content":"10","type":"literal"}},"loopType":"array","variableParameters":[]},"nodeMeta":{"description":"ç”¨äºé€šè¿‡è®¾å®šå¾ªç¯æ¬¡æ•°å’Œé€»è¾‘ï¼Œé‡å¤æ‰§è¡Œä¸€ç³»åˆ—ä»»åŠ¡","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Loop-v2.jpg","mainColor":"#00B2B2","subTitle":"å¾ªç¯","title":"å¾ªç¯_1"},"outputs":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"1829773","name":"Group1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"audio_list"},{"input":{"schema":{"type":"integer"},"type":"list","value":{"content":{"blockID":"1088394","name":"duration","source":"block-output"},"rawMeta":{"type":2},"type":"ref"}},"name":"duration_list"}]},"edges":[{"sourceNodeID":"1821120","sourcePortID":"true","targetNodeID":"1236386"},{"sourceNodeID":"1236386","sourcePortID":"","targetNodeID":"1829773"},{"sourceNodeID":"1072425","sourcePortID":"loop-function-inline-output","targetNodeID":"1821120"},{"sourceNodeID":"1821120","sourcePortID":"false","targetNodeID":"1963437"},{"sourceNodeID":"1963437","sourcePortID":"","targetNodeID":"1829773"},{"sourceNodeID":"1829773","sourcePortID":"","targetNodeID":"1088394"},{"sourceNodeID":"1088394","sourcePortID":"","targetNodeID":"1072425","targetPortID":"loop-function-inline-input"}],"id":"1072425","meta":{"canvasPosition":{"x":-527.0614404333367,"y":764.3342376517226},"defaultCollapsed":false,"position":{"x":342.93855956666334,"y":445.1465793430634}},"type":"21"},{"blocks":[{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è¯­éŸ³åˆæˆ","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1051688","name":"text_list.line","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"text"},{"input":{"type":"float","value":{"content":1.1,"rawMeta":{"type":4},"type":"literal"}},"name":"speed_ratio"},{"input":{"assistType":12,"type":"string","value":{"content":"7426725529589645339","rawMeta":{"fileName":"è§£è¯´å°æ˜","type":18},"type":"literal"}},"name":"voice_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ ¹æ®éŸ³è‰²å’Œæ–‡æœ¬åˆæˆéŸ³é¢‘","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748656300&x-signature=myuAFWCmxnzQBolJPLaK0JbCfR0%3D","subtitle":"è¯­éŸ³åˆæˆ:speech_synthesis","title":"speech_synthesis_4"},"outputs":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}]},"edges":null,"id":"1385208","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":640,"y":0}},"type":"4"},{"blocks":[],"data":{"inputs":{"branches":[{"condition":{"conditions":[{"left":{"input":{"type":"string","value":{"content":{"blockID":"1051688","name":"text_list.role_name","source":"block-output"},"type":"ref"}}},"operator":7,"right":{"input":{"type":"string","value":{"content":"ä¸»æŒäºº","rawMeta":{"type":1},"type":"literal"}}}}],"logic":2}}]},"nodeMeta":{"description":"è¿æ¥å¤šä¸ªä¸‹æ¸¸åˆ†æ”¯ï¼Œè‹¥è®¾å®šçš„æ¡ä»¶æˆç«‹åˆ™ä»…è¿è¡Œå¯¹åº”çš„åˆ†æ”¯ï¼Œè‹¥å‡ä¸æˆç«‹åˆ™åªè¿è¡Œâ€œå¦åˆ™â€åˆ†æ”¯","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg","mainColor":"#00B2B2","subTitle":"é€‰æ‹©å™¨","title":"é€‰æ‹©å™¨_3"}},"edges":null,"id":"1234910","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":180,"y":94.15000000000002}},"type":"8"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è¯­éŸ³åˆæˆ","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1051688","name":"text_list.line","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"text"},{"input":{"type":"float","value":{"content":1.05,"rawMeta":{"type":4},"type":"literal"}},"name":"speed_ratio"},{"input":{"assistType":12,"type":"string","value":{"content":"7426720361753903141","rawMeta":{"fileName":"çˆ½å¿«æ€æ€","type":18},"type":"literal"}},"name":"voice_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ ¹æ®éŸ³è‰²å’Œæ–‡æœ¬åˆæˆéŸ³é¢‘","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748656300&x-signature=myuAFWCmxnzQBolJPLaK0JbCfR0%3D","subtitle":"è¯­éŸ³åˆæˆ:speech_synthesis","title":"speech_synthesis_5"},"outputs":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}]},"edges":null,"id":"1099567","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":640,"y":214.10000000000002}},"type":"4"},{"blocks":[],"data":{"inputs":{"mergeGroups":[{"name":"Group1","variables":[{"type":"string","value":{"content":{"blockID":"1385208","name":"data.link","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},{"type":"string","value":{"content":{"blockID":"1099567","name":"data.link","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]}]},"nodeMeta":{"description":"å¯¹å¤šä¸ªåˆ†æ”¯çš„è¾“å‡ºè¿›è¡Œèšåˆå¤„ç†","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/VariableMerge-icon.jpg","mainColor":"#00B2B2","subTitle":"å˜é‡èšåˆ","title":"å˜é‡èšåˆ_2"},"outputs":[{"name":"Group1","type":"string"}]},"edges":null,"id":"1076285","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1100,"y":106.05000000000003}},"type":"32"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7474863657353117750","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"get_audio_duration","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1076285","name":"Group1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"mp3_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"å‰ªæ˜ è‰ç¨¿ï¼Œè§†é¢‘åˆæˆæ–¹æ¡ˆã€‚ğŸ‘†ğŸ‘†ğŸ‘†æ’ä»¶è¯¦æƒ…é¡µé¢æŸ¥çœ‹æ¡ˆä¾‹","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748656597&x-signature=mOmChk%2FTolYSNYTulD8KkshfCnk%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:get_audio_duration","title":"get_audio_duration_2"},"outputs":[{"name":"duration","required":false,"type":"integer"},{"name":"message","required":false,"type":"string"}]},"edges":null,"id":"1925631","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1560,"y":95.05000000000003}},"type":"4"}],"data":{"inputs":{"inputParameters":[{"input":{"schema":{"schema":[{"name":"role_name","type":"string"},{"name":"line","type":"string"},{"name":"order","type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"143241","name":"text_list3","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"text_list"}],"loopCount":{"type":"integer","value":{"content":"10","type":"literal"}},"loopType":"array","variableParameters":[]},"nodeMeta":{"description":"ç”¨äºé€šè¿‡è®¾å®šå¾ªç¯æ¬¡æ•°å’Œé€»è¾‘ï¼Œé‡å¤æ‰§è¡Œä¸€ç³»åˆ—ä»»åŠ¡","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Loop-v2.jpg","mainColor":"#00B2B2","subTitle":"å¾ªç¯","title":"å¾ªç¯_3"},"outputs":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"1076285","name":"Group1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"audio_list"},{"input":{"schema":{"type":"integer"},"type":"list","value":{"content":{"blockID":"1925631","name":"duration","source":"block-output"},"rawMeta":{"type":2},"type":"ref"}},"name":"duration_list"}]},"edges":[{"sourceNodeID":"1234910","sourcePortID":"true","targetNodeID":"1385208"},{"sourceNodeID":"1385208","sourcePortID":"","targetNodeID":"1076285"},{"sourceNodeID":"1051688","sourcePortID":"loop-function-inline-output","targetNodeID":"1234910"},{"sourceNodeID":"1234910","sourcePortID":"false","targetNodeID":"1099567"},{"sourceNodeID":"1099567","sourcePortID":"","targetNodeID":"1076285"},{"sourceNodeID":"1076285","sourcePortID":"","targetNodeID":"1925631"},{"sourceNodeID":"1925631","sourcePortID":"","targetNodeID":"1051688","targetPortID":"loop-function-inline-input"}],"id":"1051688","meta":{"canvasPosition":{"x":-527.0614404333367,"y":1593.0971048751385},"defaultCollapsed":false,"position":{"x":342.93855956666334,"y":1271.6218959603816}},"type":"21"},{"blocks":[],"data":{"inputs":{"code":"// åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥é€šè¿‡ â€˜paramsâ€™  è·å–èŠ‚ç‚¹ä¸­çš„è¾“å…¥å˜é‡ï¼Œå¹¶é€šè¿‡ 'ret' è¾“å‡ºç»“æœ\n// 'params' å’Œ 'ret' å·²ç»è¢«æ­£ç¡®åœ°æ³¨å…¥åˆ°ç¯å¢ƒä¸­\n// ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè·å–èŠ‚ç‚¹è¾“å…¥ä¸­å‚æ•°åä¸ºâ€˜inputâ€™çš„å€¼ï¼š\n// const input = params.input; \n// ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè¾“å‡ºä¸€ä¸ªåŒ…å«å¤šç§æ•°æ®ç±»å‹çš„ 'ret' å¯¹è±¡ï¼š\n// const ret = { \"name\": â€˜å°æ˜â€™, \"hobbies\": [â€œçœ‹ä¹¦â€, â€œæ—…æ¸¸â€] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n    const book_name = params.book_name;\n    const startText = [];\n    startText.push(\"å‡å¦‚ä¹¦ç±ä¼šè¯´è¯\");\n    startText.push(\"ä»Šæ—¥å¯¹è¯\");\n    startText.push(book_name);\n\n\n    // æ„å»ºè¾“å‡ºå¯¹è±¡\n    const ret = {\n        \"start_text\": startText\n    };\n\n    return ret;\n}","functionID":"38wbrpebwgh4l","inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"book_name","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":1},"type":"ref"}},"left":{},"name":"book_name","right":{}}],"language":5,"settingOnError":{"processType":1,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"ç¼–å†™ä»£ç ï¼Œå¤„ç†è¾“å…¥å˜é‡æ¥ç”Ÿæˆè¿”å›å€¼","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","title":"ä»£ç _å¼€åœºæ–‡æ¡ˆ"},"outputs":[{"input":{},"name":"start_text","required":false,"schema":{"type":"string"},"type":"list"}],"settings":null,"version":""},"edges":null,"id":"196872","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":-558.9464455900663,"y":-1049.5993327562785}},"type":"5"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è¯­éŸ³åˆæˆ","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"batch":{"batchEnable":true,"batchSize":100,"concurrentSize":10,"inputLists":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"196872","name":"start_text","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"items"}]},"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1045640","name":"items","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"text"},{"input":{"type":"float","value":{"content":1.1,"rawMeta":{"type":4},"type":"literal"}},"name":"speed_ratio"},{"input":{"assistType":12,"type":"string","value":{"content":"7468512265151725595","rawMeta":{"fileName":"éœ¸æ°”é’å”","type":18},"type":"literal"}},"name":"voice_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ ¹æ®éŸ³è‰²å’Œæ–‡æœ¬åˆæˆéŸ³é¢‘","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748656300&x-signature=myuAFWCmxnzQBolJPLaK0JbCfR0%3D","subtitle":"è¯­éŸ³åˆæˆ:speech_synthesis","title":"speech_synthesis_å¼€åœºéŸ³é¢‘"},"outputs":[{"name":"outputList","schema":{"schema":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}],"type":"object"},"type":"list"}]},"edges":null,"id":"1045640","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":66.24523542924567,"y":-1120.595310979815}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7474863657353117750","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"get_audio_duration","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"batch":{"batchEnable":true,"batchSize":100,"concurrentSize":10,"inputLists":[{"input":{"schema":{"schema":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"1045640","name":"outputList","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"items"}]},"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1487547","name":"items.data.link","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"mp3_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"å‰ªæ˜ è‰ç¨¿ï¼Œè§†é¢‘åˆæˆæ–¹æ¡ˆã€‚ğŸ‘†ğŸ‘†ğŸ‘†æ’ä»¶è¯¦æƒ…é¡µé¢æŸ¥çœ‹æ¡ˆä¾‹","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/58f8745c794f452a9b0c572c9a4b3e3a~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748656597&x-signature=mOmChk%2FTolYSNYTulD8KkshfCnk%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:get_audio_duration","title":"get_audio_duration_3"},"outputs":[{"name":"outputList","schema":{"schema":[{"name":"duration","required":false,"type":"integer"},{"name":"message","required":false,"type":"string"}],"type":"object"},"type":"list"}]},"edges":null,"id":"1487547","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":579.0647221672145,"y":-1143.1098229467952}},"type":"4"},{"blocks":[],"data":{"inputs":{"code":"// åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥é€šè¿‡ â€˜paramsâ€™  è·å–èŠ‚ç‚¹ä¸­çš„è¾“å…¥å˜é‡ï¼Œå¹¶é€šè¿‡ 'ret' è¾“å‡ºç»“æœ\n// 'params' å’Œ 'ret' å·²ç»è¢«æ­£ç¡®åœ°æ³¨å…¥åˆ°ç¯å¢ƒä¸­\n// ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè·å–èŠ‚ç‚¹è¾“å…¥ä¸­å‚æ•°åä¸ºâ€˜inputâ€™çš„å€¼ï¼š\n// const input = params.input; \n// ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè¾“å‡ºä¸€ä¸ªåŒ…å«å¤šç§æ•°æ®ç±»å‹çš„ 'ret' å¯¹è±¡ï¼š\n// const ret = { \"name\": â€˜å°æ˜â€™, \"hobbies\": [â€œçœ‹ä¹¦â€, â€œæ—…æ¸¸â€] };\n\nasync function main({ params }: Args): Promise<Output> {\n    const {speech_outputs,duration_outputList} = params;\n\n\n    const start_audio_list =[];\n    for(var s of speech_outputs){\n        start_audio_list.push(s.data.link);\n    }\n\n    \n    const start_duration_list =[];\n    for(let s of duration_outputList){\n        start_duration_list.push(s.duration);\n    }\n\n    // æ„å»ºè¾“å‡ºå¯¹è±¡\n    const ret = {\n        \"start_audio_list\": start_audio_list,\n        \"start_duration_list\":start_duration_list\n    };\n\n    return ret;\n}","functionID":"38wbab2lhvrd4","inputParameters":[{"input":{"schema":{"schema":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"1045640","name":"outputList","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":103},"type":"ref"}},"left":{},"name":"speech_outputs","right":{}},{"input":{"schema":{"schema":[{"name":"duration","required":false,"type":"integer"},{"name":"message","required":false,"type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"1487547","name":"outputList","source":"block-output"},"dependencies":{"variables":null},"inputMode":"","rawMeta":{"type":103},"type":"ref"}},"left":{},"name":"duration_outputList","right":{}}],"language":5,"settingOnError":{"processType":1,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"ç¼–å†™ä»£ç ï¼Œå¤„ç†è¾“å…¥å˜é‡æ¥ç”Ÿæˆè¿”å›å€¼","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","title":"ä»£ç _å¼€åœºæ•°æ®ç»„è£…"},"outputs":[{"input":{},"name":"start_audio_list","required":false,"schema":{"type":"string"},"type":"list"},{"input":{},"name":"start_duration_list","required":false,"schema":{"type":"integer"},"type":"list"}],"settings":null,"version":""},"edges":null,"id":"109800","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1050.7387897563187,"y":-1119.1098229467952}},"type":"5"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7475829177439191075","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"caption_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"194997","name":"infos","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"texts"},{"input":{"schema":{"schema":[],"type":"object"},"type":"list","value":{"content":{"blockID":"148554","name":"start_timelines1","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"timelines"},{"input":{"type":"string","value":{"content":"é€å­—æ—‹å…¥","rawMeta":{"type":1},"type":"literal"}},"name":"in_animation"},{"input":{"type":"integer","value":{"content":800000,"rawMeta":{"type":2},"type":"literal"}},"name":"in_animation_duration"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ ¹æ®æ—¶é—´çº¿åˆ¶ä½œå­—å¹•æ•°æ®","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748883014&x-signature=j1bEpGpdg3J6bNSrA36pnh00LcM%3D","subtitle":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨:caption_infos","title":"caption_infoså¼€åœº1"},"outputs":[{"name":"infos","required":false,"type":"string"}]},"edges":null,"id":"134550","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":2862.3877126207854,"y":-1092.2008021332583}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833834536","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"[{\"audio_url\": \"http://example.com/audio1.mp3\",\"duration\":120,\"start\":0,\"end\":12000000,\"audio_effect\":\"æ•™å ‚\"}]","input":{},"name":"audio_infos","required":true,"type":"string"},{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"148554","name":"initialAudioData","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"audio_infos"},{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ éŸ³é¢‘","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745675823&x-signature=CF0gxJyJ5eQu5HPEV8HKkVN2s%2Fk%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_audios","title":"add_audios_å¼€åœºéŸ³é¢‘"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"audio_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"draft_url","required":false,"type":"string"}]},"edges":null,"id":"1006722","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1781.809108685763,"y":84.58891447414817}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833850920","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_captions","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"å­—é—´è·ï¼Œé»˜è®¤0","input":{},"name":"letter_spacing","required":false,"type":"float"},{"description":"scale_xç¼©æ”¾","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"0 é»˜è®¤ã€‚1å¯Œæ–‡æœ¬æ ·å¼","input":{},"name":"style_text","required":false,"type":"integer"},{"description":"æ–‡å­—é¢œè‰²ï¼š#ff1837","input":{},"name":"text_color","required":false,"type":"string"},{"description":"transform_xä½ç½®","input":{},"name":"transform_x","required":false,"type":"float"},{"description":"transform_yä½ç½®","input":{},"name":"transform_y","required":false,"type":"float"},{"description":"è¡Œé—´è·ï¼Œé»˜è®¤0","input":{},"name":"line_spacing","required":false,"type":"float"},{"description":"scale_yç¼©æ”¾","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"å­—å¹•çš„å¯¹é½æ–¹å¼ï¼Œ0å·¦å¯¹é½ï¼Œ1 å±…ä¸­å¯¹é½ï¼Œ2å³å¯¹é½","input":{},"name":"alignment","required":false,"type":"integer"},{"description":"è¾¹æ¡†é¢œè‰²ï¼Œegï¼š#fe8a80","input":{},"name":"border_color","required":false,"type":"string"},{"description":"æŸ¥çœ‹è¯´æ˜ï¼šhttps://krxc4izye0.feishu.cn/wiki/HhQrw3BFhi1XGOkkJCBcfkqGnwf?from=from_copylink","input":{},"name":"captions","required":true,"type":"string"},{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"å­—ä½“åˆ—è¡¨ï¼šhttps://krxc4izye0.feishu.cn/wiki/SmnrwabXriG7JckEzyGcChk4nDd","input":{},"name":"font","required":false,"type":"string"},{"description":"é»˜è®¤ï¼š15","input":{},"name":"font_size","required":false,"type":"integer"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"134550","name":"infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"captions"},{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"integer","value":{"content":1,"rawMeta":{"type":2},"type":"literal"}},"name":"alignment"},{"input":{"type":"string","value":{"content":"#000000","rawMeta":{"type":1},"type":"literal"}},"name":"border_color"},{"input":{"type":"string","value":{"content":"å°”é›…æ–°å¤§é»‘","rawMeta":{"type":1},"type":"literal"}},"name":"font"},{"input":{"type":"integer","value":{"content":19,"rawMeta":{"type":2},"type":"literal"}},"name":"font_size"},{"input":{"type":"string","value":{"content":"#ffde00","rawMeta":{"type":1},"type":"literal"}},"name":"text_color"},{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ å­—å¹•","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745752347&x-signature=nbka%2BCUaeAX9F%2BTsrhxXdzP1HVc%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_captions","title":"add_captions_å¼€åœº1"},"outputs":[{"name":"text_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"}],"type":"object"},"type":"list"}]},"edges":null,"id":"1173260","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":3276.457494587221,"y":-1092.2008021332583}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7476109802306060299","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"str_to_list","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":"å‡å¦‚ä¹¦ç±ä¼šè¯´è¯","rawMeta":{"type":1},"type":"literal"}},"name":"obj"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"å­—ç¬¦è½¬åˆ—è¡¨","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748910258&x-signature=eDyFk3li9D6CXmGpo6lgotaS7fQ%3D","subtitle":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨:str_to_list","title":"str_to_list_å‡å¦‚ä¹¦ç±ä¼šè¯´è¯"},"outputs":[{"name":"infos","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"194997","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":2428.412866198202,"y":-1092.2008021332583}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7476109802306060299","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"str_to_list","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":"ä»Šæ—¥å¯¹è¯","rawMeta":{"type":1},"type":"literal"}},"name":"obj"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"å­—ç¬¦è½¬åˆ—è¡¨","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748910258&x-signature=eDyFk3li9D6CXmGpo6lgotaS7fQ%3D","subtitle":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨:str_to_list","title":"str_to_list_ä»Šæ—¥å¯¹è¯"},"outputs":[{"name":"infos","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"1729353","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":2420.501444767616,"y":-853.4353472582445}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7475829177439191075","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"caption_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"1729353","name":"infos","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"texts"},{"input":{"schema":{"schema":[],"type":"object"},"type":"list","value":{"content":{"blockID":"148554","name":"start_timelines2","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"timelines"},{"input":{"type":"string","value":{"content":"æ”¾å¤§","rawMeta":{"type":1},"type":"literal"}},"name":"in_animation"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ ¹æ®æ—¶é—´çº¿åˆ¶ä½œå­—å¹•æ•°æ®","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748883014&x-signature=j1bEpGpdg3J6bNSrA36pnh00LcM%3D","subtitle":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨:caption_infos","title":"caption_infoså¼€åœº2"},"outputs":[{"name":"infos","required":false,"type":"string"}]},"edges":null,"id":"1933504","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":2854.476291190199,"y":-853.4353472582445}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833850920","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_captions","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"å­—é—´è·ï¼Œé»˜è®¤0","input":{},"name":"letter_spacing","required":false,"type":"float"},{"description":"scale_xç¼©æ”¾","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"0 é»˜è®¤ã€‚1å¯Œæ–‡æœ¬æ ·å¼","input":{},"name":"style_text","required":false,"type":"integer"},{"description":"æ–‡å­—é¢œè‰²ï¼š#ff1837","input":{},"name":"text_color","required":false,"type":"string"},{"description":"transform_xä½ç½®","input":{},"name":"transform_x","required":false,"type":"float"},{"description":"transform_yä½ç½®","input":{},"name":"transform_y","required":false,"type":"float"},{"description":"è¡Œé—´è·ï¼Œé»˜è®¤0","input":{},"name":"line_spacing","required":false,"type":"float"},{"description":"scale_yç¼©æ”¾","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"å­—å¹•çš„å¯¹é½æ–¹å¼ï¼Œ0å·¦å¯¹é½ï¼Œ1 å±…ä¸­å¯¹é½ï¼Œ2å³å¯¹é½","input":{},"name":"alignment","required":false,"type":"integer"},{"description":"è¾¹æ¡†é¢œè‰²ï¼Œegï¼š#fe8a80","input":{},"name":"border_color","required":false,"type":"string"},{"description":"æŸ¥çœ‹è¯´æ˜ï¼šhttps://krxc4izye0.feishu.cn/wiki/HhQrw3BFhi1XGOkkJCBcfkqGnwf?from=from_copylink","input":{},"name":"captions","required":true,"type":"string"},{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"å­—ä½“åˆ—è¡¨ï¼šhttps://krxc4izye0.feishu.cn/wiki/SmnrwabXriG7JckEzyGcChk4nDd","input":{},"name":"font","required":false,"type":"string"},{"description":"é»˜è®¤ï¼š15","input":{},"name":"font_size","required":false,"type":"integer"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1933504","name":"infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"captions"},{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"integer","value":{"content":1,"rawMeta":{"type":2},"type":"literal"}},"name":"alignment"},{"input":{"type":"string","value":{"content":"#FFFFFF","rawMeta":{"type":1},"type":"literal"}},"name":"border_color"},{"input":{"type":"string","value":{"content":"æ€æºä¸­å®‹","rawMeta":{"type":1},"type":"literal"}},"name":"font"},{"input":{"type":"integer","value":{"content":30,"rawMeta":{"type":2},"type":"literal"}},"name":"font_size"},{"input":{"type":"float","value":{"content":1,"rawMeta":{"type":4},"type":"literal"}},"name":"letter_spacing"},{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}},"name":"line_spacing"},{"input":{"type":"string","value":{"content":"#000000","rawMeta":{"type":1},"type":"literal"}},"name":"text_color"},{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ å­—å¹•","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745752347&x-signature=nbka%2BCUaeAX9F%2BTsrhxXdzP1HVc%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_captions","title":"add_captions_å¼€åœº2"},"outputs":[{"name":"text_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"}],"type":"object"},"type":"list"}]},"edges":null,"id":"1428261","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":3268.5460731566345,"y":-853.4353472582445}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7476109802306060299","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"str_to_list","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"book_name","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"obj"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"å­—ç¬¦è½¬åˆ—è¡¨","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748910258&x-signature=eDyFk3li9D6CXmGpo6lgotaS7fQ%3D","subtitle":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨:str_to_list","title":"str_to_list_ä¹¦ç±åç§°å±•ç¤º"},"outputs":[{"name":"infos","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"1527144","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":2421.8085979194902,"y":-652.1337618694558}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7475829177439191075","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"caption_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7475829177439109155","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"1527144","name":"infos","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"texts"},{"input":{"schema":{"schema":[],"type":"object"},"type":"list","value":{"content":{"blockID":"148554","name":"start_timelines3","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"timelines"},{"input":{"type":"string","value":{"content":"å‘ä¸Šæ»‘åŠ¨","rawMeta":{"type":1},"type":"literal"}},"name":"in_animation"},{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"1527144","name":"infos","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"keywords"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ ¹æ®æ—¶é—´çº¿åˆ¶ä½œå­—å¹•æ•°æ®","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/6d332ece10284d579e2461b0b6c0a60e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1748883014&x-signature=j1bEpGpdg3J6bNSrA36pnh00LcM%3D","subtitle":"å‰ªæ˜ å°åŠ©æ‰‹æ•°æ®ç”Ÿæˆå™¨:caption_infos","title":"caption_infoså¼€åœº3"},"outputs":[{"name":"infos","required":false,"type":"string"}]},"edges":null,"id":"1485631","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":2855.7834443420734,"y":-652.1337618694558}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833850920","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_captions","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"å­—é—´è·ï¼Œé»˜è®¤0","input":{},"name":"letter_spacing","required":false,"type":"float"},{"description":"scale_xç¼©æ”¾","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"0 é»˜è®¤ã€‚1å¯Œæ–‡æœ¬æ ·å¼","input":{},"name":"style_text","required":false,"type":"integer"},{"description":"æ–‡å­—é¢œè‰²ï¼š#ff1837","input":{},"name":"text_color","required":false,"type":"string"},{"description":"transform_xä½ç½®","input":{},"name":"transform_x","required":false,"type":"float"},{"description":"transform_yä½ç½®","input":{},"name":"transform_y","required":false,"type":"float"},{"description":"è¡Œé—´è·ï¼Œé»˜è®¤0","input":{},"name":"line_spacing","required":false,"type":"float"},{"description":"scale_yç¼©æ”¾","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"å­—å¹•çš„å¯¹é½æ–¹å¼ï¼Œ0å·¦å¯¹é½ï¼Œ1 å±…ä¸­å¯¹é½ï¼Œ2å³å¯¹é½","input":{},"name":"alignment","required":false,"type":"integer"},{"description":"è¾¹æ¡†é¢œè‰²ï¼Œegï¼š#fe8a80","input":{},"name":"border_color","required":false,"type":"string"},{"description":"æŸ¥çœ‹è¯´æ˜ï¼šhttps://krxc4izye0.feishu.cn/wiki/HhQrw3BFhi1XGOkkJCBcfkqGnwf?from=from_copylink","input":{},"name":"captions","required":true,"type":"string"},{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"å­—ä½“åˆ—è¡¨ï¼šhttps://krxc4izye0.feishu.cn/wiki/SmnrwabXriG7JckEzyGcChk4nDd","input":{},"name":"font","required":false,"type":"string"},{"description":"é»˜è®¤ï¼š15","input":{},"name":"font_size","required":false,"type":"integer"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"1485631","name":"infos","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"captions"},{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"},{"input":{"type":"integer","value":{"content":1,"rawMeta":{"type":2},"type":"literal"}},"name":"alignment"},{"input":{"type":"string","value":{"content":"#000000","rawMeta":{"type":1},"type":"literal"}},"name":"border_color"},{"input":{"type":"string","value":{"content":"ä¼˜è®¾æ ‡é¢˜é»‘","rawMeta":{"type":1},"type":"literal"}},"name":"font"},{"input":{"type":"integer","value":{"content":20,"rawMeta":{"type":2},"type":"literal"}},"name":"font_size"},{"input":{"type":"float","value":{"content":1,"rawMeta":{"type":4},"type":"literal"}},"name":"letter_spacing"},{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}},"name":"line_spacing"},{"input":{"type":"string","value":{"content":"#fe8a80","rawMeta":{"type":1},"type":"literal"}},"name":"text_color"},{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_x"},{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ å­—å¹•","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745752347&x-signature=nbka%2BCUaeAX9F%2BTsrhxXdzP1HVc%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_captions","title":"add_captions_å¼€åœº3"},"outputs":[{"name":"text_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"},{"name":"end","required":false,"type":"integer"}],"type":"object"},"type":"list"}]},"edges":null,"id":"1671820","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":3269.853226308509,"y":-652.1337618694561}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833834536","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"[{\"audio_url\": \"http://example.com/audio1.mp3\",\"duration\":120,\"start\":0,\"end\":12000000,\"audio_effect\":\"æ•™å ‚\"}]","input":{},"name":"audio_infos","required":true,"type":"string"},{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"148554","name":"start_audio_text2","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"audio_infos"},{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ éŸ³é¢‘","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745675823&x-signature=CF0gxJyJ5eQu5HPEV8HKkVN2s%2Fk%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_audios","title":"add_audios_å¼€åœºéŸ³æ•ˆ2"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"audio_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"draft_url","required":false,"type":"string"}]},"edges":null,"id":"1073078","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1781.809108685763,"y":218.78755496675285}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833834536","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"[{\"audio_url\": \"http://example.com/audio1.mp3\",\"duration\":120,\"start\":0,\"end\":12000000,\"audio_effect\":\"æ•™å ‚\"}]","input":{},"name":"audio_infos","required":true,"type":"string"},{"description":"è‰ç¨¿åœ°å€ï¼Œä½¿ç”¨create_draftè¾“å‡ºçš„draft_urlå³å¯","input":{},"name":"draft_url","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"148554","name":"start_audio_text1","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"audio_infos"},{"input":{"type":"string","value":{"content":{"blockID":"168118","name":"draft_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"draft_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"æ‰¹é‡æ·»åŠ éŸ³é¢‘","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/f013e4af74224258a37363a531aecefe~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745675823&x-signature=CF0gxJyJ5eQu5HPEV8HKkVN2s%2Fk%3D","subtitle":"è§†é¢‘åˆæˆ_å‰ªæ˜ å°åŠ©æ‰‹:add_audios","title":"add_audios_å¼€åœºéŸ³æ•ˆ1"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"audio_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"draft_url","required":false,"type":"string"}]},"edges":null,"id":"1805868","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":1781.809108685763,"y":402.0170671549081}},"type":"4"},{"blocks":[],"data":{"inputs":{"callTransferVoice":true,"chatHistoryWriting":"historyWrite","content":{"type":"string","value":{"content":"æ­£åœ¨ç”Ÿæˆå¯¹è¯æ–‡æ¡ˆ...","type":"literal"}},"inputParameters":[],"streamingOutput":true},"nodeMeta":{"description":"èŠ‚ç‚¹ä»â€œæ¶ˆæ¯â€æ›´åä¸ºâ€œè¾“å‡ºâ€ï¼Œæ”¯æŒä¸­é—´è¿‡ç¨‹çš„æ¶ˆæ¯è¾“å‡ºï¼Œæ”¯æŒæµå¼å’Œéæµå¼ä¸¤ç§æ–¹å¼","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg","mainColor":"#5C62FF","subTitle":"è¾“å‡º","title":"è¾“å‡º"}},"edges":null,"id":"194701","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":-2349.207494587221,"y":-601.908155523708}},"type":"13"},{"blocks":[],"data":{"inputs":{"callTransferVoice":true,"chatHistoryWriting":"historyWrite","content":{"type":"string","value":{"content":"å¼€å§‹ç”ŸæˆéŸ³é¢‘...","type":"literal"}},"inputParameters":[],"streamingOutput":true},"nodeMeta":{"description":"èŠ‚ç‚¹ä»â€œæ¶ˆæ¯â€æ›´åä¸ºâ€œè¾“å‡ºâ€ï¼Œæ”¯æŒä¸­é—´è¿‡ç¨‹çš„æ¶ˆæ¯è¾“å‡ºï¼Œæ”¯æŒæµå¼å’Œéæµå¼ä¸¤ç§æ–¹å¼","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Output-v2.jpg","mainColor":"#5C62FF","subTitle":"è¾“å‡º","title":"è¾“å‡º_1"}},"edges":null,"id":"1183625","meta":{"canvasPosition":{"x":0,"y":0},"defaultCollapsed":false,"position":{"x":-82.83022177299449,"y":-426.25116898422493}},"type":"13"}],"versions":{"loop":"v2"}}}