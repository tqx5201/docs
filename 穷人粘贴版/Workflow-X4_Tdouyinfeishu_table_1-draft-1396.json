{"type":"coze-workflow-clipboard-data","source":{"workflowId":"7534363948315181110","spaceId":"","host":"www.coze.cn","isDouyin":false,"flowMode":0},"json":{"edges":[{"sourceNodeID":"100001","sourcePortID":"","targetNodeID":"158963"},{"sourceNodeID":"186296","sourcePortID":"","targetNodeID":"900001"},{"sourceNodeID":"111445","sourcePortID":"","targetNodeID":"900001"},{"sourceNodeID":"152653","sourcePortID":"","targetNodeID":"160311"},{"sourceNodeID":"160311","sourcePortID":"","targetNodeID":"198633"},{"sourceNodeID":"158963","sourcePortID":"","targetNodeID":"152653"},{"sourceNodeID":"141262","sourcePortID":"true","targetNodeID":"170020"},{"sourceNodeID":"170020","sourcePortID":"batch-output","targetNodeID":"111445"},{"sourceNodeID":"116007","sourcePortID":"","targetNodeID":"186296"},{"sourceNodeID":"198633","sourcePortID":"false","targetNodeID":"617035"},{"sourceNodeID":"198633","sourcePortID":"true","targetNodeID":"125531"},{"sourceNodeID":"617035","sourcePortID":"","targetNodeID":"116007"},{"sourceNodeID":"123510","sourcePortID":"","targetNodeID":"141262"},{"sourceNodeID":"141262","sourcePortID":"false","targetNodeID":"363181"},{"sourceNodeID":"363181","sourcePortID":"","targetNodeID":"116007"},{"sourceNodeID":"125531","sourcePortID":"","targetNodeID":"123510"}],"nodes":[{"blocks":[],"data":{"nodeMeta":{"description":"工作流的起始节点，用于设定启动工作流需要的信息","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Start-v2.jpg","subTitle":"","title":"开始"},"outputs":[{"description":"输入抖音博主主页分享链接；获取方式：https://ai-for-everyone.feishu.cn/wiki/E5GfweCUzis5lJkRwcrcR2ABn2d#share-JwbddN68NohdeYx7qugcMivqnUb","name":"share_link","required":true,"type":"string"},{"description":"申请apikey的地址：https://api.shuidi.tech/token","name":"api_key","required":true,"type":"string"},{"description":"飞书多维表格地址，权限为可编辑，互联网可见，否则无法运行","name":"app_token","required":true,"type":"string"},{"defaultValue":false,"description":"是否开启文案矫正（非必要别开启，花钱多）；True开启，Flase关闭","name":"is_text_corr_on","required":true,"type":"boolean"}],"trigger_parameters":[]},"edges":null,"id":"100001","meta":{"position":{"x":-5273.67592909847,"y":641.8994928293067}},"type":"1"},{"blocks":[],"data":{"inputs":{"content":{"type":"string","value":{"content":"## 打开链接查看结果\n\n[{{output}}]({{output}})","type":"literal"}},"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"111445","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"output"}],"streamingOutput":false,"terminatePlan":"useAnswerContent"},"nodeMeta":{"description":"工作流的最终节点，用于返回工作流运行后的结果信息","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-End-v2.jpg","subTitle":"","title":"结束"}},"edges":null,"id":"900001","meta":{"position":{"x":6774.885299190484,"y":749.8586307549195}},"type":"2"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7395047759797321755","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"create_table","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7395047759797272603","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"飞书多维表格","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"},{"input":{"type":"integer","value":{"content":0,"type":"literal"}},"name":"pluginAuthMode"}],"inputDefs":[{"description":"多维表格的唯一标识符，支持输入文档 url。","input":{},"name":"app_token","required":true,"type":"string"},{"description":"默认表格视图的名称，不填则默认为表格。","input":{},"name":"default_view_name","required":false,"type":"string"},{"description":"数据表的初始字段列表，1. 如果 default_view_name 字段和 fields 字段都不填写，将会创建一个仅包含索引列的空数据表。2. 如果指定了 fields 字段，将会创建一个包含初始字段的数据表且默认第一个字段为索引列。","input":{},"name":"fields","required":false,"schema":{"schema":[{"description":"字段类型，可选值包括1：多行文本、2：数字、3：单选、4：多选、5：日期、7：复选框、11：人员、13：电话号码、15：超链接、17：附件、18：单向关联、20：公式、21：双向关联、22：地理位置、23：群组、1001：创建时间、1002：最后更新时间、1003：创建人、1004：修改人、1005：自动编号","input":{},"name":"type","required":false,"type":"integer"},{"description":"字段名","input":{},"name":"field_name","required":false,"type":"string"}],"type":"object"},"type":"list"},{"description":"数据表名称","input":{},"name":"name","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"app_token","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"app_token"},{"input":{"type":"string","value":{"content":{"blockID":"152653","name":"table_name","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"name"},{"input":{"schema":{"schema":[{"name":"field_name","type":"string"},{"name":"type","type":"float"}],"type":"object"},"type":"list","value":{"content":{"blockID":"152653","name":"fields","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"fields"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"创建多维表格数据表","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/271da70954ec4c0ebfdb4635ac72c8e4~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745153609&x-signature=ERdnP6V8YLX97x80p1ebFEOovoI%3D","subtitle":"飞书多维表格:create_table","title":"create_table"},"outputs":[{"description":"错误码，非 0 表示失败。","name":"code","required":false,"type":"float"},{"description":"返回结果","name":"data","required":false,"schema":[{"description":"默认表格视图的 id，该字段仅在请求参数中填写了default_view_name 或 fields 才会返回。","name":"default_view_id","required":false,"type":"string"},{"description":"数据表初始字段的 id 列表，该字段仅在请求参数中填写了 fields 才会返回。例如： [\"fldUsUrIbN\"]","name":"field_id_list","required":false,"schema":{"type":"string"},"type":"list"},{"description":"多维表格数据表的唯一标识符","name":"table_id","required":false,"type":"string"}],"type":"object"},{"description":"链路追踪 id","name":"log_id","required":false,"type":"string"},{"description":"错误描述","name":"msg","required":false,"type":"string"}]},"edges":null,"id":"160311","meta":{"position":{"x":-3782.59545302676,"y":593.3091669439306}},"type":"4"},{"blocks":[],"data":{"inputs":{"code":"/**\n * @author wx: shuidi_tech\n */\n// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n    return {\n        table_name: `W0014-${params.dateTime}`,\n        fields: [\n            {\n                field_name: '链接',\n                type: 1\n            },\n            {\n                field_name: '标题',\n                type: 1\n            },\n            {\n                field_name: '封面',\n                type: 1\n            },\n            {\n                field_name: '视频文案',\n                type: 1\n            }\n        ],\n    }\n}","inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"158963","name":"dateTime","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"dateTime"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"转为多维表格所需格式"},"outputs":[{"name":"fields","required":false,"schema":{"schema":[{"name":"field_name","type":"string"},{"name":"type","type":"float"}],"type":"object"},"type":"list"},{"name":"table_name","required":false,"type":"string"}]},"edges":null,"id":"152653","meta":{"position":{"x":-4242.59545302676,"y":593.3091669439306}},"type":"5"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7484140117972631586","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"datetime","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7484140117972615202","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"日期时间","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"如果你想指定日期和时间，请填入当前日期和时间，否则就是当前的日期时间","input":{},"name":"datetime","required":false,"type":"string"}],"inputParameters":[],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"获取各种格式的日期和时间","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/10ff1be4f2d94bb0a97c0a002b84d10e~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745155726&x-signature=nDls0ezWNuK0YS%2B6gITIAe8%2BwhQ%3D","subtitle":"日期时间:datetime","title":"datetime"},"outputs":[{"description":"时间戳","name":"timestamp","required":true,"type":"integer"},{"description":"年","name":"year","required":true,"type":"float"},{"description":"日","name":"date","required":true,"type":"float"},{"description":"标准时间格式","name":"dateTime","required":true,"type":"string"},{"description":"毫秒","name":"millisecond","required":true,"type":"float"},{"description":"分","name":"minute","required":true,"type":"float"},{"description":"提示","name":"prompt","required":true,"type":"string"},{"description":"秒","name":"second","required":true,"type":"float"},{"description":"仅时间","name":"timeOnly","required":true,"type":"string"},{"description":"仅日期","name":"dateOnly","required":true,"type":"string"},{"description":"文件名友好格式","name":"filenameFriendly","required":true,"type":"string"},{"description":"时","name":"hour","required":true,"type":"float"},{"description":"月","name":"month","required":true,"type":"float"}]},"edges":null,"id":"158963","meta":{"position":{"x":-4702.59545302676,"y":593.3091669439306}},"type":"4"},{"blocks":[{"blocks":[],"data":{"inputs":{"branches":[{"condition":{"conditions":[{"left":{"input":{"type":"integer","value":{"content":{"blockID":"126674","name":"code","source":"block-output"},"type":"ref"}}},"operator":1,"right":{"input":{"type":"integer","value":{"content":0,"rawMeta":{"type":2},"type":"literal"}}}}],"logic":2}}]},"nodeMeta":{"description":"连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg","mainColor":"#00B2B2","subTitle":"选择器","title":"选择器"}},"edges":null,"id":"115986","meta":{"position":{"x":640,"y":514}},"type":"8"},{"blocks":[],"data":{"inputs":{"mergeGroups":[{"name":"title","variables":[{"type":"string","value":{"content":{"blockID":"170020","name":"input.desc","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]},{"name":"cover","variables":[{"type":"string","value":{"content":{"blockID":"126674","name":"data.cover","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},{"type":"string","value":{"content":{"blockID":"101086","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]},{"name":"content","variables":[{"type":"string","value":{"content":{"blockID":"101086","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},{"type":"string","value":{"content":{"blockID":"139643","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},{"type":"string","value":{"content":{"blockID":"147183","name":"content","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]}]},"nodeMeta":{"description":"对多个分支的输出进行聚合处理","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/VariableMerge-icon.jpg","mainColor":"#00B2B2","subTitle":"变量聚合","title":"变量聚合"},"outputs":[{"name":"title","type":"string"},{"name":"cover","type":"string"},{"name":"content","type":"string"}]},"edges":null,"id":"163171","meta":{"position":{"x":3860,"y":436}},"type":"32"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7493172141890928691","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"parse_video","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7493172141890912307","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"抖音视频解析","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"api_key","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"api_key"},{"input":{"type":"string","value":{"content":{"blockID":"170020","name":"input.aweme_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"share_link"}],"settingOnError":{"dataOnErr":"{\n    \"code\": -1,\n    \"data\": null,\n    \"message\": \"\",\n    \"prompt\": \"客服微信: shuidi_tech\"\n}","processType":2,"retryTimes":0,"switch":true,"timeoutMs":180000}},"nodeMeta":{"description":"抖音视频解析","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/394b1fca8dde40c5a9b8d02f28d361c3~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1747285967&x-signature=3V3nkeCySBnfLkihd38IL9O3j2o%3D","subtitle":"抖音视频解析:parse_video","title":"parse_video"},"outputs":[{"description":"状态码；0成功","name":"code","required":true,"type":"integer"},{"name":"data","required":false,"schema":[{"description":"视频资源地址","name":"video","required":true,"type":"string"},{"description":"封面","name":"cover","required":true,"type":"string"},{"description":"标题","name":"title","required":true,"type":"string"}],"type":"object"},{"description":"执行信息","name":"message","required":true,"type":"string"},{"description":"提示","name":"prompt","required":true,"type":"string"},{"name":"errorBody","readonly":true,"schema":[{"name":"errorMessage","readonly":true,"type":"string"},{"name":"errorCode","readonly":true,"type":"string"}],"type":"object"},{"name":"isSuccess","readonly":true,"type":"boolean"}]},"edges":null,"id":"126674","meta":{"position":{"x":180,"y":515}},"type":"4"},{"blocks":[],"data":{"inputs":{"mergeGroups":[{"name":"code","variables":[{"type":"integer","value":{"content":{"blockID":"126674","name":"code","source":"block-output"},"rawMeta":{"type":2},"type":"ref"}}]},{"name":"error_code","variables":[{"type":"string","value":{"content":{"blockID":"126674","name":"errorBody.errorCode","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]},{"name":"error_message","variables":[{"type":"string","value":{"content":{"blockID":"126674","name":"errorBody.errorMessage","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},{"type":"string","value":{"content":{"blockID":"126674","name":"message","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]}]},"nodeMeta":{"description":"对多个分支的输出进行聚合处理","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/VariableMerge-icon.jpg","mainColor":"#00B2B2","subTitle":"变量聚合","title":"变量聚合_1"},"outputs":[{"name":"code","type":"integer"},{"name":"error_code","type":"string"},{"name":"error_message","type":"string"}]},"edges":null,"id":"117574","meta":{"position":{"x":2940,"y":709}},"type":"32"},{"blocks":[],"data":{"inputs":{"concatParams":[{"input":{"type":"string","value":{"content":"视频解析失败，错误信息：[{{String1}}{{String2}}] {{String3}}\n\n请联系客服微信: shuidi_tech","rawMeta":{"type":1},"type":"literal"}},"name":"concatResult"},{"input":{"type":"string","value":{"content":"，","rawMeta":{"type":1},"type":"literal"}},"name":"arrayItemConcatChar"},{"input":{"schema":{"schema":[{"name":"label","required":true,"type":"string"},{"name":"value","required":true,"type":"string"},{"name":"isDefault","required":true,"type":"boolean"}],"type":"object"},"type":"list","value":{"content":[{"isDefault":true,"label":"换行","value":"\n"},{"isDefault":true,"label":"制表符","value":"\t"},{"isDefault":true,"label":"句号","value":"。"},{"isDefault":true,"label":"逗号","value":"，"},{"isDefault":true,"label":"分号","value":"；"},{"isDefault":true,"label":"空格","value":" "}],"type":"literal"}},"name":"allArrayItemConcatChars"}],"inputParameters":[{"input":{"type":"integer","value":{"content":{"blockID":"117574","name":"code","source":"block-output"},"rawMeta":{"type":2},"type":"ref"}},"name":"String1"},{"input":{"type":"string","value":{"content":{"blockID":"117574","name":"error_code","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"String2"},{"input":{"type":"string","value":{"content":{"blockID":"117574","name":"error_message","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"String3"}],"method":"concat"},"nodeMeta":{"description":"用于处理多个字符串类型变量的格式","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","mainColor":"#3071F2","subTitle":"文本处理","title":"文本处理_1"},"outputs":[{"name":"output","required":true,"type":"string"}]},"edges":null,"id":"101086","meta":{"position":{"x":3400,"y":770}},"type":"15"},{"blocks":[],"data":{"inputs":{"code":"/**\n * @author wx: shuidi_tech\n */\n// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input;\n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n    return {\n        records: [\n            {\n                fields: JSON.stringify({\n                    链接: params.link,\n                    标题: params.title,\n                    封面: params.cover,\n                    视频文案: params.content,\n                }),\n            },\n        ],\n    };\n}\n","inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"125531","name":"data","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"link"},{"input":{"type":"string","value":{"content":{"blockID":"163171","name":"title","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"title"},{"input":{"type":"string","value":{"content":{"blockID":"163171","name":"cover","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"cover"},{"input":{"type":"string","value":{"content":{"blockID":"163171","name":"content","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"content"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"转为多维表格所需格式_1"},"outputs":[{"name":"records","required":false,"schema":{"schema":[{"name":"fields","type":"string"}],"type":"object"},"type":"list"}]},"edges":null,"id":"289556","meta":{"position":{"x":4320,"y":497}},"type":"5"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7395047759797288987","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_records","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7395047759797272603","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"飞书多维表格","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"},{"input":{"type":"integer","value":{"content":0,"type":"literal"}},"name":"pluginAuthMode"}],"inputDefs":[{"description":"多维表格数据表的名称","input":{},"name":"table_name","required":false,"type":"string"},{"defaultValue":"open_id","description":"用户 ID 类型，可选值有 open_id、union_id、user_id，默认值为 open_id。, default value is open_id","input":{},"name":"user_id_type","required":false,"type":"string"},{"description":"多维表格的唯一标识符，支持输入文档 url。","input":{},"name":"app_token","required":true,"type":"string"},{"description":"多维表格数据表的唯一标识符","input":{},"name":"table_id","required":false,"type":"string"},{"description":"本次请求将要新增的记录列表，格式为：[{\"fields\":{\"文本\":\"文本内容\",\"单选\":\"选项 1\",\"日期\":1674206443000}}]","input":{},"name":"records","required":true,"schema":{"schema":[{"description":"数据表的字段，即数据表的列，格式为 json 字符串。例如：{\"文本\":\"文本内容\",\"单选\":\"选项 1\",\"日期\":1674206443000}","input":{},"name":"fields","required":true,"type":"string"}],"type":"object"},"type":"list"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"app_token","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"app_token"},{"input":{"schema":{"schema":[{"name":"fields","type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"289556","name":"records","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"records"},{"input":{"type":"string","value":{"content":{"blockID":"160311","name":"data.table_id","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"table_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"在多维表格数据表中新增多条记录，单次调用最多新增 500 条记录。","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/271da70954ec4c0ebfdb4635ac72c8e4~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1745153701&x-signature=hzrchor6eBL562ZAKhiPFy3JZV8%3D","subtitle":"飞书多维表格:add_records","title":"add_records"},"outputs":[{"description":"错误描述","name":"msg","required":false,"type":"string"},{"description":"错误码，非 0 表示失败。","name":"code","required":false,"type":"float"},{"description":"返回结果","name":"data","required":false,"schema":[{"description":"本次请求新增的记录列表","name":"records","required":false,"schema":{"schema":[{"description":"数据表的字段，即数据表的列，格式为 json 字符串。","name":"fields","required":false,"type":"string"},{"description":"一条记录的唯一标识 id","name":"record_id","required":false,"type":"string"}],"type":"object"},"type":"list"}],"type":"object"},{"description":"链路追踪 id","name":"log_id","required":false,"type":"string"}]},"edges":null,"id":"105492","meta":{"position":{"x":4780,"y":497}},"type":"4"},{"blocks":[],"data":{"inputs":{"branches":[{"condition":{"conditions":[{"left":{"input":{"type":"float","value":{"content":{"blockID":"105492","name":"code","source":"block-output"},"type":"ref"}}},"operator":1,"right":{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}}}}],"logic":2}}]},"nodeMeta":{"description":"连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg","mainColor":"#00B2B2","subTitle":"选择器","title":"选择器_4"}},"edges":null,"id":"755643","meta":{"position":{"x":5240,"y":484}},"type":"8"},{"blocks":[],"data":{"inputs":{"concatParams":[{"input":{"type":"string","value":{"content":"多维表格数据表中添加数据失败 ；；；错误信息：[{{String2}}] {{String1}}；；；请联系客服: shuidi_tech","rawMeta":{"type":1},"type":"literal"}},"name":"concatResult"},{"input":{"type":"string","value":{"content":"，","rawMeta":{"type":1},"type":"literal"}},"name":"arrayItemConcatChar"},{"input":{"schema":{"schema":[{"name":"label","required":true,"type":"string"},{"name":"value","required":true,"type":"string"},{"name":"isDefault","required":true,"type":"boolean"}],"type":"object"},"type":"list","value":{"content":[{"isDefault":true,"label":"换行","value":"\n"},{"isDefault":true,"label":"制表符","value":"\t"},{"isDefault":true,"label":"句号","value":"。"},{"isDefault":true,"label":"逗号","value":"，"},{"isDefault":true,"label":"分号","value":"；"},{"isDefault":true,"label":"空格","value":" "}],"type":"literal"}},"name":"allArrayItemConcatChars"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"105492","name":"msg","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"String1"},{"input":{"type":"float","value":{"content":{"blockID":"105492","name":"code","source":"block-output"},"rawMeta":{"type":4},"type":"ref"}},"name":"String2"}],"method":"concat"},"nodeMeta":{"description":"用于处理多个字符串类型变量的格式","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","mainColor":"#3071F2","subTitle":"文本处理","title":"文本处理_3"},"outputs":[{"name":"output","required":true,"type":"string"}]},"edges":null,"id":"728616","meta":{"position":{"x":5700,"y":497}},"type":"15"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7483526971092516875","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"throwError","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7483526971092500491","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"抛出错误","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"728616","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"error_message"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"抛出错误","icon":"https://p9-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/0f387fdef0b44db3b510d66b1eee1c6c~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1747625377&x-signature=o1QHvOjCcLCg%2F2jY4vA1%2FEv9WJU%3D","subtitle":"抛出错误:throwError","title":"throwError_1"},"outputs":[{"description":"错误信息","name":"error_message","required":true,"type":"string"},{"description":"提示","name":"prompt","required":true,"type":"string"}]},"edges":null,"id":"178163","meta":{"position":{"x":6160,"y":497}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7492817685936455720","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"voice_to_text","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7492817685936439336","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频语音转文案","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"api_key","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"api_key"},{"input":{"type":"string","value":{"content":{"blockID":"126674","name":"data.video","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"file_url"}],"settingOnError":{"dataOnErr":"{}","processType":2,"retryTimes":0,"switch":true,"timeoutMs":180000}},"nodeMeta":{"description":"视频、语音转文字","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/c11b36c3fcfd41f2877bcdd8ebaba689~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1747286066&x-signature=OU1RqjhqKBIDDyJpPbiRgRFE8jE%3D","subtitle":"视频语音转文案:voice_to_text","title":"voice_to_text"},"outputs":[{"description":"data","name":"data","required":true,"type":"string"},{"description":"error_message","name":"error_message","required":true,"type":"string"},{"name":"errorBody","readonly":true,"schema":[{"name":"errorMessage","readonly":true,"type":"string"},{"name":"errorCode","readonly":true,"type":"string"}],"type":"object"},{"name":"isSuccess","readonly":true,"type":"boolean"}]},"edges":null,"id":"109631","meta":{"position":{"x":1100,"y":284}},"type":"4"},{"blocks":[],"data":{"inputs":{"branches":[{"condition":{"conditions":[{"left":{"input":{"type":"string","value":{"content":{"blockID":"109631","name":"data","source":"block-output"},"type":"ref"}}},"operator":10},{"left":{"input":{"type":"boolean","value":{"content":{"blockID":"100001","name":"is_text_corr_on","source":"block-output"},"type":"ref"}}},"operator":11}],"logic":2}},{"condition":{"conditions":[{"left":{"input":{"type":"string","value":{"content":{"blockID":"109631","name":"data","source":"block-output"},"type":"ref"}}},"operator":10}],"logic":2}}]},"nodeMeta":{"description":"连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg","mainColor":"#00B2B2","subTitle":"选择器","title":"选择器_1"}},"edges":null,"id":"149417","meta":{"position":{"x":1560,"y":227}},"type":"8"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7494153937088725027","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"content_check","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7494153937088708643","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"文案校对","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"api_key","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"api_key"},{"input":{"type":"string","value":{"content":{"blockID":"109631","name":"data","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"user_prompt"}],"settingOnError":{"dataOnErr":"{\n    \"output\": \"\"\n}","processType":1,"retryTimes":0,"switch":false,"timeoutMs":180000}},"nodeMeta":{"description":"POST /stream","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/c5e787250fa745a5b26e76a8a132c4dd~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1747497499&x-signature=dFersHiBhZg%2Fujvjwo1v03a%2FWY4%3D","subtitle":"文案校对:content_check","title":"content_check"},"outputs":[{"name":"output","required":false,"type":"string"}]},"edges":null,"id":"174554","meta":{"position":{"x":2020,"y":13}},"type":"4"},{"blocks":[],"data":{"inputs":{"mergeGroups":[{"name":"error_message","variables":[{"type":"string","value":{"content":{"blockID":"109631","name":"error_message","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},{"type":"string","value":{"content":{"blockID":"109631","name":"errorBody.errorMessage","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]},{"name":"error_code","variables":[{"type":"string","value":{"content":{"blockID":"109631","name":"errorBody.errorCode","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]}]},"nodeMeta":{"description":"对多个分支的输出进行聚合处理","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/VariableMerge-icon.jpg","mainColor":"#00B2B2","subTitle":"变量聚合","title":"变量聚合_2"},"outputs":[{"name":"error_message","type":"string"},{"name":"error_code","type":"string"}]},"edges":null,"id":"157423","meta":{"position":{"x":2480,"y":466}},"type":"32"},{"blocks":[],"data":{"inputs":{"code":"// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n    return {\n        output: `${params.error_code ? `[${params.error_code}] ` : ''}${params.error_message}`\n    };\n}","inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"157423","name":"error_code","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"error_code"},{"input":{"type":"string","value":{"content":{"blockID":"157423","name":"error_message","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"error_message"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"代码_1"},"outputs":[{"name":"output","required":false,"type":"string"}]},"edges":null,"id":"109623","meta":{"position":{"x":2940,"y":497}},"type":"5"},{"blocks":[],"data":{"inputs":{"branches":[{"condition":{"conditions":[{"left":{"input":{"type":"string","value":{"content":{"blockID":"174554","name":"output","source":"block-output"},"type":"ref"}}},"operator":10}],"logic":2}}]},"nodeMeta":{"description":"连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg","mainColor":"#00B2B2","subTitle":"选择器","title":"选择器_5"}},"edges":null,"id":"111877","meta":{"position":{"x":2480,"y":0}},"type":"8"},{"blocks":[],"data":{"inputs":{"concatParams":[{"input":{"type":"string","value":{"content":"文案矫正失败，请联系客服微信: shuidi_tech","rawMeta":{"type":1},"type":"literal"}},"name":"concatResult"},{"input":{"type":"string","value":{"content":"，","rawMeta":{"type":1},"type":"literal"}},"name":"arrayItemConcatChar"},{"input":{"schema":{"schema":[{"name":"label","required":true,"type":"string"},{"name":"value","required":true,"type":"string"},{"name":"isDefault","required":true,"type":"boolean"}],"type":"object"},"type":"list","value":{"content":[{"isDefault":true,"label":"换行","value":"\n"},{"isDefault":true,"label":"制表符","value":"\t"},{"isDefault":true,"label":"句号","value":"。"},{"isDefault":true,"label":"逗号","value":"，"},{"isDefault":true,"label":"分号","value":"；"},{"isDefault":true,"label":"空格","value":" "}],"type":"literal"}},"name":"allArrayItemConcatChars"}],"inputParameters":[],"method":"concat"},"nodeMeta":{"description":"用于处理多个字符串类型变量的格式","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","mainColor":"#3071F2","subTitle":"文本处理","title":"文本处理_4"},"outputs":[{"name":"output","required":true,"type":"string"}]},"edges":null,"id":"179466","meta":{"position":{"x":2940,"y":71}},"type":"15"},{"blocks":[],"data":{"inputs":{"concatParams":[{"input":{"type":"string","value":{"content":"文案提取失败，错误信息：{{String1}}\n\n请联系客服微信: shuidi_tech","rawMeta":{"type":1},"type":"literal"}},"name":"concatResult"},{"input":{"type":"string","value":{"content":"，","rawMeta":{"type":1},"type":"literal"}},"name":"arrayItemConcatChar"},{"input":{"schema":{"schema":[{"name":"label","required":true,"type":"string"},{"name":"value","required":true,"type":"string"},{"name":"isDefault","required":true,"type":"boolean"}],"type":"object"},"type":"list","value":{"content":[{"isDefault":true,"label":"换行","value":"\n"},{"isDefault":true,"label":"制表符","value":"\t"},{"isDefault":true,"label":"句号","value":"。"},{"isDefault":true,"label":"逗号","value":"，"},{"isDefault":true,"label":"分号","value":"；"},{"isDefault":true,"label":"空格","value":" "}],"type":"literal"}},"name":"allArrayItemConcatChars"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"109623","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"String1"}],"method":"concat"},"nodeMeta":{"description":"用于处理多个字符串类型变量的格式","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","mainColor":"#3071F2","subTitle":"文本处理","title":"文本处理"},"outputs":[{"name":"output","required":true,"type":"string"}]},"edges":null,"id":"139643","meta":{"position":{"x":3400,"y":497}},"type":"15"},{"blocks":[],"data":{"inputs":{"mergeGroups":[{"name":"content","variables":[{"type":"string","value":{"content":{"blockID":"109631","name":"data","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]}]},"nodeMeta":{"description":"对多个分支的输出进行聚合处理","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/VariableMerge-icon.jpg","mainColor":"#00B2B2","subTitle":"变量聚合","title":"变量聚合_4"},"outputs":[{"name":"content","type":"string"}]},"edges":null,"id":"133513","meta":{"position":{"x":2940,"y":283}},"type":"32"},{"blocks":[],"data":{"inputs":{"mergeGroups":[{"name":"content","variables":[{"type":"string","value":{"content":{"blockID":"133513","name":"content","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},{"type":"string","value":{"content":{"blockID":"179466","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},{"type":"string","value":{"content":{"blockID":"174554","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]}]},"nodeMeta":{"description":"对多个分支的输出进行聚合处理","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/VariableMerge-icon.jpg","mainColor":"#00B2B2","subTitle":"变量聚合","title":"变量聚合_5"},"outputs":[{"name":"content","type":"string"}]},"edges":null,"id":"147183","meta":{"position":{"x":3400,"y":70}},"type":"32"}],"data":{"inputs":{"batchSize":{"type":"integer","value":{"content":"100","type":"literal"}},"concurrentSize":{"type":"integer","value":{"content":1,"rawMeta":{"type":2},"type":"literal"}},"inputParameters":[{"input":{"schema":{"schema":[{"description":"点赞数","name":"digg_count","required":true,"type":"integer"},{"description":"作品地址","name":"aweme_url","required":true,"type":"string"},{"description":"收藏数","name":"collect_count","required":true,"type":"integer"},{"description":"评论数","name":"comment_count","required":true,"type":"integer"},{"description":"发布时间","name":"create_time","required":true,"type":"integer"},{"description":"视频描述","name":"desc","required":true,"type":"string"},{"description":"视频时长（单位：秒）","name":"duration","required":true,"type":"integer"},{"description":"分享数","name":"share_count","required":true,"type":"integer"},{"description":"视频资源地址","name":"video","required":true,"type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"123510","name":"data.aweme_list","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"input"}]},"nodeMeta":{"description":"通过设定批量运行次数和逻辑，运行批处理体内的任务","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Batch-v2.jpg","mainColor":"#00B2B2","subTitle":"批处理","title":"批处理"},"outputs":[]},"edges":[{"sourceNodeID":"126674","sourcePortID":"","targetNodeID":"115986"},{"sourceNodeID":"115986","sourcePortID":"false","targetNodeID":"117574"},{"sourceNodeID":"115986","sourcePortID":"true","targetNodeID":"109631"},{"sourceNodeID":"101086","sourcePortID":"","targetNodeID":"163171"},{"sourceNodeID":"139643","sourcePortID":"","targetNodeID":"163171"},{"sourceNodeID":"147183","sourcePortID":"","targetNodeID":"163171"},{"sourceNodeID":"163171","sourcePortID":"","targetNodeID":"289556"},{"sourceNodeID":"170020","sourcePortID":"batch-function-inline-output","targetNodeID":"126674"},{"sourceNodeID":"117574","sourcePortID":"","targetNodeID":"101086"},{"sourceNodeID":"289556","sourcePortID":"","targetNodeID":"105492"},{"sourceNodeID":"105492","sourcePortID":"","targetNodeID":"755643"},{"sourceNodeID":"755643","sourcePortID":"false","targetNodeID":"728616"},{"sourceNodeID":"755643","sourcePortID":"true","targetNodeID":"170020","targetPortID":"batch-function-inline-input"},{"sourceNodeID":"728616","sourcePortID":"","targetNodeID":"178163"},{"sourceNodeID":"178163","sourcePortID":"","targetNodeID":"170020","targetPortID":"batch-function-inline-input"},{"sourceNodeID":"109631","sourcePortID":"","targetNodeID":"149417"},{"sourceNodeID":"149417","sourcePortID":"false","targetNodeID":"157423"},{"sourceNodeID":"149417","sourcePortID":"true","targetNodeID":"174554"},{"sourceNodeID":"149417","sourcePortID":"true_1","targetNodeID":"133513"},{"sourceNodeID":"174554","sourcePortID":"","targetNodeID":"111877"},{"sourceNodeID":"157423","sourcePortID":"","targetNodeID":"109623"},{"sourceNodeID":"109623","sourcePortID":"","targetNodeID":"139643"},{"sourceNodeID":"111877","sourcePortID":"false","targetNodeID":"179466"},{"sourceNodeID":"111877","sourcePortID":"true","targetNodeID":"147183"},{"sourceNodeID":"179466","sourcePortID":"","targetNodeID":"147183"},{"sourceNodeID":"133513","sourcePortID":"","targetNodeID":"147183"}],"id":"170020","meta":{"canvasPosition":{"x":-759.1396771803594,"y":1050.3492938290365},"position":{"x":2067.40454697324,"y":757.3091669439306}},"type":"28"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7483526971092516875","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"throwError","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7483526971092500491","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"抛出错误","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"116007","name":"error_message","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"error_message"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"抛出错误","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/d059b0cf678d495f90201cf6f030256c~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1747288475&x-signature=BlrQbwLbZAiD4Qm%2BrZXjtUpDgH4%3D","subtitle":"抛出错误:throwError","title":"throwError"},"outputs":[{"description":"错误信息","name":"error_message","required":true,"type":"string"},{"description":"提示","name":"prompt","required":true,"type":"string"}]},"edges":null,"id":"186296","meta":{"position":{"x":5617.40454697324,"y":486.80916694393056}},"type":"4"},{"blocks":[],"data":{"inputs":{"branches":[{"condition":{"conditions":[{"left":{"input":{"type":"float","value":{"content":{"blockID":"160311","name":"code","source":"block-output"},"type":"ref"}}},"operator":1,"right":{"input":{"type":"float","value":{"content":0,"rawMeta":{"type":4},"type":"literal"}}}}],"logic":2}}]},"nodeMeta":{"description":"连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg","mainColor":"#00B2B2","subTitle":"选择器","title":"选择器_3"}},"edges":null,"id":"198633","meta":{"position":{"x":-3322.59545302676,"y":580.3091669439306}},"type":"8"},{"blocks":[],"data":{"inputs":{"concatParams":[{"input":{"type":"string","value":{"content":"多维表格创建数据表失败 ；；；错误信息：[{{String2}}] {{String1}}；；；请联系客服: shuidi_tech","rawMeta":{"type":1},"type":"literal"}},"name":"concatResult"},{"input":{"type":"string","value":{"content":"，","rawMeta":{"type":1},"type":"literal"}},"name":"arrayItemConcatChar"},{"input":{"schema":{"schema":[{"name":"label","required":true,"type":"string"},{"name":"value","required":true,"type":"string"},{"name":"isDefault","required":true,"type":"boolean"}],"type":"object"},"type":"list","value":{"content":[{"isDefault":true,"label":"换行","value":"\n"},{"isDefault":true,"label":"制表符","value":"\t"},{"isDefault":true,"label":"句号","value":"。"},{"isDefault":true,"label":"逗号","value":"，"},{"isDefault":true,"label":"分号","value":"；"},{"isDefault":true,"label":"空格","value":" "}],"type":"literal"}},"name":"allArrayItemConcatChars"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"160311","name":"msg","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"String1"},{"input":{"type":"float","value":{"content":{"blockID":"160311","name":"code","source":"block-output"},"rawMeta":{"type":4},"type":"ref"}},"name":"String2"}],"method":"concat"},"nodeMeta":{"description":"用于处理多个字符串类型变量的格式","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","mainColor":"#3071F2","subTitle":"文本处理","title":"文本处理_2"},"outputs":[{"name":"output","required":true,"type":"string"}]},"edges":null,"id":"617035","meta":{"position":{"x":-1482.5954530267602,"y":380.80916694393056}},"type":"15"},{"blocks":[],"data":{"inputs":{"branches":[{"condition":{"conditions":[{"left":{"input":{"type":"integer","value":{"content":{"blockID":"123510","name":"code","source":"block-output"},"type":"ref"}}},"operator":1,"right":{"input":{"type":"integer","value":{"content":0,"rawMeta":{"type":2},"type":"literal"}}}}],"logic":2}}]},"nodeMeta":{"description":"连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg","mainColor":"#00B2B2","subTitle":"选择器","title":"选择器_2"}},"edges":null,"id":"141262","meta":{"position":{"x":-1942.5954530267602,"y":686.3091669439306}},"type":"8"},{"blocks":[],"data":{"inputs":{"concatParams":[{"input":{"type":"string","value":{"content":"主页解析失败；；；错误信息：[{{String1}}] {{String2}}；；；请联系客服: shuidi_tech","rawMeta":{"type":1},"type":"literal"}},"name":"concatResult"},{"input":{"type":"string","value":{"content":"，","rawMeta":{"type":1},"type":"literal"}},"name":"arrayItemConcatChar"},{"input":{"schema":{"schema":[{"name":"label","required":true,"type":"string"},{"name":"value","required":true,"type":"string"},{"name":"isDefault","required":true,"type":"boolean"}],"type":"object"},"type":"list","value":{"content":[{"isDefault":true,"label":"换行","value":"\n"},{"isDefault":true,"label":"制表符","value":"\t"},{"isDefault":true,"label":"句号","value":"。"},{"isDefault":true,"label":"逗号","value":"，"},{"isDefault":true,"label":"分号","value":"；"},{"isDefault":true,"label":"空格","value":" "}],"type":"literal"}},"name":"allArrayItemConcatChars"}],"inputParameters":[{"input":{"type":"integer","value":{"content":{"blockID":"123510","name":"code","source":"block-output"},"rawMeta":{"type":2},"type":"ref"}},"name":"String1"},{"input":{"type":"string","value":{"content":{"blockID":"123510","name":"message","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"String2"}],"method":"concat"},"nodeMeta":{"description":"用于处理多个字符串类型变量的格式","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","mainColor":"#3071F2","subTitle":"文本处理","title":"文本处理_5"},"outputs":[{"name":"output","required":true,"type":"string"}]},"edges":null,"id":"363181","meta":{"position":{"x":-1482.5954530267602,"y":592.8091669439306}},"type":"15"},{"blocks":[],"data":{"inputs":{"mergeGroups":[{"name":"error_message","variables":[{"type":"string","value":{"content":{"blockID":"363181","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},{"type":"string","value":{"content":{"blockID":"617035","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}}]}]},"nodeMeta":{"description":"对多个分支的输出进行聚合处理","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/VariableMerge-icon.jpg","mainColor":"#00B2B2","subTitle":"变量聚合","title":"变量聚合_3"},"outputs":[{"name":"error_message","type":"string"}]},"edges":null,"id":"116007","meta":{"position":{"x":2067.40454697324,"y":485.80916694393056}},"type":"32"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7508622215953252403","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"dy_get_user_aweme_list","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7508622207212634138","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"获取博主作品列表","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"api_key","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"api_key"},{"input":{"type":"string","value":{"content":{"blockID":"125531","name":"data","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"share_link"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"获取抖音博主作品列表","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/64517302dd1d4b8fa075627601908f94~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1750866826&x-signature=8iBv66Qh3j8aFadUXQ1vsJCAUts%3D","subtitle":"获取博主作品列表:dy_get_user_aweme_list","title":"dy_get_user_aweme_list"},"outputs":[{"name":"data","required":false,"schema":[{"name":"aweme_list","required":true,"schema":{"schema":[{"description":"点赞数","name":"digg_count","required":true,"type":"integer"},{"description":"作品地址","name":"aweme_url","required":true,"type":"string"},{"description":"收藏数","name":"collect_count","required":true,"type":"integer"},{"description":"评论数","name":"comment_count","required":true,"type":"integer"},{"description":"发布时间","name":"create_time","required":true,"type":"integer"},{"description":"视频描述","name":"desc","required":true,"type":"string"},{"description":"视频时长（单位：秒）","name":"duration","required":true,"type":"integer"},{"description":"分享数","name":"share_count","required":true,"type":"integer"},{"description":"视频资源地址","name":"video","required":true,"type":"string"}],"type":"object"},"type":"list"}],"type":"object"},{"description":"执行信息","name":"message","required":true,"type":"string"},{"description":"提示信息","name":"prompt","required":true,"type":"string"},{"description":"状态码；code == 0成功，其它失败","name":"code","required":true,"type":"integer"}]},"edges":null,"id":"123510","meta":{"position":{"x":-2402.59545302676,"y":699.3091669439306}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7498756172946882599","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"extractFirstLink","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7498756172946849831","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"提取文本中链接","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"share_link","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"text"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"提取文本中第一个链接","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"提取文本中链接:extractFirstLink","title":"extractFirstLink"},"outputs":[{"name":"code","required":true,"type":"integer"},{"name":"data","required":false,"type":"string"},{"name":"message","required":true,"type":"string"},{"name":"prompt","required":true,"type":"string"}]},"edges":null,"id":"125531","meta":{"position":{"x":-2862.59545302676,"y":699.3091669439306}},"type":"4"},{"blocks":[],"data":{"inputs":{"code":"/**\n * @author wx: shuidi_tech\n */\n// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n    return {\n        output: `${params.app_token.split('?')[0]}?table=${params.table_id}`\n    };\n}","inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"app_token","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"app_token"},{"input":{"type":"string","value":{"content":{"blockID":"160311","name":"data.table_id","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"table_id"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"代码_2"},"outputs":[{"name":"output","required":false,"type":"string"}]},"edges":null,"id":"111445","meta":{"position":{"x":5617.40454697324,"y":757.3091669439306}},"type":"5"},{"blocks":[],"data":{"inputs":{"note":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"apikey的地址：\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"https://api.shuidi.tech/token\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"text\",\"text\":\"app_token：飞书多维表格地址，权限为可编辑，互联网可见，否则无法运行\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"示例地址：\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"https://rwmtvdp41tm.feishu.cn/wiki/XC9TwnWisij6yYka4yscBvqFnWg?from=from_copylink\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"\",\"type\":\"text\"}]}]","schemaType":"slate"},"size":{"height":182.4563314805688,"width":396.8722688227492}},"edges":null,"id":"135339","meta":{"position":{"x":-5273.67592909847,"y":374.1775230045864}},"type":"31"},{"blocks":[],"data":{"inputs":{"note":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"# Coze工作流分享\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"## 整理者：[风哥聊AI]\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"微信号：fenggeliaoai\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"## Git仓库：\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"https://github.com/fenggeliaoai/cozeworkflows\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"## 国内版：\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"https://gitee.com/i_am_li_feiyu/cozeworkflows\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"## 更多工作流和自动化技巧，请关注公众号：[Fengge风哥聊AI]\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"\",\"type\":\"text\"}]}]","schemaType":"slate"},"size":{"height":225.60477500664905,"width":452.96524540665354}},"edges":null,"id":"1178047","meta":{"position":{"x":-5245.629440806518,"y":833.4152931962986}},"type":"31"}],"versions":{"batch":"v2","loop":"v2"}}}