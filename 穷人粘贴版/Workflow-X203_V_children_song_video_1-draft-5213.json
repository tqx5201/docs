{"type":"coze-workflow-clipboard-data","source":{"workflowId":"7531677010373951522","spaceId":"","host":"www.coze.cn","isDouyin":false,"flowMode":0},"json":{"edges":[{"sourceNodeID":"189128","sourcePortID":"","targetNodeID":"138891"},{"sourceNodeID":"138891","sourcePortID":"","targetNodeID":"128633"},{"sourceNodeID":"128633","sourcePortID":"","targetNodeID":"162311"},{"sourceNodeID":"162311","sourcePortID":"loop-output","targetNodeID":"181891"},{"sourceNodeID":"181891","sourcePortID":"loop-output","targetNodeID":"162121"},{"sourceNodeID":"162121","sourcePortID":"loop-output","targetNodeID":"160165"},{"sourceNodeID":"160165","sourcePortID":"","targetNodeID":"147819"},{"sourceNodeID":"147819","sourcePortID":"","targetNodeID":"170883"},{"sourceNodeID":"170883","sourcePortID":"","targetNodeID":"188540"},{"sourceNodeID":"188540","sourcePortID":"","targetNodeID":"173138"},{"sourceNodeID":"199695","sourcePortID":"","targetNodeID":"154601"},{"sourceNodeID":"154601","sourcePortID":"","targetNodeID":"128280"},{"sourceNodeID":"173138","sourcePortID":"","targetNodeID":"199695"}],"nodes":[{"blocks":[],"data":{"inputs":{"inputParameters":[],"llmParam":[{"input":{"type":"float","value":{"content":"0.8","rawMeta":{"type":4},"type":"literal"}},"name":"temperature"},{"input":{"type":"integer","value":{"content":"1024","rawMeta":{"type":2},"type":"literal"}},"name":"maxTokens"},{"input":{"type":"integer","value":{"content":"2","rawMeta":{"type":2},"type":"literal"}},"name":"responseFormat"},{"input":{"type":"string","value":{"content":"DeepSeek-V3-0324","rawMeta":{"type":1},"type":"literal"}},"name":"modleName"},{"input":{"type":"integer","value":{"content":"1742989917","rawMeta":{"type":2},"type":"literal"}},"name":"modelType"},{"input":{"type":"string","value":{"content":"balance","rawMeta":{"type":1},"type":"literal"}},"name":"generationDiversity"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"prompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"enableChatHistory"},{"input":{"type":"integer","value":{"content":"3","rawMeta":{"type":2},"type":"literal"}},"name":"chatHistoryRound"},{"input":{"type":"string","value":{"content":"# 角色\n你是一个优秀的歌词编曲家，擅长给启蒙儿歌作词\n\n# 要求\n如果用户输入了主题，则根据用户输入的主题随机生成10个儿歌句子\n\n# 格式限制\n请严格按照下方案例输出的格式\n“中文 中文 英文\n英文 英文 英文”\n为一个动物句子，请严格按照我的要求，不要出现数字等不必要的文案\n\n## 案例输出\n猫 猫 Cat\nCat Cat Cat\n狗 狗 Dog\nDog Dog Dog\n兔子 兔子 Rabbit\nRabbit Rabbit Rabbit\n鸟 鸟 Bird\nBird Bird Bird\n鱼 鱼 Fish\nFish Fish Fish\n","rawMeta":{"type":1},"type":"literal"}},"name":"systemPrompt"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"stableSystemPrompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"canContinue"}],"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":600000}},"nodeMeta":{"description":"调用大语言模型,使用变量和提示词生成回复","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","subTitle":"大模型","title":"生成儿歌文案"},"outputs":[{"name":"output","required":false,"type":"string"}],"version":"3"},"edges":null,"id":"189128","meta":{"position":{"x":-3191.526796125063,"y":526.4738140228828}},"type":"3","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"code":"async function main({ params }: Args): Promise<Output> {\n    let infos = params.infos.split('\\n').filter(info => info.trim() !== '')\n    let ret = []\n    for (let info of  infos){\n        ret.push(info)\n    }\n\n    \n\n    return ret;\n}","inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"189128","name":"output","source":"block-output"},"type":"ref"}},"name":"infos"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"格式化歌词"},"outputs":[{"name":"ret","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"138891","meta":{"position":{"x":-2731.526796125063,"y":552.8738140228827}},"type":"5","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"code":"async function main({ params }: Args): Promise<Output> {\n\n    let words = params.ret\n\n    let evenWords = [];\n    for (let i = 0; i < words.length; i++) {\n        if (i % 2 === 0) {\n            evenWords.push(words[i].split(' ')[0]);\n        }\n    }\n\n\n    const ret = {\n        \"evenWords\": evenWords,\n    };\n\n    return ret;\n}","inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"138891","name":"ret","source":"block-output"},"type":"ref"}},"name":"ret"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"格式化画图文案"},"outputs":[{"name":"evenWords","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"128633","meta":{"position":{"x":-2271.526796125063,"y":552.8738140228827}},"type":"5","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"162311","name":"animal","source":"block-output"},"type":"ref"}},"name":"input"}],"llmParam":[{"input":{"type":"float","value":{"content":"0.8","rawMeta":{"type":4},"type":"literal"}},"name":"temperature"},{"input":{"type":"integer","value":{"content":"4096","rawMeta":{"type":2},"type":"literal"}},"name":"maxTokens"},{"input":{"type":"integer","value":{"content":"2","rawMeta":{"type":2},"type":"literal"}},"name":"responseFormat"},{"input":{"type":"string","value":{"content":"豆包·1.5·Pro·32k","rawMeta":{"type":1},"type":"literal"}},"name":"modleName"},{"input":{"type":"integer","value":{"content":"1737521813","rawMeta":{"type":2},"type":"literal"}},"name":"modelType"},{"input":{"type":"string","value":{"content":"balance","rawMeta":{"type":1},"type":"literal"}},"name":"generationDiversity"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"prompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"enableChatHistory"},{"input":{"type":"integer","value":{"content":"3","rawMeta":{"type":2},"type":"literal"}},"name":"chatHistoryRound"},{"input":{"type":"string","value":{"content":"# 角色\n你是一个优秀的AI绘画描述词生成家，擅长把输入的动物{{input}}生成一份适用于AI绘画的描述词\n\n# 要求\n一个动物只需要生成一份描述词，不要同一个动物生成多份，需要根据动物的习性，自由描述当前动物的行为和背景，此描述词用来绘制启蒙儿歌图片，需要适用于小孩观众的特性，不要出现案例输出文案，输出只针对{{input}}，请严格按照我的要求回答\n\n# 格式要求\n一定要是角色+场景+角色的行为\n\n## 案例输出：\n狗，在院子中中，在快乐的玩耍\n马，在草地上中，快乐的奔跑\n","rawMeta":{"type":1},"type":"literal"}},"name":"systemPrompt"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"stableSystemPrompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"canContinue"}],"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":600000}},"nodeMeta":{"description":"调用大语言模型,使用变量和提示词生成回复","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","subTitle":"大模型","title":"大模型_1"},"outputs":[{"name":"output","required":false,"type":"string"}],"version":"3"},"edges":null,"id":"155625","meta":{"position":{"x":180,"y":0}},"type":"3"}],"data":{"inputs":{"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"128633","name":"evenWords","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"animal"}],"loopCount":{"type":"integer","value":{"content":"10","type":"literal"}},"loopType":"array","variableParameters":[]},"nodeMeta":{"description":"用于通过设定循环次数和逻辑，重复执行一系列任务","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Loop-v2.jpg","mainColor":"#00B2B2","subTitle":"循环","title":"批量生成描述词"},"outputs":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"155625","name":"output","source":"block-output"},"type":"ref"}},"name":"output"}]},"edges":[{"sourceNodeID":"162311","sourcePortID":"loop-function-inline-output","targetNodeID":"155625"},{"sourceNodeID":"155625","sourcePortID":"","targetNodeID":"162311","targetPortID":"loop-function-inline-input"}],"id":"162311","meta":{"canvasPosition":{"x":-1711.526796125063,"y":739.8738140228828},"position":{"x":-1711.526796125063,"y":539.8738140228827}},"type":"21","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"181891","name":"input","source":"block-output"},"type":"ref"}},"name":"prompt"}],"modelSetting":{"custom_ratio":{"height":1024,"width":576},"ddim_steps":25,"model":1},"prompt":{"prompt":"细腻的细节处理，主体突出, 高光，强光，水灵灵，丰富可爱的微笑表情，背景虚化，8K，高品质，高分辨率，3D效果，3D卡通风格，卡通动物，可爱的动物，{{prompt}}"},"references":[],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":60000}},"nodeMeta":{"description":"通过文字描述/添加参考图生成图片","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg","mainColor":"#FF4DC3","subTitle":"图像生成","title":"图像生成"},"outputs":[{"assistType":2,"name":"data","type":"string"},{"name":"msg","type":"string"}]},"edges":null,"id":"105794","meta":{"position":{"x":180,"y":0}},"type":"16"}],"data":{"inputs":{"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"162311","name":"output","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"input"}],"loopCount":{"type":"integer","value":{"content":"10","type":"literal"}},"loopType":"array","variableParameters":[]},"nodeMeta":{"description":"用于通过设定循环次数和逻辑，重复执行一系列任务","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Loop-v2.jpg","mainColor":"#00B2B2","subTitle":"循环","title":"批量生成图像"},"outputs":[{"input":{"assistType":2,"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"105794","name":"data","source":"block-output"},"type":"ref"}},"name":"output"}]},"edges":[{"sourceNodeID":"181891","sourcePortID":"loop-function-inline-output","targetNodeID":"105794"},{"sourceNodeID":"105794","sourcePortID":"","targetNodeID":"181891","targetPortID":"loop-function-inline-input"}],"id":"181891","meta":{"canvasPosition":{"x":-1051.526796125063,"y":739.8738140228828},"position":{"x":-1051.526796125063,"y":539.8738140228827}},"type":"21","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"语音合成","type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"defaultValue":1,"description":"语速，范围是[0.2,3]，默认为1，通常保留一位小数即可, default value is 1","input":{},"name":"speed_ratio","required":false,"type":"float"},{"description":"要合成音频的文本内容","input":{},"name":"text","required":true,"type":"string"},{"assistType":12,"description":"voice id","input":{},"name":"voice_id","required":false,"type":"string"},{"description":"语音语种，非必填，参考 https://bytedance.larkoffice.com/docx/WdDOdiB1BoRyBNxlkXWcn0n3nLc","input":{},"name":"language","required":false,"type":"string"},{"defaultValue":"爽快思思/Skye","description":"音色ID，默认为爽快思思/Skye。详细音色列表参考 https://bytedance.larkoffice.com/docx/WdDOdiB1BoRyBNxlkXWcn0n3nLc, default value is 爽快思思/Skye","input":{},"name":"speaker_id","required":false,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"162121","name":"input","source":"block-output"},"type":"ref"}},"name":"text"},{"input":{"type":"string","value":{"content":"zh_female_zhixingnvsheng_mars_bigtts","type":"literal"}},"name":"speaker_id"},{"input":{"type":"string","value":{"content":"1","type":"literal"}},"name":"speed_ratio"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"根据音色和文本合成音频","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"语音合成:speech_synthesis","title":"speech_synthesis"},"outputs":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"link","required":false,"type":"string"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}]},"edges":null,"id":"161185","meta":{"position":{"x":180,"y":0}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7417655779794157603","type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"get_audio_duration","type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7417655779794141219","type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"获取音频时长","type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"mp3_url","input":{},"name":"mp3_url","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"161185","name":"data.link","source":"block-output"},"type":"ref"}},"name":"mp3_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"输入音频链接，获取音频时长","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"获取音频时长:get_audio_duration","title":"get_audio_duration"},"outputs":[{"name":"duration","required":false,"type":"float"},{"name":"message","required":false,"type":"string"}]},"edges":null,"id":"179403","meta":{"position":{"x":640,"y":0}},"type":"4"}],"data":{"inputs":{"inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"138891","name":"ret","source":"block-output"},"rawMeta":{"type":99},"type":"ref"}},"name":"input"}],"loopCount":{"type":"integer","value":{"content":"10","type":"literal"}},"loopType":"array","variableParameters":[]},"nodeMeta":{"description":"用于通过设定循环次数和逻辑，重复执行一系列任务","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Loop-v2.jpg","mainColor":"#00B2B2","subTitle":"循环","title":"批量生成音频"},"outputs":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"161185","name":"data.link","source":"block-output"},"type":"ref"}},"name":"MP3_urls"},{"input":{"schema":{"type":"float"},"type":"list","value":{"content":{"blockID":"179403","name":"duration","source":"block-output"},"type":"ref"}},"name":"mp3_druaction"}]},"edges":[{"sourceNodeID":"162121","sourcePortID":"loop-function-inline-output","targetNodeID":"161185"},{"sourceNodeID":"161185","sourcePortID":"","targetNodeID":"179403"},{"sourceNodeID":"179403","sourcePortID":"","targetNodeID":"162121","targetPortID":"loop-function-inline-input"}],"id":"162121","meta":{"canvasPosition":{"x":-161.52679612506296,"y":739.8738140228828},"position":{"x":-161.52679612506296,"y":539.8738140228827}},"type":"21","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"code":"\n\nasync function main({ params }: Args): Promise<Output> {\n\n    let audios = []\n    let images = []\n    let texts = []\n    let start = 0\n\n    //添加音频和字幕素材\n    for (let index = 0; index < params.mp3_urls.length; index++) {\n        let end = start + params.mp3_druations[index] * 1000000\n        //增加音频\n        audios.push({ \"audio_url\": params.mp3_urls[index], \"duration\": params.mp3_druations[index] * 1000000,\"volume\":10, \"start\": start, \"end\": end })\n        texts.push({ \"text\": params.texts[index], \"start\": start, \"end\": end, \"in_animation\": '', \"out_animation\": '' })\n        start = end\n    }\n\n    let image_start = 0\n\n    //添加图片素材\n    for (let index = 0; index < params.images.length; index++) {\n        let end = image_start + (params.mp3_druations[index * 2] + params.mp3_druations[index * 2 + 1]) * 1000000\n        images.push({\n            \"image_url\": params.images[index],\n            \"width\": 1920,\n            \"height\": 1080,\n            \"start\": image_start,\n            \"end\": end,\n            \"in_animation\": \"展开\",  //对应剪映的入场动画名字   可选\n            \"out_animation\": \"烟雾弹\", //对应剪映的出场动画名字。可选\n            \"loop_animation\": \"\",  //对应剪映的组合动画名字    可选\n            \"in_animation_duration\": 20000, //对应剪映的入场动画时长  可选\n            \"out_animation_duration\": 20000 //对应剪映的出场动画时长  可选\n        })\n        image_start = end\n    }\n\n    let effect_infos = [{\n        \"effect_title\": \"金粉闪闪\",\n        \"start\": 0,\n        \"end\": start\n    }]\n\n    let bg_mp3 = [\n        {\n            \"audio_url\": params.bg_audio,\n            \"duration\": start,\n            \"volume\":0.5,//音量\n            \"start\": 0,\n            \"end\": start\n        }\n    ]\n\n\n    return {\n        audios: JSON.stringify(audios),\n        images: JSON.stringify(images),\n        texts: JSON.stringify(texts),\n        effect_infos: JSON.stringify(effect_infos),\n        bg_mp3: JSON.stringify(bg_mp3)\n    };\n}","inputParameters":[{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"138891","name":"ret","source":"block-output"},"type":"ref"}},"name":"texts"},{"input":{"schema":{"type":"string"},"type":"list","value":{"content":{"blockID":"162121","name":"MP3_urls","source":"block-output"},"type":"ref"}},"name":"mp3_urls"},{"input":{"schema":{"type":"float"},"type":"list","value":{"content":{"blockID":"162121","name":"mp3_druaction","source":"block-output"},"type":"ref"}},"name":"mp3_druations"},{"input":{"schema":{"assistType":2,"type":"string"},"type":"list","value":{"content":{"blockID":"181891","name":"output","source":"block-output"},"type":"ref"}},"name":"images"},{"input":{"type":"string","value":{"content":" https://ve-template-0920.oss-cn-shanghai.aliyuncs.com/output_video/fewrwer3245467fgg345.mp3","type":"literal"}},"name":"bg_audio"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"组合结构代码"},"outputs":[{"name":"audios","required":false,"type":"string"},{"name":"images","required":false,"type":"string"},{"name":"texts","required":false,"type":"string"},{"name":"effect_infos","required":false,"type":"string"},{"name":"bg_mp3","required":false,"type":"string"}]},"edges":null,"id":"160165","meta":{"position":{"x":628.473203874937,"y":552.8738140228827}},"type":"5","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833883688","type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"移动transform_x","input":{},"name":"transform_x","required":false,"type":"float"},{"description":"移动transform_y","input":{},"name":"transform_y","required":false,"type":"float"},{"description":"草稿地址，使用create_draft输出的draft_url即可","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"查看说明：https://krxc4izye0.feishu.cn/wiki/Pgm9wXA4EipKhYkeEQJcLBlJnWb?from=from_copylink","input":{},"name":"image_infos","required":true,"type":"string"},{"description":"x缩放","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"y缩放","input":{},"name":"scale_y","required":false,"type":"float"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"147819","name":"draft_url","source":"block-output"},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"160165","name":"images","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"image_infos"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"批量添加图片","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"视频合成_剪映小助手:add_images","title":"add_images"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"image_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"name":"track_id","required":false,"type":"string"}]},"edges":null,"id":"170883","meta":{"position":{"x":1548.473203874937,"y":552.8738140228827}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833850920","type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_captions","type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"默认：15","input":{},"name":"font_size","required":false,"type":"integer"},{"description":"行间距，默认0","input":{},"name":"line_spacing","required":false,"type":"float"},{"description":"scale_y缩放","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"0 默认。1富文本样式","input":{},"name":"style_text","required":false,"type":"integer"},{"description":"边框颜色，eg：#fe8a80","input":{},"name":"border_color","required":false,"type":"string"},{"description":"查看说明：https://krxc4izye0.feishu.cn/wiki/HhQrw3BFhi1XGOkkJCBcfkqGnwf?from=from_copylink","input":{},"name":"captions","required":true,"type":"string"},{"description":"草稿地址，使用create_draft输出的draft_url即可","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"字体列表：https://krxc4izye0.feishu.cn/wiki/SmnrwabXriG7JckEzyGcChk4nDd","input":{},"name":"font","required":false,"type":"string"},{"description":"transform_x位置","input":{},"name":"transform_x","required":false,"type":"float"},{"description":"transform_y位置","input":{},"name":"transform_y","required":false,"type":"float"},{"description":"字幕的对齐方式，0左对齐，1 居中对齐，2右对齐","input":{},"name":"alignment","required":false,"type":"integer"},{"description":"字间距，默认0","input":{},"name":"letter_spacing","required":false,"type":"float"},{"description":"scale_x缩放","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"文字颜色：#ff1837","input":{},"name":"text_color","required":false,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"160165","name":"texts","source":"block-output"},"type":"ref"}},"name":"captions"},{"input":{"type":"string","value":{"content":{"blockID":"147819","name":"draft_url","source":"block-output"},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":"#000000","type":"literal"}},"name":"border_color"},{"input":{"type":"string","value":{"content":"14","type":"literal"}},"name":"font_size"},{"input":{"type":"string","value":{"content":"#FFDE02","type":"literal"}},"name":"text_color"},{"input":{"type":"string","value":{"content":"-600","type":"literal"}},"name":"transform_y"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"批量添加字幕","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"视频合成_剪映小助手:add_captions","title":"add_captions"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_infos","required":false,"schema":{"schema":[{"name":"end","required":false,"type":"integer"},{"name":"id","required":false,"type":"string"},{"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"name":"text_ids","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"188540","meta":{"position":{"x":2008.473203874937,"y":552.8738140228827}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833834536","type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"[{\"audio_url\": \"http://example.com/audio1.mp3\",\"duration\":120,\"start\":0,\"end\":12000000,\"audio_effect\":\"教堂\"}]","input":{},"name":"audio_infos","required":true,"type":"string"},{"description":"草稿地址，使用create_draft输出的draft_url即可","input":{},"name":"draft_url","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"160165","name":"audios","source":"block-output"},"type":"ref"}},"name":"audio_infos"},{"input":{"type":"string","value":{"content":{"blockID":"147819","name":"draft_url","source":"block-output"},"type":"ref"}},"name":"draft_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"批量添加音频","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"视频合成_剪映小助手:add_audios","title":"add_audios"},"outputs":[{"name":"audio_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"draft_url","required":false,"type":"string"},{"name":"track_id","required":false,"type":"string"}]},"edges":null,"id":"154601","meta":{"position":{"x":3388.473203874937,"y":552.8738140228827}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837955684515874","type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"create_draft","type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"高","input":{},"name":"height","required":false,"type":"integer"},{"description":"关联创作者","input":{},"name":"user_id","required":false,"type":"integer"},{"description":"宽","input":{},"name":"width","required":false,"type":"integer"}],"inputParameters":[{"input":{"type":"string","value":{"content":"1024","type":"literal"}},"name":"height"},{"input":{"type":"string","value":{"content":"576","type":"literal"}},"name":"width"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"创建草稿","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"视频合成_剪映小助手:create_draft","title":"create_draft"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"tip_url","required":false,"type":"string"}]},"edges":null,"id":"147819","meta":{"position":{"x":1088.473203874937,"y":540.8738140228827}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837955684548642","type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"save_draft","type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"草稿地址，使用create_draft输出的draft_url即可","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"用户ID。如果填写了这个ID，新用户产生的月费就会按照比例归属到这个账号下。","input":{},"name":"user_id","required":false,"type":"integer"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"147819","name":"draft_url","source":"block-output"},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":"14","type":"literal"}},"name":"user_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"保存草稿\n","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"视频合成_剪映小助手:save_draft","title":"save_draft"},"outputs":[{"name":"draft_url","required":false,"type":"string"},{"name":"message","required":false,"type":"string"}]},"edges":null,"id":"128280","meta":{"position":{"x":4208.473203874937,"y":552.8738140228827}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7466630948491231268","type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_effects","type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"草稿地址，使用create_draft输出的draft_url即可","input":{},"name":"draft_url","required":true,"type":"string"},{"description":"特效数组内容，eg:[{\"effect_title\":\"金粉闪闪\",\"end\":5000000,\"start\":0}]","input":{},"name":"effect_infos","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"147819","name":"draft_url","source":"block-output"},"type":"ref"}},"name":"draft_url"},{"input":{"type":"string","value":{"content":{"blockID":"160165","name":"effect_infos","source":"block-output"},"type":"ref"}},"name":"effect_infos"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"添加特效","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"视频合成_剪映小助手:add_effects","title":"add_effects"},"outputs":[{"name":"track_id","required":false,"type":"string"},{"name":"draft_url","required":false,"type":"string"},{"name":"effect_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"segment_ids","required":false,"schema":{"type":"string"},"type":"list"}]},"edges":null,"id":"173138","meta":{"position":{"x":2468.473203874937,"y":552.8738140228827}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7457837925833834536","type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7457837925833801768","type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频合成_剪映小助手","type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"[{\"audio_url\": \"http://example.com/audio1.mp3\",\"duration\":120,\"start\":0,\"end\":12000000,\"audio_effect\":\"教堂\"}]","input":{},"name":"audio_infos","required":true,"type":"string"},{"description":"草稿地址，使用create_draft输出的draft_url即可","input":{},"name":"draft_url","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"160165","name":"bg_mp3","source":"block-output"},"type":"ref"}},"name":"audio_infos"},{"input":{"type":"string","value":{"content":{"blockID":"147819","name":"draft_url","source":"block-output"},"type":"ref"}},"name":"draft_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"批量添加音频","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"视频合成_剪映小助手:add_audios","title":"增加背景音乐"},"outputs":[{"name":"audio_ids","required":false,"schema":{"type":"string"},"type":"list"},{"name":"draft_url","required":false,"type":"string"},{"name":"track_id","required":false,"type":"string"}]},"edges":null,"id":"199695","meta":{"position":{"x":2928.473203874937,"y":552.8738140228827}},"type":"4","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}},{"blocks":[],"data":{"inputs":{"note":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"视频所需的资源，草稿所需的格式都准备完毕，下一步就是添加进入草稿\",\"type\":\"text\"}]}]","schemaType":"slate"},"size":{"height":150,"width":240}},"edges":null,"id":"186990","meta":{"position":{"x":861.1277709800396,"y":289.04799330806816}},"type":"31","_temp":{"bounds":{"x":0,"y":0,"width":0,"height":0}}}],"versions":{"loop":"v2"}}}