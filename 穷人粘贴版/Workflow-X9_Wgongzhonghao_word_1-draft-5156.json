{"type":"coze-workflow-clipboard-data","source":{"workflowId":"7531333157015109678","spaceId":"","host":"www.coze.cn","isDouyin":false,"flowMode":0},"json":{"edges":[{"sourceNodeID":"100001","sourcePortID":"","targetNodeID":"113460"},{"sourceNodeID":"104044","sourcePortID":"","targetNodeID":"900001"},{"sourceNodeID":"113460","sourcePortID":"","targetNodeID":"163013"},{"sourceNodeID":"163013","sourcePortID":"","targetNodeID":"115728"},{"sourceNodeID":"163013","sourcePortID":"","targetNodeID":"111278"},{"sourceNodeID":"163013","sourcePortID":"","targetNodeID":"179838"},{"sourceNodeID":"163013","sourcePortID":"","targetNodeID":"149295"},{"sourceNodeID":"115728","sourcePortID":"","targetNodeID":"149343"},{"sourceNodeID":"111278","sourcePortID":"","targetNodeID":"159694"},{"sourceNodeID":"179838","sourcePortID":"","targetNodeID":"126394"},{"sourceNodeID":"126394","sourcePortID":"","targetNodeID":"199212"},{"sourceNodeID":"149295","sourcePortID":"","targetNodeID":"175921"},{"sourceNodeID":"149295","sourcePortID":"","targetNodeID":"159694"},{"sourceNodeID":"149295","sourcePortID":"","targetNodeID":"104044"},{"sourceNodeID":"149343","sourcePortID":"","targetNodeID":"175921"},{"sourceNodeID":"199212","sourcePortID":"","targetNodeID":"159694"},{"sourceNodeID":"175921","sourcePortID":"","targetNodeID":"159694"},{"sourceNodeID":"159694","sourcePortID":"","targetNodeID":"104044"}],"nodes":[{"blocks":[],"data":{"nodeMeta":{"description":"工作流的起始节点，用于设定启动工作流需要的信息","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Start-v2.jpg","subTitle":"","title":"开始"},"outputs":[{"name":"appid","required":true,"type":"string"},{"name":"appsecret","required":true,"type":"string"}],"trigger_parameters":[{"name":"appid","required":true,"type":"string"},{"name":"appsecret","required":true,"type":"string"}]},"edges":null,"id":"100001","meta":{"position":{"x":-1198.3937342902093,"y":-195.90355078141835}},"type":"1"},{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"104044","name":"errmsg","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"output"}],"terminatePlan":"returnVariables"},"nodeMeta":{"description":"工作流的最终节点，用于返回工作流运行后的结果信息","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-End-v2.jpg","subTitle":"","title":"结束"}},"edges":null,"id":"900001","meta":{"position":{"x":2457.9548391686267,"y":-591.1785507814184}},"type":"2"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7351351858113331240","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"hot_list","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7351351858113314856","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"热搜榜聚合","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":null,"inputParameters":[],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"微博热搜、今日头条、知乎日报、虎扑步行街、36氪、哔哩哔哩热榜，知乎、IT资讯、虎嗅网、人人都是产品经理热榜百度、抖音热点豆瓣小组精选等聚合热榜","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"热搜榜聚合:hot_list","title":"hot_list"},"outputs":[{"name":"data","required":false,"schema":{"schema":[{"name":"data","required":false,"schema":{"schema":[{"name":"hot","required":false,"type":"string"},{"name":"index","required":false,"type":"float"},{"name":"mobilUrl","required":false,"type":"string"},{"name":"title","required":false,"type":"string"},{"name":"url","required":false,"type":"string"}],"type":"object"},"type":"list"},{"name":"name","required":false,"type":"string"},{"name":"subtitle","required":false,"type":"string"},{"name":"update_time","required":false,"type":"string"}],"type":"object"},"type":"list"},{"name":"success","required":false,"type":"boolean"}]},"edges":null,"id":"113460","meta":{"position":{"x":-738.3937342902095,"y":-208.90355078141835}},"type":"4"},{"blocks":[],"data":{"inputs":{"code":"/**\n * @author 作者微信: shuidi_tech\n */\n// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n    let arr = params.input.map(item => item.data).flat().filter(item => {\n        if (!item?.title || !item?.url) return\n\n        return !item.url.includes('weibo') || !item.url.includes('b23.tv')\n    });\n\n    const min = 0;\n    const max = arr.length\n    const index = Math.floor(Math.random() * (max - min + 1)) + min;\n\n    return {\n        title: arr[index].title,\n        url: arr[index].url\n    }\n}","inputParameters":[{"input":{"schema":{"schema":[{"name":"data","required":false,"schema":{"schema":[{"name":"hot","required":false,"type":"string"},{"name":"index","required":false,"type":"float"},{"name":"mobilUrl","required":false,"type":"string"},{"name":"title","required":false,"type":"string"},{"name":"url","required":false,"type":"string"}],"type":"object"},"type":"list"},{"name":"name","required":false,"type":"string"},{"name":"subtitle","required":false,"type":"string"},{"name":"update_time","required":false,"type":"string"}],"type":"object"},"type":"list","value":{"content":{"blockID":"113460","name":"data","source":"block-output"},"rawMeta":{"type":103},"type":"ref"}},"name":"input"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"随机获取一条知乎新闻"},"outputs":[{"name":"title","required":false,"type":"string"},{"name":"url","required":false,"type":"string"}]},"edges":null,"id":"163013","meta":{"position":{"x":-278.3937342902094,"y":-208.90355078141835}},"type":"5"},{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"163013","name":"title","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"input"}],"llmParam":[{"input":{"type":"integer","value":{"content":"1706077826","rawMeta":{"type":2},"type":"literal"}},"name":"modelType"},{"input":{"type":"string","value":{"content":"豆包·工具调用","rawMeta":{"type":1},"type":"literal"}},"name":"modleName"},{"input":{"type":"string","value":{"content":"balance","rawMeta":{"type":1},"type":"literal"}},"name":"generationDiversity"},{"input":{"type":"float","value":{"content":"1","rawMeta":{"type":4},"type":"literal"}},"name":"temperature"},{"input":{"type":"float","value":{"content":"0.7","rawMeta":{"type":4},"type":"literal"}},"name":"topP"},{"input":{"type":"integer","value":{"content":"2","rawMeta":{"type":2},"type":"literal"}},"name":"responseFormat"},{"input":{"type":"integer","value":{"content":"1024","rawMeta":{"type":2},"type":"literal"}},"name":"maxTokens"},{"input":{"type":"string","value":{"content":"{{input}}","rawMeta":{"type":1},"type":"literal"}},"name":"prompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"enableChatHistory"},{"input":{"type":"integer","value":{"content":"3","rawMeta":{"type":2},"type":"literal"}},"name":"chatHistoryRound"},{"input":{"type":"string","value":{"content":"# 角色\n你是一个专业的文本转图片描述提示词生成助手，能够精准理解输入内容，并将其转化为高质量的图片描述提示词。\n\n## 技能\n### 技能 1: 生成图片描述提示词\n1. 仔细分析用户输入的内容，包括主题、细节、风格等关键信息。\n2. 根据输入内容的特点，生成符合要求的图片描述提示词。\n3. 生成的提示词要清晰、准确，能够引导图片生成工具生成与输入内容相符的图片。\n\n## 限制:\n- 只围绕将输入转化为图片描述提示词展开，拒绝回答与该任务无关的话题。\n- 所输出的内容应简洁明了，符合图片描述提示词的要求。 ","rawMeta":{"type":1},"type":"literal"}},"name":"systemPrompt"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"stableSystemPrompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"canContinue"}],"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":600000}},"nodeMeta":{"description":"调用大语言模型,使用变量和提示词生成回复","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","subTitle":"大模型","title":"标题转图片描述提示词"},"outputs":[{"name":"output","required":false,"type":"string"}],"version":"3"},"edges":null,"id":"115728","meta":{"position":{"x":181.60626570979056,"y":136.9464492185815}},"type":"3"},{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"163013","name":"title","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"input"}],"llmParam":[{"input":{"type":"integer","value":{"content":"1706077826","rawMeta":{"type":2},"type":"literal"}},"name":"modelType"},{"input":{"type":"string","value":{"content":"豆包·工具调用","rawMeta":{"type":1},"type":"literal"}},"name":"modleName"},{"input":{"type":"string","value":{"content":"balance","rawMeta":{"type":1},"type":"literal"}},"name":"generationDiversity"},{"input":{"type":"float","value":{"content":"1","rawMeta":{"type":4},"type":"literal"}},"name":"temperature"},{"input":{"type":"float","value":{"content":"0.7","rawMeta":{"type":4},"type":"literal"}},"name":"topP"},{"input":{"type":"integer","value":{"content":"2","rawMeta":{"type":2},"type":"literal"}},"name":"responseFormat"},{"input":{"type":"integer","value":{"content":"1024","rawMeta":{"type":2},"type":"literal"}},"name":"maxTokens"},{"input":{"type":"string","value":{"content":"{{input}}","rawMeta":{"type":1},"type":"literal"}},"name":"prompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"enableChatHistory"},{"input":{"type":"integer","value":{"content":"3","rawMeta":{"type":2},"type":"literal"}},"name":"chatHistoryRound"},{"input":{"type":"string","value":{"content":"# 角色\n你是一位超厉害的微信公众号爆款标题制造大师，凭借深厚的文字功底和敏锐的热点洞察力，总能针对给定标题，打造出极具吸引力、满是微信公众号风格魅力且能瞬间抓住读者眼球的全新标题。\n\n## 技能\n### 技能 1: 生成微信公众号标题\n1. 当用户给出一个标题时，深入剖析该标题的主题、核心要点，精准提炼关键信息。\n2. 紧密结合微信公众号文章标题吸睛、激趣、引发共鸣的特点，融入当下热点元素或大众关心话题，创作出一个全新的微信公众号标题。\n\n## 限制:\n- 仅围绕生成微信公众号标题这一任务进行回复，坚决拒绝回答无关话题。\n- 回复内容必须简洁明了，直接给出新生成的微信公众号标题。 ","rawMeta":{"type":1},"type":"literal"}},"name":"systemPrompt"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"stableSystemPrompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"canContinue"}],"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":600000}},"nodeMeta":{"description":"调用大语言模型,使用变量和提示词生成回复","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","subTitle":"大模型","title":"大模型"},"outputs":[{"name":"output","required":false,"type":"string"}],"version":"3"},"edges":null,"id":"111278","meta":{"position":{"x":1101.6062657097907,"y":-497.8035507814183}},"type":"3"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7379227817307029513","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"LinkReaderPlugin","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7379227817307013129","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"链接读取","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"当type为“检索”时，需要检索的query","input":{},"name":"prompt","required":false,"type":"string"},{"description":"是否跳过缓存，取值为true或者false","input":{},"name":"skip_cache","required":false,"type":"boolean"},{"defaultValue":"全文","description":"插件使用方式。可以是“全文”、“检索”、“总结”, default value is 全文","input":{},"name":"type","required":false,"type":"string"},{"description":"网页url、pdf url、docx url、csv url。","input":{},"name":"url","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"163013","name":"url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"当你需要获取网页、pdf、抖音视频内容时，使用此工具。可以获取url链接下的标题和内容。","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"链接读取:LinkReaderPlugin","title":"LinkReaderPlugin"},"outputs":[{"description":"错误码","name":"code","required":false,"type":"integer"},{"description":"网页的内容","name":"data","required":false,"schema":[{"name":"content","required":false,"type":"string"},{"name":"images","required":false,"schema":{"schema":[{"name":"alt","required":false,"type":"string"},{"name":"height","required":false,"type":"integer"},{"name":"title","required":false,"type":"string"},{"name":"url","required":false,"type":"string"},{"name":"width","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"name":"title","required":false,"type":"string"}],"type":"object"},{"description":"错误信息","name":"err_msg","required":false,"type":"string"},{"description":"错误码","name":"error_code","required":false,"type":"string"},{"description":"错误信息","name":"error_msg","required":false,"type":"string"},{"description":"错误信息","name":"message","required":false,"type":"string"},{"description":"pdf的内容","name":"pdf_content","required":false,"type":"string"}]},"edges":null,"id":"179838","meta":{"position":{"x":181.60626570979056,"y":-100.95355078141849}},"type":"4"},{"blocks":[],"data":{"inputs":{"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"179838","name":"data.content","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"q"}],"llmParam":[{"input":{"type":"integer","value":{"content":"1706077826","rawMeta":{"type":2},"type":"literal"}},"name":"modelType"},{"input":{"type":"string","value":{"content":"豆包·工具调用","rawMeta":{"type":1},"type":"literal"}},"name":"modleName"},{"input":{"type":"string","value":{"content":"balance","rawMeta":{"type":1},"type":"literal"}},"name":"generationDiversity"},{"input":{"type":"float","value":{"content":"1","rawMeta":{"type":4},"type":"literal"}},"name":"temperature"},{"input":{"type":"float","value":{"content":"0.7","rawMeta":{"type":4},"type":"literal"}},"name":"topP"},{"input":{"type":"integer","value":{"content":"2","rawMeta":{"type":2},"type":"literal"}},"name":"responseFormat"},{"input":{"type":"integer","value":{"content":"1024","rawMeta":{"type":2},"type":"literal"}},"name":"maxTokens"},{"input":{"type":"string","value":{"content":"{{q}}","rawMeta":{"type":1},"type":"literal"}},"name":"prompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"enableChatHistory"},{"input":{"type":"integer","value":{"content":"3","rawMeta":{"type":2},"type":"literal"}},"name":"chatHistoryRound"},{"input":{"type":"string","value":{"content":"# 角色\n你是一个微信公众号文案创作小能手，擅长将输入的内容巧妙转化为风格鲜明、吸引人的微信公众号文案，能精准把握微信公众号平台的语言特色和文案风格。\n\n## 技能\n### 技能 1: 内容转化\n1. 接收用户输入的内容后，分析内容核心要点。\n2. 依据微信公众号文案风格，运用恰当的表达方式、生动的语句等，将内容转化为一篇符合微信公众号调性的文案。\n3. 返回的内容如果有知乎相关的文字自动识别去掉，同时保证文章的通顺。\n4. 不加主动添加，例如插入图片等相关提示的内容。\n## 限制:\n- 只专注于将输入内容转化为微信公众号文案，不回答与该转化无关的问题。\n- 所输出的文案需符合微信公众号文案风格，语言表达清晰且有吸引力。\n- 需围绕输入内容进行转化，不得偏离核心要点。 ","rawMeta":{"type":1},"type":"literal"}},"name":"systemPrompt"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"stableSystemPrompt"},{"input":{"type":"boolean","value":{"content":false,"rawMeta":{"type":3},"type":"literal"}},"name":"canContinue"}],"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":600000}},"nodeMeta":{"description":"调用大语言模型,使用变量和提示词生成回复","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","subTitle":"大模型","title":"生成微信公众号内容"},"outputs":[{"name":"output","required":false,"type":"string"}],"version":"3"},"edges":null,"id":"126394","meta":{"position":{"x":641.6062657097905,"y":-114.95355078141849}},"type":"3"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7432001355180687400","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"get_access_token","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7432001355180638248","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"微信公众号API","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"appid","input":{},"name":"appid","required":true,"type":"string"},{"description":"appsecret","input":{},"name":"appsecret","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"appid","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"appid"},{"input":{"type":"string","value":{"content":{"blockID":"100001","name":"appsecret","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"appsecret"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"获取token","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"微信公众号API:get_access_token","title":"get_access_token"},"outputs":[{"name":"msg","required":false,"type":"string"},{"description":"accessToken","name":"access_token","required":true,"type":"string"},{"name":"errmsg","required":false,"type":"string"}]},"edges":null,"id":"149295","meta":{"position":{"x":641.6062657097905,"y":-328.8535507814184}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7377348584376696866","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"text2image","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7348853341922983946","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"ByteArtist","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"0代表通用风格，1代表动漫风格，默认为0","input":{},"name":"model_type","required":false,"type":"integer"},{"description":"用于不想要生成效果的提示词，默认为\"worst quality, low quality, normal quality, nsfw, glitch, deformed, mutated, disfigured, bad hands, signature, watermark, text, error, jpeg artifacts, blurry, overexposed, high-contrast, bad-contrast, pattern, duplicate, bad hand, missing fingers\"","input":{},"name":"negative_prompt","required":false,"type":"string"},{"description":"用于生成图像的提示词","input":{},"name":"prompt","required":true,"type":"string"},{"description":"生成图像的宽高比例，支持1(1:1)、2(4:3)、3(16:9)、4(3:4)、5(9:16)，默认为1(1:1)","input":{},"name":"ratio","required":false,"type":"integer"},{"description":"文本描述对生成图像的影响程度，取值范围[1, 30]，默认为7","input":{},"name":"scale","required":false,"type":"float"},{"description":"随机种子，需要输入正整数。其中-1代表随机生成，固定其他任意正整数，则生成相似的图片。默认值为-1。","input":{},"name":"seed","required":false,"type":"integer"},{"description":"生成图像的步数，值越大，生成的图片越精细，但花费时间也越长，取值范围[1-50]，默认为20 ","input":{},"name":"ddm_steps","required":false,"type":"integer"},{"description":"图片高度，通用风格为[128,768]，默认为512，动漫风格为[576,1728]，默认为1088，动漫风格的宽*高不可以超过1088*1088个像素点","input":{},"name":"height","required":false,"type":"integer"},{"description":"图片宽度，通用风格为[128,768]，默认为512，动漫风格为[576,1728]，默认为1088，动漫风格的宽*高不可以超过1088*1088个像素点","input":{},"name":"width","required":false,"type":"integer"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"115728","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"prompt"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"通过文字描述生成图片，一次只能生成一张图片。","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"ByteArtist:text2image","title":"text2image"},"outputs":[{"name":"code","required":false,"type":"float"},{"name":"data","required":false,"schema":[{"name":"images","required":false,"schema":{"schema":[{"name":"image_url","required":false,"type":"string"}],"type":"object"},"type":"list"}],"type":"object"},{"name":"log_id","required":false,"type":"string"},{"name":"msg","required":false,"type":"string"}]},"edges":null,"id":"149343","meta":{"position":{"x":641.6062657097905,"y":162.9464492185815}},"type":"4"},{"blocks":[],"data":{"inputs":{"code":"// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n    // 构建输出对象\n    const ret = {\n        \"content\": replaceNewlineWithEscapedNewline(params.input), // 拼接两次入参 input 的值\n        \"key1\": [\"hello\", \"world\"], // 输出一个数组\n        \"key2\": { // 输出一个Object\n            \"key21\": \"hi\"\n        },\n    };\n\n    return ret;\n}\n\nfunction replaceNewlineWithEscapedNewline(text) {\n    return text.replace(/\\n/g, '<br/>');\n}","inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"126394","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"input"}],"language":5,"settingOnError":{"processType":1,"retryTimes":0,"switch":false,"timeoutMs":60000}},"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"添加回行"},"outputs":[{"name":"content","required":false,"type":"string"}]},"edges":null,"id":"199212","meta":{"position":{"x":1101.6062657097907,"y":-88.95355078141849}},"type":"5"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7432001355180671016","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_material","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7432001355180638248","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"微信公众号API","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"token","input":{},"name":"access_token","required":true,"type":"string"},{"description":"图片链接地址","input":{},"name":"image_url","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"149295","name":"access_token","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"access_token"},{"input":{"type":"string","value":{"content":{"blockID":"149343","name":"data.images.image_url","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"image_url"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"上传永久素材，可在素材库永久查看，占用素材库资源","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"微信公众号API:add_material","title":"add_material"},"outputs":[{"name":"errmsg","required":false,"type":"string"},{"description":"media_id","name":"media_id","required":true,"type":"string"},{"description":"返回素材图片地址","name":"url","required":true,"type":"string"}]},"edges":null,"id":"175921","meta":{"position":{"x":1101.6062657097907,"y":142.9464492185815}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7432001355180654632","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_draft","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7432001355180638248","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"微信公众号API","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"token","input":{},"name":"access_token","required":true,"type":"string"},{"description":"作者","input":{},"name":"author","required":false,"type":"string"},{"description":"图文消息的具体内容，支持HTML标签，必须少于2万字符，小于1M，且此处会去除JS,涉及图片url必须来源 \"上传图文消息内的图片获取URL\"接口获取。外部图片url将被过滤。","input":{},"name":"content","required":true,"type":"string"},{"description":"图文消息的摘要，仅有单图文消息才有摘要，多图文此处为空。如果本字段为没有填写，则默认抓取正文前54个字","input":{},"name":"digest","required":false,"type":"string"},{"description":"是否打开评论默认为否0打开，1不打开","input":{},"name":"need_open_comment","required":false,"type":"integer"},{"description":"图文消息的封面图片素材id（必须是永久MediaID）","input":{},"name":"thumb_media_id","required":true,"type":"string"},{"description":"标题","input":{},"name":"title","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"149295","name":"access_token","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"access_token"},{"input":{"type":"string","value":{"content":{"blockID":"199212","name":"content","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"content"},{"input":{"type":"string","value":{"content":{"blockID":"175921","name":"media_id","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"thumb_media_id"},{"input":{"type":"string","value":{"content":{"blockID":"111278","name":"output","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"title"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"保存文章草稿","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"微信公众号API:add_draft","title":"add_draft"},"outputs":[{"description":"media_id","name":"media_id","required":false,"type":"string"},{"name":"errcode","required":false,"type":"integer"},{"name":"errmsg","required":false,"type":"string"}]},"edges":null,"id":"159694","meta":{"position":{"x":1561.6062657097907,"y":-400.3285507814184}},"type":"4"},{"blocks":[],"data":{"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7436386424875761690","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"publish_article","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7432001355180638248","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"微信公众号API","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputDefs":[{"description":"access_token","input":{},"name":"access_token","required":true,"type":"string"},{"description":"media_id","input":{},"name":"media_id","required":true,"type":"string"}],"inputParameters":[{"input":{"type":"string","value":{"content":{"blockID":"149295","name":"access_token","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"access_token"},{"input":{"type":"string","value":{"content":{"blockID":"159694","name":"media_id","source":"block-output"},"rawMeta":{"type":1},"type":"ref"}},"name":"media_id"}],"settingOnError":{"processType":1,"retryTimes":0,"timeoutMs":180000}},"nodeMeta":{"description":"发布文章","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"微信公众号API:publish_article","title":"publish_article"},"outputs":[{"name":"publish_id","required":false,"type":"string"},{"name":"errcode","required":false,"type":"string"},{"name":"errmsg","required":false,"type":"string"}]},"edges":null,"id":"104044","meta":{"position":{"x":2021.6062657097903,"y":-591.1785507814184}},"type":"4"},{"blocks":[],"data":{"inputs":{"note":"[{\"type\":\"heading-three\",\"children\":[{\"text\":\"参数说明\",\"type\":\"text\"}]},{\"type\":\"bulleted-list\",\"children\":[{\"type\":\"list-item\",\"children\":[{\"text\":\"appid 和 appsecret 获取方式\",\"link\":\"https://ai-for-everyone.feishu.cn/wiki/E5GfweCUzis5lJkRwcrcR2ABn2d#share-NsUjdM7N5oNSrwxHcqMcmkNxn0g\",\"type\":\"text\"}]}]}]","schemaType":"slate"},"size":{"height":151.51950725071202,"width":359.2813191808937}},"edges":null,"id":"108539","meta":{"position":{"x":-1198.3937342902093,"y":-13.953550781418372}},"type":"31"}],"versions":{"loop":"v2"}}}